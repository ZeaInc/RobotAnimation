{"version":3,"file":"index.esm.js","sources":["../src/Handles/Handle.js","../src/Handles/BaseLinearMovementHandle.js","../src/UndoRedo/Change.js","../src/UndoRedo/UndoRedoManager.js","../src/UndoRedo/Changes/ParameterValueChange.js","../src/Handles/Shaders/HandleGeomDataShader.js","../src/Handles/Shaders/HandleShader.js","../src/Handles/transformVertices.js","../src/Handles/LinearMovementHandle.js","../src/Handles/BaseAxialRotationHandle.js","../src/Handles/AxialRotationHandle.js","../src/Handles/LinearScaleHandle.js","../src/Handles/SphericalRotationHandle.js","../src/Handles/PlanarMovementHandle.js","../src/Handles/XfoPlanarMovementHandle.js","../src/Handles/XfoHandle.js","../src/SelectionGroupXfoOperator.js","../src/SelectionGroup.js","../src/UndoRedo/Changes/SelectionChange.js","../src/UndoRedo/Changes/SelectionVisibilityChange.js","../src/SelectionManager.js","../src/UndoRedo/Changes/TreeItemAddChange.js","../src/UndoRedo/Changes/TreeItemMoveChange.js","../src/UndoRedo/Changes/TreeItemsRemoveChange.js","../src/Tools/ToolManager.js","../src/Tools/BaseTool.js","../src/Tools/ViewTool.js","../src/Tools/SelectionTool.js","../src/Tools/VRTools/OpenVRUITool.js","../src/Tools/VRTools/dom-to-image.js","../src/Tools/VRTools/VRControllerUI.js","../src/Tools/VRTools/VRUITool.js","../src/Tools/VRTools/VRHoldObjectsTool.js","../src/Tools/BaseCreateTool.js","../src/Tools/CreateTools/CreateGeomTool.js","../src/Tools/CreateTools/Change/CreateGeomChange.js","../src/Tools/CreateTools/Change/CreateLineChange.js","../src/Tools/CreateTools/CreateLineTool.js","../src/Tools/CreateTools/Change/CreateCircleChange.js","../src/Tools/CreateTools/CreateCircleTool.js","../src/Tools/CreateTools/Change/CreateRectChange.js","../src/Tools/CreateTools/CreateRectTool.js","../src/Tools/CreateTools/Change/CreateFreehandLineChange.js","../src/Tools/CreateTools/CreateFreehandLineTool.js","../src/Tools/CreateTools/Change/CreateSphereChange.js","../src/Tools/CreateTools/CreateSphereTool.js","../src/Tools/CreateTools/Change/CreateCuboidChange.js","../src/Tools/CreateTools/CreateCuboidTool.js","../src/Tools/CreateTools/Change/CreateConeChange.js","../src/Tools/HandleTool.js","../src/Handles/SliderHandle.js","../src/Handles/ArcSlider.js","../src/Handles/ScreenSpaceMovementHandle.js"],"sourcesContent":["import { TreeItem, Ray } from '@zeainc/zea-engine'\r\n\r\n/**\r\n * A Handle is a UI widget that lives in the scene.\r\n * Much like a slider, it translates a series of mouse events into a higher level interaction.\r\n *\r\n * @extends TreeItem\r\n */\r\nclass Handle extends TreeItem {\r\n  /**\r\n   * Creates an instance of Handle.\r\n   *\r\n   * @param {string} name - The name value.\r\n   */\r\n  constructor(name) {\r\n    super(name)\r\n\r\n    this.captured = false\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Returns the manipulation plane of the handle, denoting a start and a direction.\r\n   *\r\n   * @return {Ray} The return value.\r\n   */\r\n  getManipulationPlane() {\r\n    const xfo = this.getParameter('GlobalXfo').getValue()\r\n    return new Ray(xfo.tr, xfo.ori.getZaxis())\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Event fired when a pointing device is initially moved within the space of the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseEnter(event) {\r\n    this.highlight()\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device moves outside of the space of the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseLeave(event) {\r\n    this.unhighlight()\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is pressed while the pointer is over the handle element.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseDown(event) {\r\n    event.setCapture(this)\r\n    event.stopPropagation()\r\n    this.captured = true\r\n    if (event.viewport) this.handleMouseDown(event)\r\n    else if (event.vrviewport) this.onVRControllerButtonDown(event)\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device is moved while the cursor's hotspot is over the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseMove(event) {\r\n    if (this.captured) {\r\n      event.stopPropagation()\r\n      if (event.viewport) this.handleMouseMove(event)\r\n      else if (event.vrviewport) this.onVRPoseChanged(event)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is released while the pointer is over the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseUp(event) {\r\n    if (this.captured) {\r\n      event.releaseCapture()\r\n      event.stopPropagation()\r\n      this.captured = false\r\n      if (event.viewport) this.handleMouseUp(event)\r\n      else if (event.vrviewport) this.onVRControllerButtonUp(event)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user rotates the pointing device wheel over the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onWheel(event) {}\r\n\r\n  /**\r\n   * Handles mouse down interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseDown(event) {\r\n    this.gizmoRay = this.getManipulationPlane()\r\n    const dist = event.mouseRay.intersectRayPlane(this.gizmoRay)\r\n    event.grabPos = event.mouseRay.pointAtDist(dist)\r\n    this.onDragStart(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles mouse move interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param\r\n   * @return { boolean } - The return value\r\n   */\r\n  handleMouseMove(event) {\r\n    const dist = event.mouseRay.intersectRayPlane(this.gizmoRay)\r\n    event.holdPos = event.mouseRay.pointAtDist(dist)\r\n    this.onDrag(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles mouse up interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseUp(event) {\r\n    const dist = event.mouseRay.intersectRayPlane(this.gizmoRay)\r\n    event.releasePos = event.mouseRay.pointAtDist(dist)\r\n    this.onDragEnd(event)\r\n    return true\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed over the handle.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    this.activeController = event.controller\r\n    const xfo = this.activeController.getTipXfo().clone()\r\n\r\n    const gizmoRay = this.getManipulationPlane()\r\n    const offset = xfo.tr.subtract(gizmoRay.start)\r\n    const grabPos = xfo.tr.subtract(gizmoRay.dir.scale(offset.dot(gizmoRay.dir)))\r\n    event.grabPos = grabPos\r\n    this.onDragStart(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    if (this.activeController) {\r\n      const xfo = this.activeController.getTipXfo()\r\n      const gizmoRay = this.getManipulationPlane()\r\n      const offset = xfo.tr.subtract(gizmoRay.start)\r\n      const holdPos = xfo.tr.subtract(gizmoRay.dir.scale(offset.dot(gizmoRay.dir)))\r\n      event.holdPos = holdPos\r\n      this.onDrag(event)\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is released over the handle.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    if (this.activeController == event.controller) {\r\n      const xfo = this.activeController.getTipXfo()\r\n      this.onDragEnd(event, xfo.tr)\r\n      this.activeController = undefined\r\n      return true\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Interaction events\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    console.log('onDragStart', event)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    console.log('onDrag', event)\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    console.log('onDragEnd', event)\r\n  }\r\n}\r\n\r\nexport default Handle\r\nexport { Handle }\r\n","import Handle from './Handle'\r\n\r\n/**\r\n * Class representing a base linear movement scene widget.\r\n *\r\n * @extends Handle\r\n */\r\nclass BaseLinearMovementHandle extends Handle {\r\n  /**\r\n   * Create base linear movement scene widget.\r\n   * @param {string} name - The name value.\r\n   */\r\n  constructor(name) {\r\n    super(name)\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Handles mouse down interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseDown(event) {\r\n    this.gizmoRay = this.getManipulationPlane()\r\n    this.grabDist = event.mouseRay.intersectRayVector(this.gizmoRay)[1]\r\n    const grabPos = this.gizmoRay.pointAtDist(this.grabDist)\r\n    event.grabDist = this.grabDist\r\n    event.grabPos = grabPos\r\n    this.onDragStart(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles mouse move interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param\r\n   */\r\n  handleMouseMove(event) {\r\n    const dist = event.mouseRay.intersectRayVector(this.gizmoRay)[1]\r\n    const holdPos = this.gizmoRay.pointAtDist(dist)\r\n    event.holdDist = dist\r\n    event.holdPos = holdPos\r\n    event.value = dist\r\n    event.delta = dist - this.grabDist\r\n    this.onDrag(event)\r\n  }\r\n\r\n  /**\r\n   * Handles mouse up interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseUp(event) {\r\n    const dist = event.mouseRay.intersectRayVector(this.gizmoRay)[1]\r\n    const releasePos = this.gizmoRay.pointAtDist(dist)\r\n    event.releasePos = releasePos\r\n    this.onDragEnd(event)\r\n    return true\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed over the handle.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    this.gizmoRay = this.getManipulationPlane()\r\n\r\n    this.activeController = event.controller\r\n    const xfo = this.activeController.getTipXfo()\r\n    this.grabDist = xfo.tr.subtract(this.gizmoRay.start).dot(this.gizmoRay.dir)\r\n    const grabPos = this.gizmoRay.start.add(this.gizmoRay.dir.scale(this.grabDist))\r\n    event.grabPos = grabPos\r\n    this.onDragStart(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    const xfo = this.activeController.getTipXfo()\r\n    const dist = xfo.tr.subtract(this.gizmoRay.start).dot(this.gizmoRay.dir)\r\n    const holdPos = this.gizmoRay.start.add(this.gizmoRay.dir.scale(dist))\r\n    event.value = dist\r\n    event.holdPos = holdPos\r\n    event.delta = dist - this.grabDist\r\n    this.onDrag(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is released over the handle.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    if (this.activeController == event.controller) {\r\n      // const xfo = this.activeController.getTipXfo()\r\n      this.onDragEnd()\r\n      this.activeController = undefined\r\n      return true\r\n    }\r\n  }\r\n}\r\n\r\nexport default BaseLinearMovementHandle\r\nexport { BaseLinearMovementHandle }\r\n","import { EventEmitter, Registry } from '@zeainc/zea-engine'\r\n\r\n/**\r\n * Kind of an abstract class, that represents the mandatory structure of a change classes that are used in the [`UndoRedoManager`]().\r\n *\r\n * @note If you don't extend this class, ensure to implement all methods specified in here.\r\n * @extends {EventEmitter}\r\n */\r\nclass Change extends EventEmitter {\r\n  /**\r\n   * Every class that extends from `Change` must contain a global `name` attribute.\r\n   * It is used by the `UndoRedoManager` factory to re-construct the class of the specific implementation of the `Change` class.\r\n   *\r\n   * @param {string} name - The name value.\r\n   */\r\n  constructor(name) {\r\n    super()\r\n    this.name = name\r\n  }\r\n\r\n  /**\r\n   * Called by the `UndoRedoManager` in the `undo` method, and contains the code you wanna run when the undo action is triggered,\r\n   * of course it depends on what you're doing.\r\n   *\r\n   * @note This method needs to be implemented, otherwise it will throw an Error.\r\n   */\r\n  undo() {\r\n    throw new Error('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Called by the `UndoRedoManager` in the `redo` method, and is the same as the `undo` method, contains the specific code you wanna run.\r\n   *\r\n   * @note This method needs to be implemented, otherwise it will throw an Error.\r\n   */\r\n  redo() {\r\n    throw new Error('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Use this method to update the state of your `Change` class.\r\n   *\r\n   * @note This method needs to be implemented, otherwise it will throw an Error.\r\n   *\r\n   * @param {object|string|any} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    throw new Error('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Serializes the `Change` instance as a JSON object, allowing persistence/replication\r\n   *\r\n   * @note This method needs to be implemented, otherwise it will return an empty object.\r\n   *\r\n   * @param {object} context - The appData param.\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON(context) {\r\n    return {}\r\n  }\r\n\r\n  /**\r\n   * The counterpart of the `toJSON` method, restoring `Change` instance's state with the specified JSON object.\r\n   * Each `Change` class must implement the logic for reconstructing itself.\r\n   * Very often used to restore from persisted/replicated JSON.\r\n   *\r\n   * @note This method needs to be implemented, otherwise it will do nothing.\r\n   *\r\n   * @param {object} j - The j param.\r\n   * @param {object} context - The context param.\r\n   */\r\n  fromJSON(j, context) {}\r\n\r\n  /**\r\n   * Useful method to update the state of an existing identified `Change` through replication.\r\n   *\r\n   * @note By default it calls the `update` method in the `Change` class, but you can override this if you need to.\r\n   *\r\n   * @param {object} j - The j param.\r\n   */\r\n  changeFromJSON(j) {\r\n    // Many change objects can load json directly\r\n    // in the update method.\r\n    this.update(j)\r\n  }\r\n\r\n  /**\r\n   * Method destined to clean up things that would need to be cleaned manually.\r\n   * It is executed when flushing the undo/redo stacks or adding a new change to the undo stack,\r\n   * so it is require in any class that represents a change.\r\n   *\r\n   */\r\n  destroy() {}\r\n}\r\n\r\nexport default Change\r\nexport { Change }\r\n","import { EventEmitter } from '@zeainc/zea-engine'\r\nimport { Change } from './Change'\r\n\r\nconst __changeClasses = {}\r\nconst __classNames = {}\r\nconst __classes = []\r\n\r\n/**\r\n * `UndoRedoManager` is a mixture of the [Factory Design Pattern](https://en.wikipedia.org/wiki/Factory_method_pattern) and the actual changes stacks manager.\r\n * This is the heart of the Undo/Redo System, letting you navigate through the changes history you've saved.\r\n *\r\n * **Events**\r\n * * **changeAdded:** Triggered when a change is added.\r\n * * **changeUpdated:** Triggered when the last change added updates its state.\r\n * * **changeUndone:** Triggered when the `undo` method is called, after removing the last change from the stack.\r\n * * **changeRedone:** Triggered when the `redo` method is called, after restoring the last change removed from the undo stack.\r\n * */\r\nclass UndoRedoManager extends EventEmitter {\r\n  /**\r\n   * It doesn't have any parameters, but under the hood it uses [EventsEmitter]() to notify subscribers when something happens.\r\n   * The implementation is really simple, just initialize it like any other class.\r\n   */\r\n  constructor() {\r\n    super()\r\n    this.__undoStack = []\r\n    this.__redoStack = []\r\n    this.__currChange = null\r\n\r\n    this.__currChangeUpdated = this.__currChangeUpdated.bind(this)\r\n  }\r\n\r\n  /**\r\n   * As the name indicates, it empties undo/redo stacks permanently, losing all stored actions.\r\n   * Right now, before flushing the stacks it calls the `destroy` method on all changes, ensure to at least declare it.\r\n   */\r\n  flush() {\r\n    for (const change of this.__undoStack) change.destroy()\r\n    this.__undoStack = []\r\n    for (const change of this.__redoStack) change.destroy()\r\n    this.__redoStack = []\r\n    if (this.__currChange) {\r\n      this.__currChange.off('updated', this.__currChangeUpdated)\r\n      this.__currChange = null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Receives an instance of a class that extends or has the same structure as `Change` class.\r\n   * When this action happens, the last added change update notifications will get disconnected.\r\n   * Which implies that any future updates to changes that are not the last one, would need a new call to the `addChange` method.\r\n   * Also, resets the redo stack(Calls destroy method when doing it).\r\n   *\r\n   * @param {Change} change - The change param.\r\n   */\r\n  addChange(change) {\r\n    // console.log(\"AddChange:\", change.name)\r\n    if (!(change instanceof Change)) console.warn('Change object is not derived from Change.')\r\n    if (this.__currChange && this.__currChange.off) {\r\n      this.__currChange.off('updated', this.__currChangeUpdated)\r\n    }\r\n\r\n    this.__undoStack.push(change)\r\n    this.__currChange = change\r\n    if (this.__currChange.on) this.__currChange.on('updated', this.__currChangeUpdated)\r\n\r\n    for (const change of this.__redoStack) change.destroy()\r\n    this.__redoStack = []\r\n\r\n    this.emit('changeAdded', { change })\r\n  }\r\n\r\n  /**\r\n   * Returns the last change added to the undo stack, but in case it is empty a `null` is returned.\r\n   *\r\n   * @return {Change|null} The return value.\r\n   */\r\n  getCurrentChange() {\r\n    return this.__currChange\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {object|any} updateData\r\n   */\r\n  __currChangeUpdated(updateData) {\r\n    this.emit('changeUpdated', updateData)\r\n  }\r\n\r\n  /**\r\n   * Rollback the latest action, passing it to the redo stack in case you wanna recover it later on.\r\n   *\r\n   * @param {boolean} pushOnRedoStack - The pushOnRedoStack param.\r\n   */\r\n  undo(pushOnRedoStack = true) {\r\n    if (this.__undoStack.length > 0) {\r\n      if (this.__currChange) {\r\n        this.__currChange.off('updated', this.__currChangeUpdated)\r\n        this.__currChange = null\r\n      }\r\n\r\n      const change = this.__undoStack.pop()\r\n      // console.log(\"undo:\", change.name)\r\n      change.undo()\r\n      if (pushOnRedoStack) {\r\n        this.__redoStack.push(change)\r\n        this.emit('changeUndone')\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Rollbacks the `undo` action by moving the change from the `redo` stack to the `undo` stack.\r\n   * Emits the `changeRedone` event, if you want to subscribe to it.\r\n   */\r\n  redo() {\r\n    if (this.__redoStack.length > 0) {\r\n      const change = this.__redoStack.pop()\r\n      // console.log(\"redo:\", change.name)\r\n      change.redo()\r\n      this.__undoStack.push(change)\r\n      this.emit('changeRedone')\r\n    }\r\n  }\r\n\r\n  // //////////////////////////////////\r\n  // User Synchronization\r\n\r\n  /**\r\n   * Returns a new instance of the derived `Change` class.\r\n   *\r\n   * @param {string} className - The className param.\r\n   * @return {Change} - The return value.\r\n   */\r\n  constructChange(className) {\r\n    return new __changeClasses[className]()\r\n  }\r\n\r\n  /**\r\n   * Checks if a class of an instantiated object is registered in the UndoRedo Factory.\r\n   *\r\n   * @param {Change} inst - The instance of the Change class.\r\n   * @return {boolean} - Returns 'true' if the class has been registered.\r\n   */\r\n  static isChangeClassRegistered(inst) {\r\n    const id = __classes.indexOf(inst.constructor)\r\n    return id != -1\r\n  }\r\n\r\n  /**\r\n   * Very simple method that returns the name of the instantiated class, checking first in the registry and returning if found,\r\n   * if not then checks the `name` attribute declared in constructor.\r\n   *\r\n   * @param {Change} inst - The instance of the Change class.\r\n   * @return {string} - The return value.\r\n   */\r\n  static getChangeClassName(inst) {\r\n    const id = __classes.indexOf(inst.constructor)\r\n    if (__classNames[id]) return __classNames[id]\r\n    console.warn('Change not registered:', inst.constructor.name)\r\n    return ''\r\n  }\r\n\r\n  /**\r\n   * Registers the class in the UndoRedoManager Factory.\r\n   * Why do we need to specify the name of the class?\r\n   * Because when the code is transpiled, the defined class names change, so it won't be known as we declared it anymore.\r\n   *\r\n   * @param {string} name - The name param.\r\n   * @param {Change} cls - The cls param.\r\n   */\r\n  static registerChange(name, cls) {\r\n    if (__classes.indexOf(cls) != -1) console.warn('Class already registered:', name)\r\n\r\n    const id = __classes.length\r\n    __classes.push(cls)\r\n    __changeClasses[name] = cls\r\n    __classNames[id] = name\r\n  }\r\n\r\n  static getInstance() {\r\n    if (!inst) {\r\n      inst = new UndoRedoManager()\r\n    }\r\n    return inst\r\n  }\r\n}\r\n\r\nlet inst\r\n\r\nexport default UndoRedoManager\r\nexport { UndoRedoManager }\r\n","import { Parameter } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../UndoRedoManager'\r\nimport Change from '../Change'\r\n\r\n/**\r\n * Represents a `Change` class for storing `Parameter` values.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the `ParameterValueChange` value is updated.\r\n *\r\n * @extends Change\r\n */\r\nclass ParameterValueChange extends Change {\r\n  /**\r\n   * Creates an instance of ParameterValueChange.\r\n   *\r\n   * @param {Parameter} param - The param value.\r\n   * @param {object|string|number|any} newValue - The newValue value.\r\n   */\r\n  constructor(param, newValue) {\r\n    if (param) {\r\n      super(param ? param.getName() + ' Changed' : 'ParameterValueChange')\r\n      this.__prevValue = param.getValue()\r\n      this.__param = param\r\n      if (newValue != undefined) {\r\n        this.__nextValue = newValue\r\n        this.__param.setValue(this.__nextValue)\r\n      }\r\n    } else {\r\n      super()\r\n    }\r\n\r\n    this.suppressPrimaryChange = false\r\n    this.secondaryChanges = []\r\n  }\r\n\r\n  addSecondaryChange(secondaryChange) {\r\n    const index = this.secondaryChanges.length\r\n    secondaryChange.on('updated', (updateData) => {\r\n      this.emit('updated', {\r\n        secondaryChange: {\r\n          index,\r\n          updateData,\r\n        },\r\n      })\r\n    })\r\n    this.secondaryChanges.push(secondaryChange)\r\n    this.emit('updated', {\r\n      secondaryChangeAdded: {\r\n        changeClass: UndoRedoManager.getChangeClassName(secondaryChange),\r\n        changeData: secondaryChange.toJSON(),\r\n      },\r\n      suppressPrimaryChange: this.suppressPrimaryChange,\r\n    })\r\n    return index\r\n  }\r\n\r\n  /**\r\n   * Rollbacks the value of the parameter to the previous one, passing it to the redo stack in case you wanna recover it later on.\r\n   */\r\n  undo() {\r\n    if (!this.__param) return\r\n\r\n    if (!this.suppressPrimaryChange) {\r\n      this.__param.setValue(this.__prevValue)\r\n    }\r\n\r\n    this.secondaryChanges.forEach((change) => change.undo())\r\n  }\r\n\r\n  /**\r\n   * Rollbacks the `undo` action by moving the change from the `redo` stack to the `undo` stack\r\n   * and updating the parameter with the new value.\r\n   */\r\n  redo() {\r\n    if (!this.__param) return\r\n    if (!this.suppressPrimaryChange) {\r\n      console.log('redo:', this.__param.getPath(), this.__nextValue.tr.toString())\r\n      this.__param.setValue(this.__nextValue)\r\n    }\r\n\r\n    this.secondaryChanges.forEach((change) => change.redo())\r\n  }\r\n\r\n  /**\r\n   * Updates the state of the current parameter change value.\r\n   *\r\n   * @param {Parameter} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    if (!this.__param) return\r\n    if (updateData.value != undefined) {\r\n      this.__nextValue = updateData.value\r\n      this.__param.setValue(this.__nextValue)\r\n    }\r\n    this.emit('updated', {\r\n      value: this.__nextValue,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Serializes `Parameter` instance value as a JSON object, allowing persistence/replication.\r\n   *\r\n   * @param {object} context - The context param.\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON(context) {\r\n    const j = {\r\n      name: this.name,\r\n      paramPath: this.__param.getPath(),\r\n    }\r\n\r\n    if (!this.suppressPrimaryChange) {\r\n      if (this.__nextValue != undefined) {\r\n        if (this.__nextValue.toJSON) {\r\n          j.value = this.__nextValue.toJSON()\r\n        } else {\r\n          j.value = this.__nextValue\r\n        }\r\n      }\r\n    }\r\n\r\n    j.suppressPrimaryChange = this.suppressPrimaryChange\r\n    j.secondaryChanges = this.secondaryChanges.map((secondaryChange) => {\r\n      return {\r\n        changeClass: UndoRedoManager.getChangeClassName(change),\r\n        changeData: secondaryChange.toJSON(context),\r\n      }\r\n    })\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Restores `Parameter` instance's state with the specified JSON object.\r\n   *\r\n   * @param {object} j - The j param.\r\n   * @param {object} context - The context param.\r\n   */\r\n  fromJSON(j, context) {\r\n    const param = context.appData.scene.getRoot().resolvePath(j.paramPath, 1)\r\n    if (!param || !(param instanceof Parameter)) {\r\n      console.warn('resolvePath is unable to resolve', j.paramPath)\r\n      return\r\n    }\r\n    this.__param = param\r\n    this.name = j.name\r\n\r\n    if (!j.suppressPrimaryChange) {\r\n      this.__prevValue = this.__param.getValue()\r\n      if (this.__prevValue.clone) this.__nextValue = this.__prevValue.clone()\r\n      else this.__nextValue = this.__prevValue\r\n      if (j.value) {\r\n        if (this.__nextValue.fromJSON) this.__nextValue.fromJSON(j.value)\r\n        else this.__nextValue = j.value\r\n        this.__param.setValue(this.__nextValue)\r\n      }\r\n    }\r\n\r\n    if (j.secondaryChanges) {\r\n      this.secondaryChange = j.secondaryChanges.map((data) => {\r\n        const change = UndoRedoManager.getInstance().constructChange(data.changeClass)\r\n        change.fromJSON(data.changeData, context)\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates the state of an existing identified `Parameter` through replication.\r\n   *\r\n   * @param {object} j - The j param.\r\n   */\r\n  changeFromJSON(j) {\r\n    if (!this.__param) return\r\n    if (j.value) {\r\n      if (this.__nextValue.fromJSON) this.__nextValue.fromJSON(j.value)\r\n      else this.__nextValue = j.value\r\n      this.__param.setValue(this.__nextValue)\r\n    }\r\n\r\n    if (j.secondaryChangeAdded) {\r\n      const data = j.secondaryChangeAdded\r\n      const change = UndoRedoManager.getInstance().constructChange(data.changeClass)\r\n      change.fromJSON(data.changeData, context)\r\n      this.secondaryChanges.push(change)\r\n      if (j.suppressPrimaryChange) this.suppressPrimaryChange = j.suppressPrimaryChange\r\n    }\r\n    if (j.secondaryChange) {\r\n      const secondaryChange = updateData.secondaryChange\r\n      this.secondaryChanges[secondaryChange.index].update(secondaryChange.updateData)\r\n    }\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('ParameterValueChange', ParameterValueChange)\r\n\r\nexport default ParameterValueChange\r\nexport { ParameterValueChange }\r\n","import { Registry, shaderLibrary, StandardSurfaceGeomDataShader } from '@zeainc/zea-engine'\r\n/**\r\n * Class representing Geometry Data Shader\r\n *\r\n * @extends {StandardSurfaceGeomDataShader}\r\n */\r\nclass HandleGeomDataShader extends StandardSurfaceGeomDataShader {\r\n  /**\r\n   * Creates an instance of HandleGeomDataShader.\r\n   * @param {*} gl - The gl value\r\n   * @param {*} floatGeomBuffer - The floatGeomBuffer value\r\n   */\r\n  constructor(gl, floatGeomBuffer) {\r\n    super(gl)\r\n    this.__shaderStages['VERTEX_SHADER'] = shaderLibrary.parseShader(\r\n      'HandleGeomDataShader.vertexShader',\r\n      `\r\nprecision highp float;\r\n\r\nattribute vec3 positions;\r\n\r\nuniform mat4 viewMatrix;\r\nuniform mat4 projectionMatrix;\r\nuniform int maintainScreenSize;\r\n\r\n<%include file=\"stack-gl/transpose.glsl\"/>\r\n<%include file=\"drawItemId.glsl\"/>\r\n<%include file=\"drawItemTexture.glsl\"/>\r\n<%include file=\"modelMatrix.glsl\"/>\r\n\r\n\r\nvarying float v_drawItemId;\r\nvarying vec4 v_geomItemData;\r\nvarying vec3 v_viewPos;\r\nvarying float v_drawItemID;\r\nvarying vec3 v_worldPos;\r\n\r\nvoid main(void) {\r\n  int drawItemId = getDrawItemId();\r\n  mat4 modelMatrix = getModelMatrix(drawItemId);\r\n  mat4 modelViewMatrix = viewMatrix * modelMatrix;\r\n  \r\n  if(maintainScreenSize != 0) {\r\n    float dist = modelViewMatrix[3][2];\r\n    float sc = abs(dist); // Note: items in front of the camera will have a negative value here.\r\n    mat4 scmat = mat4(\r\n      sc, 0.0, 0.0, 0.0,\r\n      0.0, sc, 0.0, 0.0,\r\n      0.0, 0.0, sc, 0.0,\r\n      0.0, 0.0, 0.0, 1.0\r\n    );\r\n    modelViewMatrix = modelViewMatrix * scmat;\r\n  }\r\n\r\n  vec4 viewPos = modelViewMatrix * vec4(positions, 1.0);\r\n  gl_Position = projectionMatrix * viewPos;\r\n\r\n  v_viewPos = -viewPos.xyz;\r\n\r\n  v_drawItemID = float(getDrawItemId());\r\n}\r\n`\r\n    )\r\n  }\r\n}\r\n\r\nRegistry.register('HandleGeomDataShader', HandleGeomDataShader)\r\n\r\nexport default HandleGeomDataShader\r\nexport { HandleGeomDataShader }\r\n","import { Color, Registry, shaderLibrary, GLShader } from '@zeainc/zea-engine'\r\nimport './HandleGeomDataShader'\r\n\r\n/**\r\n * Class representing Handle Shader.\r\n *\r\n * @extends {GLShader}\r\n */\r\nclass HandleShader extends GLShader {\r\n  /**\r\n   * Creates an instance of HandleShader.\r\n   *\r\n   * @param {*} gl - The gl value\r\n   */\r\n  constructor(gl) {\r\n    super(gl)\r\n\r\n    this.__shaderStages['VERTEX_SHADER'] = shaderLibrary.parseShader(\r\n      'HandleShader.vertexShader',\r\n      `\r\nprecision highp float;\r\n\r\nattribute vec3 positions;\r\n#ifdef ENABLE_TEXTURES\r\nattribute vec2 texCoords;\r\n#endif\r\n\r\nuniform mat4 viewMatrix;\r\nuniform mat4 projectionMatrix;\r\nuniform int maintainScreenSize;\r\n\r\n<%include file=\"stack-gl/transpose.glsl\"/>\r\n<%include file=\"drawItemId.glsl\"/>\r\n<%include file=\"drawItemTexture.glsl\"/>\r\n<%include file=\"modelMatrix.glsl\"/>\r\n\r\n/* VS Outputs */\r\nvarying vec3 v_viewPos;\r\n#ifdef ENABLE_TEXTURES\r\nvarying vec2 v_textureCoord;\r\n#endif\r\n\r\nvoid main(void) {\r\n  int drawItemId = getDrawItemId();\r\n  mat4 modelMatrix = getModelMatrix(drawItemId);\r\n  mat4 modelViewMatrix = viewMatrix * modelMatrix;\r\n\r\n  if(maintainScreenSize != 0) {\r\n    float dist = modelViewMatrix[3][2];\r\n    float sc = abs(dist); // Note: items in front of the camera will have a negative value here.\r\n    mat4 scmat = mat4(\r\n      sc, 0.0, 0.0, 0.0,\r\n      0.0, sc, 0.0, 0.0,\r\n      0.0, 0.0, sc, 0.0,\r\n      0.0, 0.0, 0.0, 1.0\r\n    );\r\n    modelViewMatrix = modelViewMatrix * scmat;\r\n  }\r\n\r\n  vec4 viewPos = modelViewMatrix * vec4(positions, 1.0);\r\n  gl_Position = projectionMatrix * viewPos;\r\n\r\n  v_viewPos = viewPos.xyz;\r\n  v_textureCoord = texCoords;\r\n  v_textureCoord.y = 1.0 - v_textureCoord.y;// Flip y\r\n}\r\n`\r\n    )\r\n\r\n    this.__shaderStages['FRAGMENT_SHADER'] = shaderLibrary.parseShader(\r\n      'HandleShader.fragmentShader',\r\n      `\r\nprecision highp float;\r\n\r\n<%include file=\"stack-gl/gamma.glsl\"/>\r\n<%include file=\"materialparams.glsl\"/>\r\n\r\nuniform color BaseColor;\r\n\r\n#ifdef ENABLE_TEXTURES\r\nuniform sampler2D BaseColorTex;\r\nuniform int BaseColorTexType;\r\n#endif\r\n\r\n/* VS Outputs */\r\nvarying vec3 v_viewPos;\r\n#ifdef ENABLE_TEXTURES\r\nvarying vec2 v_textureCoord;\r\n#endif\r\n\r\n\r\n#ifdef ENABLE_ES3\r\n    out vec4 fragColor;\r\n#endif\r\nvoid main(void) {\r\n\r\n#ifndef ENABLE_TEXTURES\r\n    vec4 baseColor = BaseColor;\r\n#else\r\n    vec4 baseColor      = getColorParamValue(BaseColor, BaseColorTex, BaseColorTexType, v_textureCoord);\r\n#endif\r\n\r\n#ifndef ENABLE_ES3\r\n    vec4 fragColor;\r\n#endif\r\n    fragColor = baseColor;\r\n\r\n#ifdef ENABLE_INLINE_GAMMACORRECTION\r\n    fragColor.rgb = toGamma(fragColor.rgb);\r\n#endif\r\n\r\n#ifndef ENABLE_ES3\r\n    gl_FragColor = fragColor;\r\n#endif\r\n}\r\n`\r\n    )\r\n\r\n    this.finalize()\r\n  }\r\n\r\n  /**\r\n   * Returns parameter declarations\r\n   *\r\n   * @static\r\n   * @return {array} - Params declarations\r\n   */\r\n  static getParamDeclarations() {\r\n    const paramDescs = super.getParamDeclarations()\r\n    paramDescs.push({\r\n      name: 'BaseColor',\r\n      defaultValue: new Color(1.0, 1.0, 0.5),\r\n    })\r\n    paramDescs.push({\r\n      name: 'maintainScreenSize',\r\n      defaultValue: 0,\r\n    })\r\n    return paramDescs\r\n  }\r\n\r\n  /**\r\n   * Returns whether the shader's overlay is true or not.\r\n   *\r\n   * @static\r\n   * @return {boolean} - The overlay value\r\n   */\r\n  static isOverlay() {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Returns shader name\r\n   *\r\n   * @static\r\n   * @return {string} - The Geom Shader value\r\n   */\r\n  static getGeomDataShaderName() {\r\n    return 'HandleGeomDataShader'\r\n  }\r\n\r\n  // static getSelectedShaderName(){\r\n  //     return 'StandardSurfaceSelectedGeomsShader';\r\n  // }\r\n}\r\n\r\nRegistry.register('HandleShader', HandleShader)\r\n\r\nexport default HandleShader\r\nexport { HandleShader }\r\n","const transformVertices = (positions, xfo) => {\r\n  for (let i = 0; i < positions.length; i++) {\r\n    const v = positions.getValueRef(i)\r\n    const v2 = xfo.transformVec3(v)\r\n    v.set(v2.x, v2.y, v2.z)\r\n  }\r\n}\r\n\r\nexport default transformVertices\r\n","import { Color, Xfo, GeomItem, Material, Cylinder, Cone } from '@zeainc/zea-engine'\r\nimport BaseLinearMovementHandle from './BaseLinearMovementHandle'\r\nimport ParameterValueChange from '../UndoRedo/Changes/ParameterValueChange'\r\nimport './Shaders/HandleShader'\r\nimport transformVertices from './transformVertices'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\n\r\n/**\r\n * Class representing a linear movement scene widget.\r\n *\r\n * @extends BaseLinearMovementHandle\r\n */\r\nclass LinearMovementHandle extends BaseLinearMovementHandle {\r\n  /**\r\n   * Create a linear movement scene widget.\r\n   *\r\n   * @param {string} name - The name value.\r\n   * @param {number} length - The length value.\r\n   * @param {number} thickness - The thickness value.\r\n   * @param {Color} color - The color value.\r\n   */\r\n  constructor(name, length, thickness, color) {\r\n    super(name)\r\n\r\n    this.__color = color\r\n    this.__hilightedColor = new Color(1, 1, 1)\r\n\r\n    const handleMat = new Material('handle', 'HandleShader')\r\n    handleMat.getParameter('maintainScreenSize').setValue(1)\r\n    this.colorParam = handleMat.getParameter('BaseColor')\r\n    this.colorParam.setValue(color)\r\n    const handleGeom = new Cylinder(thickness, length, 64)\r\n    handleGeom.getParameter('BaseZAtZero').setValue(true)\r\n    const tipGeom = new Cone(thickness * 4, thickness * 10, 64, true)\r\n    const handle = new GeomItem('handle', handleGeom, handleMat)\r\n\r\n    const tip = new GeomItem('tip', tipGeom, handleMat)\r\n    const tipXfo = new Xfo()\r\n    tipXfo.tr.set(0, 0, length)\r\n    transformVertices(tipGeom.getVertexAttribute('positions'), tipXfo)\r\n\r\n    this.addChild(handle)\r\n    this.addChild(tip)\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    this.colorParam.setValue(this.__hilightedColor)\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    this.colorParam.setValue(this.__color)\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter.\r\n   *\r\n   * @param {Parameter} param - The video param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param, track = true) {\r\n    this.param = param\r\n    if (track) {\r\n      const __updateGizmo = () => {\r\n        this.getParameter('GlobalXfo').setValue(param.getValue())\r\n      }\r\n      __updateGizmo()\r\n      param.on('valueChanged', __updateGizmo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns target's global xfo parameter.\r\n   *\r\n   * @return {Parameter} - returns handle's target global Xfo.\r\n   */\r\n  getTargetParam() {\r\n    return this.param ? this.param : this.getParameter('GlobalXfo')\r\n  }\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.grabPos = event.grabPos\r\n    const param = this.getTargetParam()\r\n    this.baseXfo = param.getValue()\r\n\r\n    this.change = new ParameterValueChange(param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    const dragVec = event.holdPos.subtract(this.grabPos)\r\n\r\n    const newXfo = this.baseXfo.clone()\r\n    newXfo.tr.addInPlace(dragVec)\r\n\r\n    this.change.update({\r\n      value: newXfo,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n  }\r\n}\r\n\r\nexport default LinearMovementHandle\r\nexport { LinearMovementHandle }\r\n","import { MathFunctions, Vec3, Xfo } from '@zeainc/zea-engine'\r\nimport Handle from './Handle'\r\nimport ParameterValueChange from '../UndoRedo/Changes/ParameterValueChange'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\n\r\n/**\r\n * Class representing an axial rotation scene widget.\r\n *\r\n * @extends Handle\r\n */\r\nclass BaseAxialRotationHandle extends Handle {\r\n  /**\r\n   * Create an axial rotation scene widget.\r\n   *\r\n   * @param {string} name - The name value.\r\n   */\r\n  constructor(name) {\r\n    super(name)\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter\r\n   *\r\n   * @param {Parameter} param - The param param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param, track = true) {\r\n    this.param = param\r\n    if (track) {\r\n      const __updateGizmo = () => {\r\n        this.getParameter('GlobalXfo').setValue(param.getValue())\r\n      }\r\n      __updateGizmo()\r\n      param.on('valueChanged', __updateGizmo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns target's global xfo parameter.\r\n   *\r\n   * @return {Parameter} - returns handle's target global Xfo.\r\n   */\r\n  getTargetParam() {\r\n    return this.param ? this.param : this.getParameter('GlobalXfo')\r\n  }\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.baseXfo = this.getParameter('GlobalXfo').getValue().clone()\r\n    this.baseXfo.sc.set(1, 1, 1)\r\n    this.deltaXfo = new Xfo()\r\n\r\n    const param = this.getTargetParam()\r\n    const paramXfo = param.getValue()\r\n    this.offsetXfo = this.baseXfo.inverse().multiply(paramXfo)\r\n\r\n    this.vec0 = event.grabPos.subtract(this.baseXfo.tr)\r\n    this.grabCircleRadius = this.vec0.length()\r\n    this.vec0.normalizeInPlace()\r\n\r\n    this.change = new ParameterValueChange(param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    const vec1 = event.holdPos.subtract(this.baseXfo.tr)\r\n    const dragCircleRadius = vec1.length()\r\n    vec1.normalizeInPlace()\r\n\r\n    // modulate the angle by the radius the mouse moves\r\n    // away from the center of the handle.\r\n    // This makes it possible to rotate the object more than\r\n    // 180 degrees in a single movement.\r\n    const modulator = dragCircleRadius / this.grabCircleRadius\r\n    let angle = this.vec0.angleTo(vec1) * modulator\r\n    if (this.vec0.cross(vec1).dot(this.baseXfo.ori.getZaxis()) < 0) angle = -angle\r\n\r\n    if (this.range) {\r\n      angle = MathFunctions.clamp(angle, this.range[0], this.range[1])\r\n    }\r\n\r\n    if (event.shiftKey) {\r\n      // modulat the angle to X degree increments.\r\n      const increment = Math.degToRad(22.5)\r\n      angle = Math.floor(angle / increment) * increment\r\n    }\r\n\r\n    this.deltaXfo.ori.setFromAxisAndAngle(new Vec3(0, 0, 1), angle)\r\n\r\n    const newXfo = this.baseXfo.multiply(this.deltaXfo)\r\n    const value = newXfo.multiply(this.offsetXfo)\r\n\r\n    this.change.update({\r\n      value,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n  }\r\n}\r\n\r\nexport default BaseAxialRotationHandle\r\nexport { BaseAxialRotationHandle }\r\n","import { Color, Xfo, NumberParameter, GeomItem, Material, Torus } from '@zeainc/zea-engine'\r\nimport BaseAxialRotationHandle from './BaseAxialRotationHandle'\r\nimport './Shaders/HandleShader'\r\n\r\n/**\r\n * Class representing an axial rotation scene widget.\r\n *\r\n * @extends BaseAxialRotationHandle\r\n */\r\nclass AxialRotationHandle extends BaseAxialRotationHandle {\r\n  /**\r\n   * Create an axial rotation scene widget.\r\n   *\r\n   * @param {string} name - The name value.\r\n   * @param {number} radius - The radius value.\r\n   * @param {number} thickness - The thickness value.\r\n   * @param {Color} color - The color value.\r\n   */\r\n  constructor(name, radius, thickness, color) {\r\n    super(name)\r\n\r\n    this.__color = color\r\n    this.__hilightedColor = new Color(1, 1, 1)\r\n    this.radiusParam = this.addParameter(new NumberParameter('radius', radius))\r\n\r\n    const handleMat = new Material('handle', 'HandleShader')\r\n    handleMat.getParameter('maintainScreenSize').setValue(1)\r\n    this.colorParam = handleMat.getParameter('BaseColor')\r\n    this.colorParam.setValue(color)\r\n\r\n    // const handleGeom = new Cylinder(radius, thickness * 2, 64, 2, false);\r\n    const handleGeom = new Torus(thickness, radius, 64)\r\n    this.handle = new GeomItem('handle', handleGeom, handleMat)\r\n    this.handleXfo = new Xfo()\r\n\r\n    this.radiusParam.on('valueChanged', () => {\r\n      radius = this.radiusParam.getValue()\r\n      handleGeom.getParameter('OuterRadius').setValue(radius)\r\n      handleGeom.getParameter('InnerRadius').setValue(radius * 0.02)\r\n    })\r\n\r\n    this.addChild(this.handle)\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    this.colorParam.setValue(this.__hilightedColor)\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    this.colorParam.setValue(this.__color)\r\n  }\r\n\r\n  /**\r\n   * Returns handle's global Xfo\r\n   *\r\n   * @return {Xfo} - The Xfo value\r\n   */\r\n  getBaseXfo() {\r\n    return this.getParameter('GlobalXfo').getValue()\r\n  }\r\n\r\n  /**\r\n   * Handles the initially drag interaction of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    super.onDragStart(event)\r\n\r\n    // Hilight the material.\r\n    this.colorParam.setValue(new Color(1, 1, 1))\r\n  }\r\n\r\n  /**\r\n   * Handles drag interaction of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    super.onDrag(event)\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging interaction with the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    super.onDragEnd(event)\r\n    this.colorParam.setValue(this.__color)\r\n  }\r\n}\r\n\r\nexport default AxialRotationHandle\r\nexport { AxialRotationHandle }\r\n","import { Color, Xfo, GeomItem, Material, Cylinder, Cuboid } from '@zeainc/zea-engine'\r\nimport BaseLinearMovementHandle from './BaseLinearMovementHandle'\r\nimport ParameterValueChange from '../UndoRedo/Changes/ParameterValueChange'\r\nimport './Shaders/HandleShader'\r\nimport transformVertices from './transformVertices'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\n\r\n/**\r\n * Class representing a linear scale scene widget.\r\n *\r\n * @extends BaseLinearMovementHandle\r\n */\r\nclass LinearScaleHandle extends BaseLinearMovementHandle {\r\n  /**\r\n   * Create a linear scale scene widget.\r\n   *\r\n   * @param {string} name - The name value.\r\n   * @param {number} length - The length value.\r\n   * @param {number} thickness - The thickness value.\r\n   * @param {Color} color - The color value.\r\n   */\r\n  constructor(name, length, thickness, color) {\r\n    super(name)\r\n\r\n    this.__color = color\r\n    this.__hilightedColor = new Color(1, 1, 1)\r\n\r\n    const handleMat = new Material('handle', 'HandleShader')\r\n    handleMat.getParameter('maintainScreenSize').setValue(1)\r\n    this.colorParam = handleMat.getParameter('BaseColor')\r\n    this.colorParam.setValue(color)\r\n    const handleGeom = new Cylinder(thickness, length - thickness * 10, 64)\r\n    handleGeom.getParameter('BaseZAtZero').setValue(true)\r\n    const tipGeom = new Cuboid(thickness * 10, thickness * 10, thickness * 10)\r\n    const handle = new GeomItem('handle', handleGeom, handleMat)\r\n\r\n    const tip = new GeomItem('tip', tipGeom, handleMat)\r\n    const tipXfo = new Xfo()\r\n    tipXfo.tr.set(0, 0, length - thickness * 10)\r\n    // tipXfo.tr.set(0, 0, length);\r\n    // tip.getParameter('LocalXfo').setValue(tipXfo);\r\n    // Note: the constant screen size shader\r\n    // only works if all the handle geometries\r\n    // are centered on the middle of the XfoHandle.\r\n    transformVertices(tipGeom.getVertexAttribute('positions'), tipXfo)\r\n\r\n    this.addChild(handle)\r\n    this.addChild(tip)\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    this.colorParam.setValue(this.__hilightedColor)\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    this.colorParam.setValue(this.__color)\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter.\r\n   *\r\n   * @param {Parameter} param - The video param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param, track = true) {\r\n    this.param = param\r\n    if (track) {\r\n      const __updateGizmo = () => {\r\n        this.getParameter('GlobalXfo').setValue(param.getValue())\r\n      }\r\n      __updateGizmo()\r\n      param.on('valueChanged', __updateGizmo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns target's global xfo parameter.\r\n   *\r\n   * @return {Parameter} - returns handle's target global Xfo.\r\n   */\r\n  getTargetParam() {\r\n    return this.param ? this.param : this.getParameter('GlobalXfo')\r\n  }\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.grabDist = event.grabDist\r\n    this.oriXfo = this.getParameter('GlobalXfo').getValue()\r\n    this.tmplocalXfo = this.getParameter('LocalXfo').getValue()\r\n    const param = this.getTargetParam()\r\n    this.baseXfo = param.getValue()\r\n\r\n    this.change = new ParameterValueChange(param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    // const dragVec = event.holdPos.subtract(this.grabPos);\r\n\r\n    const newXfo = this.baseXfo.clone()\r\n    const sc = event.holdDist / this.grabDist\r\n    if (sc < 0.0001) return\r\n\r\n    // const scAxis = this.oriXfo.ori.getZaxis();\r\n    // const scX = this.baseXfo.ori.getXaxis().dot(scAxis);\r\n    // const scY = this.baseXfo.ori.getYaxis().dot(scAxis);\r\n    // const scZ = this.baseXfo.ori.getZaxis().dot(scAxis);\r\n    // console.log(\"sc:\", sc, \" scX\", scX, \" scY:\", scY, \" scZ:\", scZ)\r\n    // newXfo.sc.set(scX, scY, scZ);\r\n    newXfo.sc.set(this.baseXfo.sc.x * sc, this.baseXfo.sc.y * sc, this.baseXfo.sc.z * sc)\r\n\r\n    // Scale inheritance is disabled for handles.\r\n    // (XfoHandle throws away scale in _cleanGlobalXfo).\r\n    // This means we have to apply it here to see the scale\r\n    // widget change size.\r\n    this.tmplocalXfo.sc.set(1, 1, sc)\r\n    this.getParameter('LocalXfo').setValue(this.tmplocalXfo)\r\n\r\n    this.change.update({\r\n      value: newXfo,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n\r\n    this.tmplocalXfo.sc.set(1, 1, 1)\r\n    this.getParameter('LocalXfo').setValue(this.tmplocalXfo)\r\n\r\n    const tip = this.getChildByName('tip')\r\n    const tipXfo = tip.getParameter('LocalXfo').getValue()\r\n    tipXfo.sc.set(1, 1, 1)\r\n    tip.getParameter('LocalXfo').setValue(tipXfo)\r\n  }\r\n}\r\n\r\nexport default LinearScaleHandle\r\nexport { LinearScaleHandle }\r\n","import { Color, Xfo, GeomItem, Material, Sphere } from '@zeainc/zea-engine'\r\nimport Handle from './Handle'\r\nimport './Shaders/HandleShader'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\n\r\n/**\r\n * Class representing an axial rotation scene widget.\r\n *\r\n * @extends Handle\r\n */\r\nclass SphericalRotationHandle extends Handle {\r\n  /**\r\n   * Create an axial rotation scene widget.\r\n   *\r\n   * @param {string} name - The name value.\r\n   * @param {number} radius - The radius value.\r\n   * @param {Color} color - The color value.\r\n   */\r\n  constructor(name, radius, color) {\r\n    super(name)\r\n\r\n    this.radius = radius\r\n    const maskMat = new Material('mask', 'HandleShader')\r\n    maskMat.getParameter('maintainScreenSize').setValue(1)\r\n    maskMat.getParameter('BaseColor').setValue(color)\r\n    const maskGeom = new Sphere(radius, 64)\r\n    const maskGeomItem = new GeomItem('mask', maskGeom, maskMat)\r\n    this.addChild(maskGeomItem)\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    // this.colorParam.setValue(this.__hilightedColor);\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    // this.colorParam.setValue(this.__color);\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter.\r\n   *\r\n   * @param {Parameter} param - The video param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param, track = true) {\r\n    this.param = param\r\n    if (track) {\r\n      const __updateGizmo = () => {\r\n        this.getParameter('GlobalXfo').setValue(param.getValue())\r\n      }\r\n      __updateGizmo()\r\n      param.on('valueChanged', __updateGizmo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns target's global xfo parameter.\r\n   *\r\n   * @return {Parameter} - returns handle's target global Xfo.\r\n   */\r\n  getTargetParam() {\r\n    return this.param ? this.param : this.getParameter('GlobalXfo')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Handles mouse down interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseDown(event) {\r\n    // const xfo = this.getParameter('GlobalXfo').getValue();\r\n    // this.sphere = {\r\n    //   tr: xfo,\r\n    //   radius: this.radius,\r\n    // };\r\n    // const dist = event.mouseRay.intersectRaySphere(this.sphere);\r\n    // event.grabPos = event.mouseRay.pointAtDist(dist);\r\n    // this.onDragStart(event);\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles mouse move interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param\r\n   * @return {boolean} - The return value\r\n   */\r\n  handleMouseMove(event) {\r\n    // const dist = event.mouseRay.intersectRaySphere(this.sphere);\r\n    // event.holdPos = event.mouseRay.pointAtDist(dist);\r\n    // this.onDrag(event);\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles mouse up interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseUp(event) {\r\n    // const dist = event.mouseRay.intersectRaySphere(this.sphere);\r\n    // event.releasePos = event.mouseRay.pointAtDist(dist);\r\n    // this.onDragEnd(event);\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.baseXfo = this.getParameter('GlobalXfo').getValue()\r\n    this.baseXfo.sc.set(1, 1, 1)\r\n    this.deltaXfo = new Xfo()\r\n    const param = this.getTargetParam()\r\n    this.offsetXfo = this.baseXfo.inverse().multiply(param.getValue())\r\n\r\n    this.vec0 = event.grabPos.subtract(this.baseXfo.tr)\r\n    this.vec0.normalizeInPlace()\r\n\r\n    // Hilight the material.\r\n    this.colorParam.setValue(new Color(1, 1, 1))\r\n\r\n    this.change = new ParameterValueChange(param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    const vec1 = event.holdPos.subtract(this.baseXfo.tr)\r\n    vec1.normalizeInPlace()\r\n\r\n    const angle = this.vec0.angleTo(vec1) * modulator\r\n    const axis = this.vec0.cross(vec1).normalize()\r\n\r\n    this.deltaXfo.ori.setFromAxisAndAngle(axis, angle)\r\n\r\n    const newXfo = this.baseXfo.multiply(this.deltaXfo)\r\n    const value = newXfo.multiply(this.offsetXfo)\r\n\r\n    this.change.update({\r\n      value,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n\r\n    this.colorParam.setValue(this.__color)\r\n  }\r\n}\r\n\r\nexport default SphericalRotationHandle\r\nexport { SphericalRotationHandle }\r\n","import Handle from './Handle'\r\nimport ParameterValueChange from '../UndoRedo/Changes/ParameterValueChange'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\n\r\n/**\r\n * Class representing a planar movement scene widget.\r\n *\r\n * @extends Handle\r\n */\r\nclass PlanarMovementHandle extends Handle {\r\n  /**\r\n   * Create a planar movement scene widget.\r\n   *\r\n   * @param {string} name - The name value.\r\n   */\r\n  constructor(name) {\r\n    super(name)\r\n    this.fullXfoManipulationInVR = true\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter.\r\n   *\r\n   * @param {Parameter} param - The video param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param, track = true) {\r\n    this.param = param\r\n    if (track) {\r\n      const __updateGizmo = () => {\r\n        this.getParameter('GlobalXfo').setValue(param.getValue())\r\n      }\r\n      __updateGizmo()\r\n      param.on('valueChanged', __updateGizmo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns target's global xfo parameter.\r\n   *\r\n   * @return {Parameter} - returns handle's target global Xfo.\r\n   */\r\n  getTargetParam() {\r\n    return this.param ? this.param : this.getParameter('GlobalXfo')\r\n  }\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.grabPos = event.grabPos\r\n    const param = this.getTargetParam()\r\n    this.baseXfo = param.getValue()\r\n\r\n    this.change = new ParameterValueChange(param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    const dragVec = event.holdPos.subtract(this.grabPos)\r\n\r\n    const newXfo = this.baseXfo.clone()\r\n    newXfo.tr.addInPlace(dragVec)\r\n\r\n    this.change.update({\r\n      value: newXfo,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed over the handle.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    if (this.fullXfoManipulationInVR) {\r\n      this.activeController = event.controller\r\n      const xfo = this.activeController.getTipXfo()\r\n      const handleXfo = this.getParameter('GlobalXfo').getValue()\r\n      this.grabOffset = xfo.inverse().multiply(handleXfo)\r\n    } else {\r\n      super.onVRControllerButtonDown(event)\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    if (this.fullXfoManipulationInVR) {\r\n      const xfo = this.activeController.getTipXfo()\r\n      const newXfo = xfo.multiply(this.grabOffset)\r\n      if (this.change) {\r\n        this.change.update({\r\n          value: newXfo,\r\n        })\r\n      } else {\r\n        const param = this.getTargetParam()\r\n        param.setValue(newXfo)\r\n      }\r\n    } else {\r\n      super.onVRPoseChanged(event)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is released over the handle.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    if (this.fullXfoManipulationInVR) {\r\n      this.change = null\r\n    } else {\r\n      super.onVRControllerButtonUp(event)\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlanarMovementHandle\r\nexport { PlanarMovementHandle }\r\n","import { Color, Xfo, NumberParameter, GeomItem, Material, Cuboid } from '@zeainc/zea-engine'\r\nimport PlanarMovementHandle from './PlanarMovementHandle'\r\nimport './Shaders/HandleShader'\r\nimport transformVertices from './transformVertices'\r\n\r\n/**\r\n * Class representing a planar movement scene widget.\r\n *\r\n * @extends Handle\r\n */\r\nclass XfoPlanarMovementHandle extends PlanarMovementHandle {\r\n  /**\r\n   * Create a planar movement scene widget.\r\n   * @param {string} name - The name value.\r\n   * @param {number} size - The size value.\r\n   * @param {Color} color - The color value.\r\n   * @param {Vec3} offset - The offset value.\r\n   */\r\n  constructor(name, size, color, offset) {\r\n    super(name)\r\n\r\n    this.__color = color\r\n    this.__hilightedColor = new Color(1, 1, 1)\r\n    this.sizeParam = this.addParameter(new NumberParameter('size', size))\r\n\r\n    const handleMat = new Material('handle', 'HandleShader')\r\n    handleMat.getParameter('maintainScreenSize').setValue(1)\r\n    this.colorParam = handleMat.getParameter('BaseColor')\r\n    this.colorParam.setValue(color)\r\n\r\n    const handleGeom = new Cuboid(size, size, size * 0.02)\r\n\r\n    const handleGeomXfo = new Xfo()\r\n    handleGeomXfo.tr = offset\r\n    transformVertices(handleGeom.getVertexAttribute('positions'), handleGeomXfo)\r\n    this.handle = new GeomItem('handle', handleGeom, handleMat)\r\n\r\n    this.sizeParam.on('valueChanged', () => {\r\n      size = this.sizeParam.getValue()\r\n      handleGeom.getParameter('size').setValue(size)\r\n      handleGeom.getParameter('height').setValue(size * 0.02)\r\n    })\r\n\r\n    this.addChild(this.handle)\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    this.colorParam.setValue(this.__hilightedColor)\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    this.colorParam.setValue(this.__color)\r\n  }\r\n}\r\n\r\nexport default XfoPlanarMovementHandle\r\nexport { XfoPlanarMovementHandle }\r\n","import { Color, Vec3, Xfo, TreeItem } from '@zeainc/zea-engine'\r\nimport Handle from './Handle'\r\nimport LinearMovementHandle from './LinearMovementHandle'\r\nimport AxialRotationHandle from './AxialRotationHandle'\r\nimport LinearScaleHandle from './LinearScaleHandle'\r\nimport SphericalRotationHandle from './SphericalRotationHandle'\r\nimport './Shaders/HandleShader'\r\nimport XfoPlanarMovementHandle from './XfoPlanarMovementHandle'\r\n\r\n/**\r\n * Class representing an xfo handle.\r\n *\r\n * @extends TreeItem\r\n */\r\nclass XfoHandle extends TreeItem {\r\n  /**\r\n   * Create an axial rotation scene widget.\r\n   *\r\n   * @param {number} size - The size value.\r\n   * @param {number} thickness - The thickness value.\r\n   */\r\n  constructor(size, thickness) {\r\n    super('XfoHandle')\r\n\r\n    // ////////////////////////////////\r\n    // LinearMovementHandle\r\n\r\n    const translationHandles = new TreeItem('Translate')\r\n    translationHandles.setVisible(false)\r\n    this.addChild(translationHandles)\r\n\r\n    const red = new Color(1, 0.1, 0.1)\r\n    const green = new Color('#32CD32') // limegreen https://www.rapidtables.com/web/color/green-color.html\r\n    const blue = new Color('#1E90FF') // dodgerblue https://www.rapidtables.com/web/color/blue-color.html\r\n    red.a = 0.8\r\n    green.a = 0.8\r\n    blue.a = 0.8\r\n\r\n    {\r\n      const linearXWidget = new LinearMovementHandle('linearX', size, thickness, red)\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(0, 1, 0), Math.PI * 0.5)\r\n      linearXWidget.getParameter('LocalXfo').setValue(xfo)\r\n      translationHandles.addChild(linearXWidget)\r\n    }\r\n    {\r\n      const linearYWidget = new LinearMovementHandle('linearY', size, thickness, green)\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * -0.5)\r\n      linearYWidget.getParameter('LocalXfo').setValue(xfo)\r\n      translationHandles.addChild(linearYWidget)\r\n    }\r\n    {\r\n      const linearZWidget = new LinearMovementHandle('linearZ', size, thickness, blue)\r\n      translationHandles.addChild(linearZWidget)\r\n    }\r\n\r\n    // ////////////////////////////////\r\n    // planarXYWidget\r\n    const planarSize = size * 0.35\r\n    {\r\n      const planarXYWidget = new XfoPlanarMovementHandle(\r\n        'planarXY',\r\n        planarSize,\r\n        blue,\r\n        new Vec3(planarSize * 0.5, planarSize * 0.5, 0.0)\r\n      )\r\n      const xfo = new Xfo()\r\n      planarXYWidget.getParameter('LocalXfo').setValue(xfo)\r\n      translationHandles.addChild(planarXYWidget)\r\n    }\r\n    {\r\n      const planarYZWidget = new XfoPlanarMovementHandle(\r\n        'planarYZ',\r\n        planarSize,\r\n        red,\r\n        new Vec3(planarSize * -0.5, planarSize * 0.5, 0.0)\r\n      )\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(0, 1, 0), Math.PI * 0.5)\r\n      planarYZWidget.getParameter('LocalXfo').setValue(xfo)\r\n      translationHandles.addChild(planarYZWidget)\r\n    }\r\n    {\r\n      const planarXZWidget = new XfoPlanarMovementHandle(\r\n        'planarXZ',\r\n        planarSize,\r\n        green,\r\n        new Vec3(planarSize * 0.5, planarSize * 0.5, 0.0)\r\n      )\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * 0.5)\r\n      planarXZWidget.getParameter('LocalXfo').setValue(xfo)\r\n      translationHandles.addChild(planarXZWidget)\r\n    }\r\n\r\n    // ////////////////////////////////\r\n    // Rotation\r\n    const rotationHandles = new TreeItem('Rotate')\r\n    rotationHandles.setVisible(false)\r\n    this.addChild(rotationHandles)\r\n    {\r\n      const rotationWidget = new SphericalRotationHandle('rotation', size - thickness, new Color(1, 1, 1, 0.4))\r\n      rotationHandles.addChild(rotationWidget)\r\n      // const maskMat = new Material('mask', 'HandleShader');\r\n      // maskMat\r\n      //   .getParameter('BaseColor')\r\n      //   .setValue(new Color(1, 1, 1, 0.4));\r\n      // const maskGeom = new Sphere(size - thickness, 64);\r\n      // const maskGeomItem = new GeomItem('mask', maskGeom, maskMat);\r\n      // rotationHandles.addChild(maskGeomItem);\r\n    }\r\n    {\r\n      const rotationXWidget = new AxialRotationHandle('rotationX', size, thickness, red)\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(0, 1, 0), Math.PI * 0.5)\r\n      rotationXWidget.getParameter('LocalXfo').setValue(xfo)\r\n      rotationHandles.addChild(rotationXWidget)\r\n    }\r\n    {\r\n      const rotationYWidget = new AxialRotationHandle('rotationY', size, thickness, green)\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * 0.5)\r\n      rotationYWidget.getParameter('LocalXfo').setValue(xfo)\r\n      rotationHandles.addChild(rotationYWidget)\r\n    }\r\n    {\r\n      const rotationZWidget = new AxialRotationHandle('rotationZ', size, thickness, blue)\r\n      rotationHandles.addChild(rotationZWidget)\r\n    }\r\n\r\n    // ////////////////////////////////\r\n    // Scale - Not supported\r\n    const scaleHandles = new TreeItem('Scale')\r\n    scaleHandles.setVisible(false)\r\n    this.addChild(scaleHandles)\r\n\r\n    const scaleHandleLength = size * 0.95\r\n    {\r\n      const scaleXWidget = new LinearScaleHandle('scaleX', scaleHandleLength, thickness, red)\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(0, 1, 0), Math.PI * 0.5)\r\n      scaleXWidget.getParameter('LocalXfo').setValue(xfo)\r\n      scaleHandles.addChild(scaleXWidget)\r\n    }\r\n    {\r\n      const scaleYWidget = new LinearScaleHandle('scaleY', scaleHandleLength, thickness, green)\r\n      const xfo = new Xfo()\r\n      xfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * -0.5)\r\n      scaleYWidget.getParameter('LocalXfo').setValue(xfo)\r\n      scaleHandles.addChild(scaleYWidget)\r\n    }\r\n    {\r\n      const scaleZWidget = new LinearScaleHandle('scaleZ', scaleHandleLength, thickness, blue)\r\n      scaleHandles.addChild(scaleZWidget)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculate the global Xfo for the handles.\r\n   *\r\n   * @return {Xfo} - The Xfo value\r\n   * @private\r\n   */\r\n  _cleanGlobalXfo() {\r\n    const parentItem = this.getParentItem()\r\n    if (parentItem !== undefined) {\r\n      const parentXfo = parentItem.getParameter('GlobalXfo').getValue().clone()\r\n      parentXfo.sc.set(1, 1, 1)\r\n      return parentXfo.multiply(this.__localXfoParam.getValue())\r\n    } else return this.__localXfoParam.getValue()\r\n  }\r\n\r\n  /**\r\n   * Displays handles depending on the specified mode(Move, Rotate, Scale).\r\n   * If nothing is specified, it hides all of them.\r\n   *\r\n   * @param {number} handleManipulationMode - The mode of the Xfo parameter\r\n   */\r\n  showHandles(handleManipulationMode) {\r\n    this.traverse((item) => {\r\n      if (item != this) {\r\n        item.setVisible(false)\r\n        return false\r\n      }\r\n    })\r\n\r\n    const child = this.getChildByName(handleManipulationMode)\r\n    if (child) child.setVisible(true)\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter.\r\n   *\r\n   * @param {Parameter} param - The video param.\r\n   */\r\n  setTargetParam(param) {\r\n    this.param = param\r\n    this.traverse((item) => {\r\n      if (item instanceof Handle) item.setTargetParam(param, false)\r\n    })\r\n  }\r\n}\r\n\r\nexport default XfoHandle\r\nexport { XfoHandle }\r\n","import { Xfo, Group, Operator, OperatorInput, OperatorOutput } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from './UndoRedo/UndoRedoManager.js'\r\nimport ParameterValueChange from './UndoRedo/Changes/ParameterValueChange.js'\r\n\r\n/**\r\n * An operator for aiming items at targets.\r\n *\r\n * @extends {Operator}\r\n */\r\nclass SelectionGroupXfoOperator extends Operator {\r\n  /**\r\n   * Creates an instance of SelectionGroupXfoOperator.\r\n   *\r\n   * @param {number} initialXfoModeParam - Initial XFO Mode, check `INITIAL_XFO_MODES` in `Group` documentation\r\n   * @param {XfoParameter} globalXfoParam - The GlobalXfo param found on the Group.\r\n   */\r\n  constructor(initialXfoModeParam, globalXfoParam) {\r\n    super()\r\n    this.addInput(new OperatorInput('InitialXfoMode')).setParam(initialXfoModeParam)\r\n    this.addOutput(new OperatorOutput('GroupGlobalXfo')).setParam(globalXfoParam)\r\n\r\n    this.currChange = null\r\n    this.initialItemXfos = []\r\n  }\r\n\r\n  /**\r\n   * Updates operator inputs(`OperatorInput`) of current `Operator` using the specified `TreeItem`.\r\n   *\r\n   * @param {TreeItem} item - The tree item being added\r\n   */\r\n  addItem(item) {\r\n    this.addInput(new OperatorInput('MemberGlobalXfo' + this.getNumInputs())).setParam(item.getParameter('GlobalXfo'))\r\n    this.setDirty()\r\n  }\r\n\r\n  /**\r\n   * Finds and removes the `OperatorInput` of the specified `TreeItem` from current`Operator`.\r\n   *\r\n   * @param {TreeItem} item - The Bind Xfo calculated from the initial Transforms of the Group Members.\r\n   */\r\n  removeItem(item) {\r\n    // The first input it the 'InitialXfoMode', so remove the input for the specified item.\r\n    const xfoParam = item.getParameter('GlobalXfo')\r\n    for (let i = 1; i < this.getNumInputs(); i++) {\r\n      const input = this.getInputByIndex(i)\r\n      if (input.getParam() == xfoParam) {\r\n        this.removeInput(input)\r\n        this.setDirty()\r\n        return\r\n      }\r\n    }\r\n    throw new Error('Item not found in SelectionGroupXfoOperator')\r\n  }\r\n\r\n  /**\r\n   * Move the group. When the selection group is manipulated, this method is called.\r\n   * Here we propagate the delta to each of the selection members.\r\n   *\r\n   * @param {Xfo} xfo - The new value being set to the Groups GlobalXfo param.\r\n   */\r\n  backPropagateValue(xfo) {\r\n    const groupTransformOutput = this.getOutput('GroupGlobalXfo')\r\n    const currGroupXfo = groupTransformOutput.getValue()\r\n\r\n    const currChange = UndoRedoManager.getInstance().getCurrentChange()\r\n    if (this.currChange != currChange) {\r\n      this.currChange = currChange\r\n      if (this.currChange) this.currChange.suppressPrimaryChange = true\r\n\r\n      for (let i = 1; i < this.getNumInputs(); i++) {\r\n        this.initialItemXfos[i] = this.getInputByIndex(i).getValue()\r\n\r\n        if (this.currChange) {\r\n          const param = this.getInputByIndex(i).getParam()\r\n          const secondaryChange = new ParameterValueChange(param)\r\n          this.currChange.addSecondaryChange(secondaryChange)\r\n        }\r\n      }\r\n      this.initialGroupXfo = currGroupXfo\r\n    }\r\n\r\n    const invXfo = this.initialGroupXfo.inverse()\r\n    const delta = xfo.multiply(invXfo)\r\n    for (let i = 1; i < this.getNumInputs(); i++) {\r\n      const value = delta.multiply(this.initialItemXfos[i])\r\n\r\n      if (this.currChange) {\r\n        this.currChange.secondaryChanges[i - 1].update({\r\n          value,\r\n        })\r\n      } else {\r\n        const input = this.getInputByIndex(i)\r\n        input.setValue(value)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Calculates a new Xfo for the group based on the members.\r\n   */\r\n  evaluate() {\r\n    const groupTransformOutput = this.getOutput('GroupGlobalXfo')\r\n    const xfo = new Xfo()\r\n\r\n    if (this.getNumInputs() == 1) {\r\n      groupTransformOutput.setClean(xfo)\r\n      return\r\n    }\r\n\r\n    const initialXfoMode = this.getInput('InitialXfoMode').getValue()\r\n    if (initialXfoMode == Group.INITIAL_XFO_MODES.manual) {\r\n      // The xfo is manually set by the current global xfo.\r\n      groupTransformOutput.setClean(groupTransformOutput.getValue())\r\n      return\r\n    } else if (initialXfoMode == Group.INITIAL_XFO_MODES.first) {\r\n      groupTransformOutput.setClean(this.getInputByIndex(1).getValue())\r\n    } else if (initialXfoMode == Group.INITIAL_XFO_MODES.average) {\r\n      xfo.ori.set(0, 0, 0, 0)\r\n      let numTreeItems = 0\r\n      for (let i = 1; i < this.getNumInputs(); i++) {\r\n        const itemXfo = this.getInputByIndex(i).getValue()\r\n        xfo.tr.addInPlace(itemXfo.tr)\r\n        xfo.ori.addInPlace(itemXfo.ori)\r\n        numTreeItems++\r\n      }\r\n      xfo.tr.scaleInPlace(1 / numTreeItems)\r\n      xfo.ori.normalizeInPlace()\r\n      // xfo.sc.scaleInPlace(1/ numTreeItems);\r\n      groupTransformOutput.setClean(xfo)\r\n    } else if (initialXfoMode == Group.INITIAL_XFO_MODES.globalOri) {\r\n      let numTreeItems = 0\r\n      for (let i = 1; i < this.getNumInputs(); i++) {\r\n        const itemXfo = this.getInputByIndex(i).getValue()\r\n        xfo.tr.addInPlace(itemXfo.tr)\r\n        numTreeItems++\r\n      }\r\n      xfo.tr.scaleInPlace(1 / numTreeItems)\r\n      groupTransformOutput.setClean(xfo)\r\n    } else {\r\n      throw new Error('Invalid Group.INITIAL_XFO_MODES.')\r\n    }\r\n  }\r\n}\r\n\r\nexport default SelectionGroupXfoOperator\r\nexport { SelectionGroupXfoOperator }\r\n","import { Color, ColorParameter, BaseItem, TreeItem, Group } from '@zeainc/zea-engine'\r\nimport SelectionGroupXfoOperator from './SelectionGroupXfoOperator.js'\r\n\r\n/**\r\n * A specific type of `Group` class that contains/handles selection of one or more items from the scene.\r\n *\r\n * **Option parameter values**\r\n *\r\n * | Option | type | default | Description |\r\n * | --- | --- | --- | --- |\r\n * | selectionOutlineColor | `Color` | `new Color('#03e3ac'))`  and opacity of `0.1` | See `Color` documentation |\r\n * | branchSelectionOutlineColor | `Color` | `new Color('#81f1d5')` and opacity of `0.55` | See `Color` documentation |\r\n *\r\n * @extends {Group}\r\n */\r\nclass SelectionGroup extends Group {\r\n  /**\r\n   * Creates an instance of SelectionGroup.\r\n   *\r\n   *\r\n   * **Parameters**\r\n   * @param {object} options - Custom options for selection\r\n   */\r\n  constructor(options) {\r\n    super()\r\n\r\n    let selectionColor\r\n    let subtreeColor\r\n    options.selectionOutlineColor\r\n      ? (selectionColor = options.selectionOutlineColor)\r\n      : (selectionColor = new Color(3, 227, 172, 0.1))\r\n\r\n    if (options.branchSelectionOutlineColor) subtreeColor = options.branchSelectionOutlineColor\r\n    else {\r\n      subtreeColor = selectionColor.lerp(new Color('white'), 0.5)\r\n      subtreeColor.a = 0.1\r\n    }\r\n\r\n    this.getParameter('HighlightColor').setValue(selectionColor)\r\n    this.addParameter(new ColorParameter('SubtreeHighlightColor', subtreeColor))\r\n\r\n    this.getParameter('InitialXfoMode').setValue(Group.INITIAL_XFO_MODES.average)\r\n    this.__itemsParam.setFilterFn((item) => item instanceof BaseItem)\r\n\r\n    this.selectionGroupXfoOp = new SelectionGroupXfoOperator(\r\n      this.getParameter('InitialXfoMode'),\r\n      this.getParameter('GlobalXfo')\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Constructs a new selection group by copying the values from current one and returns it.\r\n   *\r\n   * @return {SelectionGroup} - Cloned selection group.\r\n   */\r\n  clone() {\r\n    const cloned = new SelectionGroup()\r\n    cloned.copyFrom(this)\r\n    return cloned\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {TreeItem} item -\r\n   * @param {number} index -\r\n   * @private\r\n   */\r\n  __bindItem(item, index) {\r\n    if (item instanceof TreeItem) {\r\n      const highlightColor = this.getParameter('HighlightColor').getValue()\r\n      highlightColor.a = this.getParameter('HighlightFill').getValue()\r\n      const subTreeColor = this.getParameter('SubtreeHighlightColor').getValue()\r\n      item.addHighlight('selected' + this.getId(), highlightColor, false)\r\n      item.getChildren().forEach((childItem) => {\r\n        if (childItem instanceof TreeItem) childItem.addHighlight('branchselected' + this.getId(), subTreeColor, true)\r\n      })\r\n\r\n      this.selectionGroupXfoOp.addItem(item, index)\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {TreeItem} item -\r\n   * @param {number} index -\r\n   * @private\r\n   */\r\n  __unbindItem(item, index) {\r\n    if (item instanceof TreeItem) {\r\n      item.removeHighlight('selected' + this.getId())\r\n      item.getChildren().forEach((childItem) => {\r\n        if (childItem instanceof TreeItem) childItem.removeHighlight('branchselected' + this.getId(), true)\r\n      })\r\n\r\n      this.selectionGroupXfoOp.removeItem(item, index)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * calc Group Xfo\r\n   * @private\r\n   */\r\n  calcGroupXfo() {}\r\n}\r\n\r\nexport default SelectionGroup\r\nexport { SelectionGroup }\r\n","import UndoRedoManager from '../UndoRedoManager'\r\nimport Change from '../Change'\r\n\r\n/**\r\n * Represents a `Change` class for storing `Selection` values.\r\n *\r\n * @extends Change\r\n */\r\nclass SelectionChange extends Change {\r\n  /**\r\n   * Creates an instance of SelectionChange.\r\n   *\r\n   * @param {SelectionManager} selectionManager - The selectionManager value.\r\n   * @param {Set} prevSelection - The prevSelection value.\r\n   * @param {Set} newSelection - The newSelection value.\r\n   */\r\n  constructor(selectionManager, prevSelection, newSelection) {\r\n    super('SelectionChange')\r\n    this.__selectionManager = selectionManager\r\n    this.__prevSelection = prevSelection\r\n    this.__newSelection = newSelection\r\n  }\r\n\r\n  /**\r\n   * Sets the state of selections to the previous list of items selected.\r\n   */\r\n  undo() {\r\n    this.__selectionManager.setSelection(this.__prevSelection, false)\r\n  }\r\n\r\n  /**\r\n   * Restores the state of the selections to the latest the list of items selected.\r\n   */\r\n  redo() {\r\n    this.__selectionManager.setSelection(this.__newSelection, false)\r\n  }\r\n\r\n  /**\r\n   * Serializes selection values as a JSON object, allowing persistence/replication.\r\n   *\r\n   * @param {object} context - The appData param.\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON(context) {\r\n    const j = super.toJSON(context)\r\n\r\n    const itemPaths = []\r\n    for (const treeItem of this.__newSelection) {\r\n      itemPaths.push(treeItem.getPath())\r\n    }\r\n    j.itemPaths = itemPaths\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Restores selection state from a JSON object.\r\n   *\r\n   * @param {object} j - The j param.\r\n   * @param {object} context - The context param.\r\n   */\r\n  fromJSON(j, context) {\r\n    super.fromJSON(j, context)\r\n\r\n    this.__selectionManager = context.appData.selectionManager\r\n    this.__prevSelection = new Set(this.__selectionManager.getSelection())\r\n\r\n    const sceneRoot = context.appData.scene.getRoot()\r\n    const newSelection = new Set()\r\n    for (const itemPath of j.itemPaths) {\r\n      newSelection.add(sceneRoot.resolvePath(itemPath, 1))\r\n    }\r\n    this.__newSelection = newSelection\r\n\r\n    this.__selectionManager.setSelection(this.__newSelection, false)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('SelectionChange', SelectionChange)\r\n\r\nexport default SelectionChange\r\nexport { SelectionChange }\r\n","import UndoRedoManager from '../UndoRedoManager'\r\nimport Change from '../Change'\r\n\r\n/**\r\n * Class representing a change of visibility state for selected items.\r\n *\r\n * @extends Change\r\n */\r\nclass SelectionVisibilityChange extends Change {\r\n  /**\r\n   * Create a toggle selection visibility.\r\n   *\r\n   * @param {Set} selection - The selection value.\r\n   * @param {boolean} state - The state value.\r\n   */\r\n  constructor(selection, state) {\r\n    super('Selection Visibility Change')\r\n    this.selection = selection\r\n    this.state = state\r\n    this._changeItemsVisibility(this.state)\r\n  }\r\n\r\n  /**\r\n   * Restores previous visibility status of the selected items\r\n   */\r\n  undo() {\r\n    this._changeItemsVisibility(!this.state)\r\n  }\r\n\r\n  /**\r\n   * Recreates previous visibility status of the selected items\r\n   */\r\n  redo() {\r\n    this._changeItemsVisibility(this.state)\r\n  }\r\n\r\n  /**\r\n   * Changes items visibility.\r\n   *\r\n   * @param {boolean} state - The state param.\r\n   * @private\r\n   */\r\n  _changeItemsVisibility(state) {\r\n    for (const treeItem of this.selection) {\r\n      treeItem.getParameter('Visible').setValue(state)\r\n    }\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('ToggleSelectionVisibility', SelectionVisibilityChange)\r\n\r\nexport default SelectionVisibilityChange\r\nexport { SelectionVisibilityChange }\r\n","import { EventEmitter } from '@zeainc/zea-engine'\r\nimport XfoHandle from './Handles/XfoHandle'\r\nimport SelectionGroup from './SelectionGroup'\r\nimport SelectionChange from './UndoRedo/Changes/SelectionChange'\r\nimport SelectionVisibilityChange from './UndoRedo/Changes/SelectionVisibilityChange'\r\n\r\n/**\r\n * Class representing a selection manager\r\n *\r\n * @extends {EventEmitter}\r\n */\r\nclass SelectionManager extends EventEmitter {\r\n  /**\r\n   * Creates an instance of SelectionManager.\r\n   *\r\n   * @param {object} appData - The options object.\r\n   * @param {object} [options={}] - The appData value.\r\n   */\r\n  constructor(appData, options = {}) {\r\n    super()\r\n    this.appData = appData\r\n    this.leadSelection = undefined\r\n    this.selectionGroup = new SelectionGroup(options)\r\n\r\n    if (options.enableXfoHandles === true) {\r\n      const size = 0.1\r\n      const thickness = size * 0.02\r\n      this.xfoHandle = new XfoHandle(size, thickness)\r\n      this.xfoHandle.setTargetParam(this.selectionGroup.getParameter('GlobalXfo'), false)\r\n      this.xfoHandle.setVisible(false)\r\n      this.selectionGroup.addChild(this.xfoHandle)\r\n    }\r\n\r\n    if (this.appData.renderer) {\r\n      this.setRenderer(this.appData.renderer)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Adds specified the renderer to the `SelectionManager` and attaches the `SelectionGroup`.\r\n   *\r\n   * @param {GLBaseRenderer} renderer - The renderer param.\r\n   */\r\n  setRenderer(renderer) {\r\n    if (this.__renderer == renderer) {\r\n      console.warn(`Renderer already set on SelectionManager`)\r\n      return\r\n    }\r\n    this.__renderer = renderer\r\n    this.__renderer.addTreeItem(this.selectionGroup)\r\n  }\r\n\r\n  /**\r\n   * Sets initial Xfo mode of the selection group.\r\n   *\r\n   * @see `Group` class documentation\r\n   *\r\n   * @param {number} mode - The Xfo mode\r\n   */\r\n  setXfoMode(mode) {\r\n    if (this.xfoHandle) {\r\n      this.selectionGroup.getParameter('InitialXfoMode').setValue(mode)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Displays handles depending on the specified mode(Move, Rotate, Scale).\r\n   * If nothing is specified, it hides all of them.\r\n   *\r\n   * @param {number} handleManipulationMode - The mode of the Xfo parameter\r\n   */\r\n  showHandles(handleManipulationMode) {\r\n    if (this.xfoHandle && this.currMode != handleManipulationMode) {\r\n      this.currMode = handleManipulationMode\r\n      // eslint-disable-next-line guard-for-in\r\n      for (const key in this.handleGroup) {\r\n        this.handleGroup[key].emit(handleManipulationMode == key)\r\n      }\r\n      this.xfoHandle.showHandles(handleManipulationMode)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Determines if the Xfo Manipulation handle should be displayed or not.\r\n   */\r\n  updateHandleVisibility() {\r\n    if (!this.xfoHandle) return\r\n    const selection = this.selectionGroup.getItems()\r\n    const visible = Array.from(selection).length > 0\r\n    this.xfoHandle.setVisible(visible)\r\n    this.__renderer.requestRedraw()\r\n  }\r\n\r\n  /**\r\n   * Returns an array with the selected items.\r\n   *\r\n   * @return {array} - The return value.\r\n   */\r\n  getSelection() {\r\n    return this.selectionGroup.getItems()\r\n  }\r\n\r\n  /**\r\n   * Sets a new selection of items in the `SelectionManager`\r\n   *\r\n   * @param {Set} newSelection - The newSelection param\r\n   * @param {boolean} [createUndo=true] - The createUndo param\r\n   */\r\n  setSelection(newSelection, createUndo = true) {\r\n    const selection = new Set(this.selectionGroup.getItems())\r\n    const prevSelection = new Set(selection)\r\n    for (const treeItem of newSelection) {\r\n      if (!selection.has(treeItem)) {\r\n        // treeItem.setSelected(true);\r\n        selection.add(treeItem)\r\n      }\r\n    }\r\n    for (const treeItem of selection) {\r\n      if (!newSelection.has(treeItem)) {\r\n        // treeItem.setSelected(false);\r\n        selection.delete(treeItem)\r\n      }\r\n    }\r\n\r\n    this.selectionGroup.setItems(selection)\r\n\r\n    // Deselecting can change the lead selected item.\r\n    if (selection.size > 0) this.__setLeadSelection(selection.values().next().value)\r\n    else this.__setLeadSelection()\r\n    this.updateHandleVisibility()\r\n\r\n    if (createUndo) {\r\n      const change = new SelectionChange(this, prevSelection, selection)\r\n      if (this.appData.undoRedoManager) this.appData.undoRedoManager.addChange(change)\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {TreeItem} treeItem - The treeItem value\r\n   * @private\r\n   */\r\n  __setLeadSelection(treeItem) {\r\n    if (this.leadSelection != treeItem) {\r\n      this.leadSelection = treeItem\r\n      this.emit('leadSelectionChanged', { treeItem })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The toggleItemSelection method.\r\n   *\r\n   * @param {TreeItem} treeItem - The treeItem param.\r\n   * @param {boolean} replaceSelection - The replaceSelection param.\r\n   */\r\n  toggleItemSelection(treeItem, replaceSelection = true) {\r\n    const selection = new Set(this.selectionGroup.getItems())\r\n    const prevSelection = new Set(selection)\r\n\r\n    // Avoid clearing the selection when we have the\r\n    // item already selected and are deselecting it.\r\n    // (to clear all selection)\r\n    if (replaceSelection && !(selection.size == 1 && selection.has(treeItem))) {\r\n      let clear = true\r\n      if (selection.has(treeItem)) {\r\n        let count = 1\r\n        treeItem.traverse((subTreeItem) => {\r\n          if (selection.has(subTreeItem)) {\r\n            count++\r\n          }\r\n        })\r\n        // Note: In some cases, the item is currently selected, and\r\n        // its children make up all the selected items. In that case\r\n        // the user intends to deselect the item and all its children.\r\n        // Avoid cleaning here, so the deselection can occur.\r\n        clear = count != selection.size\r\n      }\r\n\r\n      if (clear) {\r\n        // Array.from(selection).forEach(item => {\r\n        //   item.setSelected(false);\r\n        // });\r\n        selection.clear()\r\n      }\r\n    }\r\n\r\n    let sel\r\n    if (!selection.has(treeItem)) {\r\n      // treeItem.setSelected(true);\r\n      selection.add(treeItem)\r\n      sel = true\r\n    } else {\r\n      // treeItem.setSelected(false);\r\n      selection.delete(treeItem)\r\n      sel = false\r\n    }\r\n\r\n    // const preExpandSelSize = selection.size;\r\n\r\n    // Now expand the selection to the subtree.\r\n    // treeItem.traverse((subTreeItem)=>{\r\n    //   if (sel) {\r\n    //     if(!selection.has(subTreeItem)) {\r\n    //       // subTreeItem.setSelected(true);\r\n    //       selection.add(subTreeItem);\r\n    //       // this.selectionGroup.addItem(treeItem);\r\n    //     }\r\n    //   }\r\n    //   else {\r\n    //     if(selection.has(subTreeItem)) {\r\n    //       subTreeItem.setSelected(false);\r\n    //       selection.delete(subTreeItem);\r\n    //       // this.selectionGroup.removeItem(treeItem);\r\n    //     }\r\n    //   }\r\n    // })\r\n\r\n    this.selectionGroup.setItems(selection)\r\n\r\n    if (sel && selection.size === 1) {\r\n      this.__setLeadSelection(treeItem)\r\n    } else if (!sel) {\r\n      // Deselecting can change the lead selected item.\r\n      if (selection.size === 1) this.__setLeadSelection(selection.values().next().value)\r\n      else if (selection.size === 0) this.__setLeadSelection()\r\n    }\r\n\r\n    const change = new SelectionChange(this, prevSelection, selection)\r\n    if (this.appData.undoRedoManager) this.appData.undoRedoManager.addChange(change)\r\n\r\n    this.updateHandleVisibility()\r\n    this.emit('selectionChanged', { prevSelection, selection })\r\n  }\r\n\r\n  /**\r\n   * Clears selection state by removing previous selected items and the Xfo handlers.\r\n   *\r\n   * @param {boolean} newChange - The newChange param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  clearSelection(newChange = true) {\r\n    const selection = new Set(this.selectionGroup.getItems())\r\n    if (selection.size == 0) return false\r\n    let prevSelection\r\n    if (newChange) {\r\n      prevSelection = new Set(selection)\r\n    }\r\n    // for (const treeItem of selection) {\r\n    //   treeItem.setSelected(false);\r\n    // }\r\n    selection.clear()\r\n    this.selectionGroup.setItems(selection)\r\n    this.updateHandleVisibility()\r\n    if (newChange) {\r\n      const change = new SelectionChange(this, prevSelection, selection)\r\n      if (this.appData.undoRedoManager) this.appData.undoRedoManager.addChange(change)\r\n      this.emit('selectionChanged', { selection, prevSelection })\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Selects the specified items replacing previous selection or concatenating new items to it.\r\n   *\r\n   * @param {array} treeItems - The treeItems param.\r\n   * @param {boolean} replaceSelection - The replaceSelection param.\r\n   */\r\n  selectItems(treeItems, replaceSelection = true) {\r\n    const selection = new Set(this.selectionGroup.getItems())\r\n    const prevSelection = new Set(selection)\r\n\r\n    if (replaceSelection) {\r\n      selection.clear()\r\n    }\r\n\r\n    for (const treeItem of treeItems) {\r\n      if (!treeItem.getSelected()) {\r\n        selection.add(treeItem)\r\n      }\r\n    }\r\n\r\n    const change = new SelectionChange(this, prevSelection, selection)\r\n\r\n    if (this.appData.undoRedoManager) this.appData.undoRedoManager.addChange(change)\r\n\r\n    this.selectionGroup.setItems(selection)\r\n    if (selection.size === 1) {\r\n      this.__setLeadSelection(selection.values().next().value)\r\n    } else if (selection.size === 0) {\r\n      this.__setLeadSelection()\r\n    }\r\n    this.updateHandleVisibility()\r\n    this.emit('selectionChanged', { prevSelection, selection })\r\n  }\r\n\r\n  /**\r\n   * Deselects the specified items from the selection group.\r\n   *\r\n   * @param {array} treeItems - The treeItems param.\r\n   */\r\n  deselectItems(treeItems) {\r\n    const selection = this.selectionGroup.getItems()\r\n    const prevSelection = new Set(selection)\r\n\r\n    for (const treeItem of treeItems) {\r\n      if (treeItem.getSelected()) {\r\n        // treeItem.setSelected(false);\r\n        selection.delete(selectedParam)\r\n        // treeItem.traverse((subTreeItem)=>{\r\n        //   if(!selection.has(subTreeItem)) {\r\n        //     subTreeItem.setSelected(false);\r\n        //     selection.delete(treeItem);\r\n        //   }\r\n        // })\r\n      }\r\n    }\r\n\r\n    this.selectionGroup.setItems(selection)\r\n    const change = new SelectionChange(this, prevSelection, selection)\r\n\r\n    if (this.appData.undoRedoManager) this.appData.undoRedoManager.addChange(change)\r\n\r\n    if (selection.size === 1) {\r\n      this.__setLeadSelection(selection.values().next().value)\r\n    } else if (selection.size === 0) {\r\n      this.__setLeadSelection()\r\n    }\r\n    this.updateHandleVisibility()\r\n    this.emit('selectionChanged', { prevSelection, selection })\r\n  }\r\n\r\n  /**\r\n   * Toggles selection visibility, if the visibility is `true`then sets it to `false` and vice versa.\r\n   */\r\n  toggleSelectionVisibility() {\r\n    if (this.leadSelection) {\r\n      const selection = this.selectionGroup.getItems()\r\n      const state = !this.leadSelection.getVisible()\r\n      const change = new SelectionVisibilityChange(selection, state)\r\n      if (this.appData.undoRedoManager) this.appData.undoRedoManager.addChange(change)\r\n    }\r\n  }\r\n\r\n  // ////////////////////////////////////\r\n  /**\r\n   * The startPickingMode method.\r\n   *\r\n   * @param {string} label - The label param.\r\n   * @param {function} fn - The fn param.\r\n   * @param {function} filterFn - The filterFn param.\r\n   * @param {number} count - The count param.\r\n   */\r\n  startPickingMode(label, fn, filterFn, count) {\r\n    // Display this in a status bar.\r\n    console.log(label)\r\n    this.__pickCB = fn\r\n    this.__pickFilter = filterFn\r\n    this.__pickCount = count\r\n    this.__picked = []\r\n  }\r\n\r\n  /**\r\n   * The pickingFilter method.\r\n   *\r\n   * @param {TreeItem} item - The item param.\r\n   * @return {any} The return value.\r\n   */\r\n  pickingFilter(item) {\r\n    return this.__pickFilter(item)\r\n  }\r\n\r\n  /**\r\n   * The pickingModeActive method.\r\n   *\r\n   * @return {boolean} The return value.\r\n   */\r\n  pickingModeActive() {\r\n    return this.__pickCB != undefined\r\n  }\r\n\r\n  /**\r\n   * The cancelPickingMode method.\r\n   */\r\n  cancelPickingMode() {\r\n    this.__pickCB = undefined\r\n  }\r\n\r\n  /**\r\n   * The pick method.\r\n   * @param {TreeItem} item - The item param.\r\n   */\r\n  pick(item) {\r\n    if (this.__pickCB) {\r\n      if (Array.isArray(item)) {\r\n        if (this.__pickFilter) this.__picked = this.__picked.concat(item.filter(this.__pickFilter))\r\n        else this.__picked = this.__picked.concat(item)\r\n      } else {\r\n        if (this.__pickFilter && !this.__pickFilter(item)) return\r\n        this.__picked.push(item)\r\n      }\r\n      if (this.__picked.length == this.__pickCount) {\r\n        this.__pickCB(this.__picked)\r\n        this.__pickCB = undefined\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default SelectionManager\r\nexport { SelectionManager }\r\n","import { TreeItem, Operator, Registry } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../UndoRedoManager.js'\r\nimport Change from '../Change.js'\r\n\r\n/**\r\n * Class representing an `Add TreeItem` Change. Meaning that this should be called when you add a new `TreeItem` to the scene.\r\n *\r\n * @extends Change\r\n */\r\nclass TreeItemAddChange extends Change {\r\n  /**\r\n   * Creates an instance of TreeItemAddChange.\r\n   *\r\n   * @param {TreeItem} treeItem -\r\n   * @param {TreeItem} owner -\r\n   * @param {SelectionManager} selectionManager -\r\n   */\r\n  constructor(treeItem, owner, selectionManager) {\r\n    if (treeItem) {\r\n      super(treeItem.getName() + ' Added')\r\n      this.treeItem = treeItem\r\n      this.owner = owner\r\n      this.selectionManager = selectionManager\r\n      this.prevSelection = new Set(this.selectionManager.getSelection())\r\n      this.treeItemIndex = this.owner.addChild(this.treeItem)\r\n      this.selectionManager.setSelection(new Set([this.treeItem]), false)\r\n\r\n      this.treeItem.addRef(this)\r\n    } else {\r\n      super()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes the newly added TreeItem from its owner.\r\n   */\r\n  undo() {\r\n    if (this.treeItem instanceof Operator) {\r\n      const op = this.treeItem\r\n      op.detach()\r\n    } else if (this.treeItem instanceof TreeItem) {\r\n      this.treeItem.traverse((subTreeItem) => {\r\n        if (subTreeItem instanceof Operator) {\r\n          const op = subTreeItem\r\n          op.detach()\r\n        }\r\n      }, false)\r\n    }\r\n    this.owner.removeChild(this.treeItemIndex)\r\n    if (this.selectionManager) this.selectionManager.setSelection(this.prevSelection, false)\r\n  }\r\n\r\n  /**\r\n   * Restores undone `TreeItem`.\r\n   */\r\n  redo() {\r\n    // Now re-attach all the detached operators.\r\n    if (this.treeItem instanceof Operator) {\r\n      const op = this.treeItem\r\n      op.reattach()\r\n    } else if (subTreeItem instanceof TreeItem) {\r\n      this.treeItem.traverse((subTreeItem) => {\r\n        if (subTreeItem instanceof Operator) {\r\n          const op = subTreeItem\r\n          op.reattach()\r\n        }\r\n      }, false)\r\n    }\r\n    this.owner.addChild(this.treeItem)\r\n    if (this.selectionManager) this.selectionManager.setSelection(new Set([this.treeItem]), false)\r\n  }\r\n\r\n  /**\r\n   * Serializes `TreeItem` like instanced class into a JSON object.\r\n   *\r\n   * @param {object} context - The context treeItem\r\n   * @return {object} - JSON object\r\n   */\r\n  toJSON(context) {\r\n    const j = {\r\n      name: this.name,\r\n      treeItem: this.treeItem.toJSON(context),\r\n      treeItemPath: this.treeItem.getPath(),\r\n      treeItemIndex: this.treeItemIndex,\r\n    }\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Reconstructs `TreeItem` like parameter from JSON object.\r\n   *\r\n   * @param {object} j -The j treeItem\r\n   * @param {object} context - The context treeItem\r\n   */\r\n  fromJSON(j, context) {\r\n    const treeItem = Registry.constructClass(j.treeItem.type)\r\n    if (!treeItem) {\r\n      console.warn('resolvePath is unable to construct', j.treeItem)\r\n      return\r\n    }\r\n    this.name = j.name\r\n    this.treeItem = treeItem\r\n    this.treeItem.addRef(this)\r\n\r\n    this.treeItem.fromJSON(j.treeItem, context)\r\n    this.treeItemIndex = this.owner.addChild(this.treeItem, false, false)\r\n  }\r\n\r\n  /**\r\n   * Removes reference of the `TreeItem` from current change.\r\n   */\r\n  destroy() {\r\n    this.treeItem.removeRef(this)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('TreeItemAddChange', TreeItemAddChange)\r\n\r\nexport { TreeItemAddChange }\r\n","import UndoRedoManager from '../UndoRedoManager.js'\r\nimport Change from '../Change.js'\r\n\r\n/**\r\n * Class representing a `Move TreeItem` Change(Moving a TreeItem from one parent to another).\r\n *\r\n * @extends Change\r\n */\r\nclass TreeItemMoveChange extends Change {\r\n  /**\r\n   * Creates an instance of TreeItemMoveChange.\r\n   *\r\n   * @param {TreeItem} treeItem - The item to move.\r\n   * @param {TreeItem} newOwner - The new owner item.\r\n   * @memberof TreeItemMoveChange\r\n   */\r\n  constructor(treeItem, newOwner) {\r\n    if (treeItem) {\r\n      super(treeItem.getName() + ' Moved')\r\n      this.treeItem = treeItem\r\n      this.oldOwner = this.treeItem.getOwner()\r\n      this.oldOwnerIndex = this.oldOwner.getChildIndex(this.treeItem)\r\n      this.newOwner = newOwner\r\n      this.newOwner.addChild(this.treeItem, true)\r\n    } else {\r\n      super()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Inserts back the moved TreeItem in the old owner item(Rollbacks the move action).\r\n   */\r\n  undo() {\r\n    this.oldOwner.insertChild(this.treeItem, this.oldOwnerIndex, true)\r\n  }\r\n\r\n  /**\r\n   * Executes the move action inserting the TreeItem back to the new owner item.\r\n   */\r\n  redo() {\r\n    this.newOwner.addChild(this.treeItem, true)\r\n  }\r\n\r\n  /**\r\n   * Returns a JSON object with the specifications of the change(Typically used for replication).\r\n   *\r\n   * @param {object} context - The context value\r\n   * @return {object} - JSON object of the change\r\n   */\r\n  toJSON(context) {\r\n    const j = {\r\n      name: this.name,\r\n      treeItemPath: this.treeItem.getPath(),\r\n      newOwnerPath: this.newOwner.getPath(),\r\n    }\r\n\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Restores the Change state from the specified JSON object.\r\n   *\r\n   * @param {object} j - The serialized object with the change data.\r\n   * @param {object} context - The context value\r\n   */\r\n  fromJSON(j, context) {\r\n    const treeItem = appData.scene.getRoot().resolvePath(j.treeItemPath, 1)\r\n    if (!treeItem) {\r\n      console.warn('resolvePath is unable to resolve', j.treeItemPath)\r\n      return\r\n    }\r\n    const newOwner = appData.scene.getRoot().resolvePath(j.newOwnerPath, 1)\r\n    if (!newOwner) {\r\n      console.warn('resolvePath is unable to resolve', j.newOwnerPath)\r\n      return\r\n    }\r\n    this.name = j.name\r\n    this.treeItem = treeItem\r\n    this.newOwner = newOwner\r\n\r\n    this.oldOwner = this.treeItem.getOwner()\r\n    this.oldOwnerIndex = this.oldOwner.getChildIndex(this.treeItem)\r\n    this.newOwner.addChild(this.treeItem, true)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('TreeItemMoveChange', TreeItemMoveChange)\r\n\r\nexport { TreeItemMoveChange }\r\n","import { TreeItem, Operator } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../UndoRedoManager.js'\r\nimport Change from '../Change.js'\r\n\r\n/**\r\n * Class representing a TreeItems removal Change,\r\n * taking into account that it would remove all the specified items ti their children\r\n *\r\n * @extends Change\r\n */\r\nclass TreeItemsRemoveChange extends Change {\r\n  /**\r\n   * Creates an instance of TreeItemsRemoveChange.\r\n   *\r\n   * @param {array} items - List of TreeItems\r\n   * @param {object} appData - The appData value\r\n   */\r\n  constructor(items, appData) {\r\n    super()\r\n    this.items = []\r\n    this.itemOwners = []\r\n    this.itemPaths = []\r\n    this.itemIndices = []\r\n    if (items) {\r\n      this.selectionManager = appData.selectionManager\r\n      this.prevSelection = new Set(this.selectionManager.getSelection())\r\n      this.items = items\r\n      this.newSelection = new Set(this.prevSelection)\r\n\r\n      const itemNames = []\r\n      this.items.forEach((item) => {\r\n        const owner = item.getOwner()\r\n        const itemIndex = owner.getChildIndex(item)\r\n        itemNames.push(item.getName())\r\n        item.addRef(this)\r\n        this.itemOwners.push(owner)\r\n        this.itemPaths.push(item.getPath())\r\n        this.itemIndices.push(itemIndex)\r\n\r\n        if (this.selectionManager && this.newSelection.has(item)) this.newSelection.delete(item)\r\n        if (item instanceof Operator) {\r\n          const op = item\r\n          op.detach()\r\n        } else if (item instanceof TreeItem) {\r\n          item.traverse((subTreeItem) => {\r\n            if (subTreeItem instanceof Operator) {\r\n              const op = subTreeItem\r\n              op.detach()\r\n            }\r\n            if (this.selectionManager && this.newSelection.has(subTreeItem)) this.newSelection.delete(subTreeItem)\r\n          }, false)\r\n        }\r\n\r\n        owner.removeChild(itemIndex)\r\n      })\r\n      this.selectionManager.setSelection(this.newSelection, false)\r\n\r\n      this.name = itemNames + ' Deleted'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Restores all items removed in the change, reattaching them to their old owners.\r\n   */\r\n  undo() {\r\n    this.items.forEach((item, index) => {\r\n      this.itemOwners[index].insertChild(item, this.itemIndices[index], false, false)\r\n\r\n      // Now re-attach all the detached operators.\r\n      if (item instanceof Operator) {\r\n        const op = item\r\n        op.reattach()\r\n      } else if (subTreeItem instanceof TreeItem) {\r\n        item.traverse((subTreeItem) => {\r\n          if (subTreeItem instanceof Operator) {\r\n            const op = subTreeItem\r\n            op.reattach()\r\n          }\r\n        }, false)\r\n      }\r\n    })\r\n    if (this.selectionManager) this.selectionManager.setSelection(this.prevSelection, false)\r\n  }\r\n\r\n  /**\r\n   * Executes initial change to remove items from their owners.\r\n   */\r\n  redo() {\r\n    if (this.selectionManager) this.selectionManager.setSelection(this.newSelection, false)\r\n\r\n    // Now re-detach all the operators.\r\n    this.items.forEach((item, index) => {\r\n      this.itemOwners[index].removeChild(this.itemIndices[index])\r\n\r\n      if (item instanceof Operator) {\r\n        const op = item\r\n        op.detach()\r\n      } else if (subTreeItem instanceof TreeItem) {\r\n        item.traverse((subTreeItem) => {\r\n          if (subTreeItem instanceof Operator) {\r\n            const op = subTreeItem\r\n            op.detach()\r\n          }\r\n        }, false)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Serializes current change data as a JSON object, so this action can be stored/replicated somewhere else.\r\n   *\r\n   * @param {object} appData - The appData value\r\n   * @return {object} - JSON Object representation of current change\r\n   * @memberof TreeItemsRemoveChange\r\n   */\r\n  toJSON(appData) {\r\n    const j = {\r\n      name: this.name,\r\n      items: [],\r\n      itemPaths: this.itemPaths,\r\n      itemIndices: this.itemIndices,\r\n    }\r\n    this.items.forEach((item) => {\r\n      j.items.push(item.toJSON())\r\n    })\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Restores Change action from a JSON object.\r\n   *\r\n   * @param {object} j - The JSON object with Change data.\r\n   * @param {object} appData - The appData value\r\n   * @memberof TreeItemsRemoveChange\r\n   */\r\n  fromJSON(j, appData) {\r\n    this.name = j.name\r\n    j.itemPaths.forEach((itemPath) => {\r\n      const item = appData.scene.getRoot().resolvePath(itemPath, 1)\r\n      if (!item) {\r\n        console.warn('resolvePath is unable to resolve', itemPath)\r\n        return\r\n      }\r\n      const owner = item.getOwner()\r\n      this.itemOwners.push(owner)\r\n      this.itemPaths.push(item.getPath())\r\n      this.itemIndices.push(owner.getChildIndex(item))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The destroy method cleans up any data requiring manual cleanup.\r\n   * Deleted items still on the undo stack are then flushed and any\r\n   * GPU resources cleaned up.\r\n   */\r\n  destroy() {\r\n    this.items.forEach((item) => item.removeRef(this))\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('TreeItemsRemoveChange', TreeItemsRemoveChange)\r\n\r\nexport { TreeItemsRemoveChange }\r\n","import { EventEmitter } from '@zeainc/zea-engine'\r\n\r\n/**\r\n * Class representing a tool manager.\r\n */\r\nclass ToolManager extends EventEmitter {\r\n  /**\r\n   * Creates an instance of ToolManager.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super()\r\n    this.__toolStack = []\r\n    this.appData = appData\r\n\r\n    this.avatarPointerVisible = false\r\n    this.avatarPointerHighlighted = false\r\n  }\r\n\r\n  /**\r\n   * The insertTool method.\r\n   *\r\n   * @param {BaseTool} tool - The tool param.\r\n   * @param {number} index - The index param.\r\n   */\r\n  insertTool(tool, index) {\r\n    this.__toolStack.splice(index, 0, tool)\r\n    tool.install(index)\r\n  }\r\n\r\n  /**\r\n   * The insertToolBefore method.\r\n   *\r\n   * @param {BaseTool} tool - The tool param.\r\n   * @param {BaseTool} beforeTool - The beforeTool param.\r\n   * @return {number} The return value.\r\n   */\r\n  insertToolBefore(tool, beforeTool) {\r\n    // Note: when activating new tools in VR, we\r\n    // can insert the new tool below the VRUI tool,\r\n    // so that once the VR UI is closed, it becomes\r\n    // the new active tool.\r\n    const index = this.__toolStack.indexOf(beforeTool) + 1\r\n    this.__toolStack.splice(index - 1, 0, tool)\r\n    tool.install(index)\r\n    return index\r\n  }\r\n\r\n  /**\r\n   * The insertToolAfter method.\r\n   *\r\n   * @param {BaseTool} tool - The tool param.\r\n   * @param {BaseTool} afterTool - The afterTool param.\r\n   * @return {number} The return value.\r\n   */\r\n  insertToolAfter(tool, afterTool) {\r\n    const index = this.__toolStack.indexOf(afterTool) + 1\r\n    this.__toolStack.splice(index, 0, tool)\r\n    tool.install(index)\r\n    if (index == this.__toolStack.length) {\r\n      tool.activateTool()\r\n    }\r\n    return index\r\n  }\r\n\r\n  /**\r\n   * The getToolIndex method.\r\n   *\r\n   * @param {BaseTool} tool - The tool param.\r\n   * @return {number} The return value.\r\n   */\r\n  getToolIndex(tool) {\r\n    return this.__toolStack.indexOf(tool)\r\n  }\r\n\r\n  /**\r\n   * The removeTool method.\r\n   *\r\n   * @param {number} index - The index param.\r\n   */\r\n  removeTool(index) {\r\n    const tool = this.__toolStack[index]\r\n    this.__toolStack.splice(index, 1)\r\n    tool.uninstall()\r\n    if (index == this.__toolStack.length) {\r\n      tool.deactivateTool()\r\n\r\n      const nextTool = this.currTool()\r\n      if (nextTool) nextTool.activateTool()\r\n      else {\r\n        // Make sure to reset the pointer in case any tool\r\n        // didn't close correctly.\r\n        // this.appData.renderer.getDiv().style.cursor = 'pointer'\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The removeToolByHandle method.\r\n   *\r\n   * @param {BaseTool} tool - The tool param.\r\n   */\r\n  removeToolByHandle(tool) {\r\n    this.removeTool(this.getToolIndex(tool))\r\n  }\r\n\r\n  /**\r\n   * The pushTool method.\r\n   *\r\n   * @param {BaseTool} tool - The tool param.\r\n   * @return {number} The return value.\r\n   */\r\n  pushTool(tool) {\r\n    const prevTool = this.currTool()\r\n    if (prevTool) {\r\n      if (tool == prevTool) {\r\n        console.warn('Tool Already Pushed on the stack:', tool.constructor.name)\r\n        return\r\n      } else {\r\n        // Note: only the lead tool is 'active' and displaying an icon.\r\n        // A tool can recieve events even if not active, if it is on\r\n        // the stack.\r\n        prevTool.deactivateTool()\r\n      }\r\n    }\r\n\r\n    this.__toolStack.push(tool)\r\n    tool.install(this.__toolStack.length - 1)\r\n    tool.activateTool()\r\n\r\n    console.log('ToolManager.pushTool:', tool.constructor.name)\r\n\r\n    return this.__toolStack.length - 1\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @private\r\n   */\r\n  __removeCurrTool() {\r\n    if (this.__toolStack.length > 0) {\r\n      const prevTool = this.__toolStack.pop()\r\n      prevTool.deactivateTool()\r\n      prevTool.uninstall()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The popTool method.\r\n   */\r\n  popTool() {\r\n    this.__removeCurrTool()\r\n    const tool = this.currTool()\r\n    if (tool) tool.activateTool()\r\n    // console.log(\"ToolManager.popTool:\", prevTool.constructor.name, (tool ? tool.constructor.name : ''))\r\n  }\r\n\r\n  /**\r\n   * The replaceCurrentTool method.\r\n   *\r\n   * @param {BaseTool} tool - The tool param.\r\n   */\r\n  replaceCurrentTool(tool) {\r\n    this.__removeCurrTool()\r\n    this.__toolStack.push(tool)\r\n    tool.install(this.__toolStack.length - 1)\r\n    tool.activateTool()\r\n  }\r\n\r\n  /**\r\n   * The currTool method.\r\n   *\r\n   * @return {BaseTool} The return value.\r\n   */\r\n  currTool() {\r\n    return this.__toolStack[this.__toolStack.length - 1]\r\n  }\r\n\r\n  /**\r\n   * The currToolName method.\r\n   *\r\n   * @return {string} The return value.\r\n   */\r\n  currToolName() {\r\n    return this.__toolStack[this.__toolStack.length - 1].getName()\r\n  }\r\n\r\n  /**\r\n   * The bind method.\r\n   *\r\n   * @param {GLBaseRenderer} renderer - The renderer param.\r\n   */\r\n  bind(renderer) {\r\n    const viewport = renderer.getViewport()\r\n\r\n    this.mouseDownId = viewport.on('mouseDown', this.onMouseDown.bind(this))\r\n    this.mouseMoveId = viewport.on('mouseMove', this.onMouseMove.bind(this))\r\n    this.mouseUpId = viewport.on('mouseUp', this.onMouseUp.bind(this))\r\n    this.mouseLeaveId = viewport.on('mouseLeave', this.onMouseLeave.bind(this))\r\n    this.mouseDoubleClickedId = viewport.on('mouseDoubleClicked', this.onDoubleClick.bind(this))\r\n    this.mouseWheelId = viewport.on('mouseWheel', this.onWheel.bind(this))\r\n\r\n    // ///////////////////////////////////\r\n    // Keyboard events\r\n    this.keyDownId = viewport.on('keyDown', this.onKeyDown.bind(this))\r\n    this.keyUpId = viewport.on('keyUp', this.onKeyUp.bind(this))\r\n    this.keyPressedId = viewport.on('keyPressed', this.onKeyPressed.bind(this))\r\n\r\n    // ///////////////////////////////////\r\n    // Touch events\r\n    this.touchStartId = viewport.on('touchStart', this.onTouchStart.bind(this))\r\n    this.touchMoveId = viewport.on('touchMove', this.onTouchMove.bind(this))\r\n    this.touchEndId = viewport.on('touchEnd', this.onTouchEnd.bind(this))\r\n    this.touchCancelId = viewport.on('touchCancel', this.onTouchCancel.bind(this))\r\n    this.doubleTappedId = viewport.on('doubleTapped', this.onDoubleTap.bind(this))\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      // ///////////////////////////////////\r\n      // VRController events\r\n      this.controllerDownId = xrvp.on('controllerButtonDown', this.onVRControllerButtonDown.bind(this))\r\n      this.controllerUpId = xrvp.on('controllerButtonUp', this.onVRControllerButtonUp.bind(this))\r\n      this.controllerDoubleClickId = xrvp.on('controllerDoubleClicked', this.onVRControllerDoubleClicked.bind(this))\r\n      this.onVRPoseChangedId = xrvp.on('viewChanged', this.onVRPoseChanged.bind(this))\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The onMouseDown method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseDown(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    event.showPointerOnAvatar = true\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onMouseDown(event) == true) break\r\n    }\r\n\r\n    if (event.showPointerOnAvatar == true) {\r\n      if (!this.avatarPointerVisible) {\r\n        this.emit('movePointer', event)\r\n        this.avatarPointerVisible = true\r\n      }\r\n      if (!this.avatarPointerHighlighted) {\r\n        this.emit('hilightPointer', event)\r\n        this.avatarPointerHighlighted = true\r\n      }\r\n    } else if (this.avatarPointerVisible) {\r\n      this.avatarPointerVisible = false\r\n      this.emit('hidePointer')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onMouseMove method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseMove(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    event.showPointerOnAvatar = true\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onMouseMove(event) == true) break\r\n    }\r\n    if (event.showPointerOnAvatar == true) {\r\n      this.emit('movePointer', event)\r\n      this.avatarPointerVisible = true\r\n    } else if (this.avatarPointerVisible) {\r\n      this.avatarPointerVisible = false\r\n      this.emit('hidePointer')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onMouseUp method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseUp(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    event.showPointerOnAvatar = true\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onMouseUp(event) == true) break\r\n    }\r\n    if (event.showPointerOnAvatar == true) {\r\n      if (this.avatarPointerHighlighted) {\r\n        this.emit('unhilightPointer', event)\r\n        this.avatarPointerHighlighted = false\r\n      }\r\n    } else if (this.avatarPointerVisible) {\r\n      this.avatarPointerVisible = false\r\n      this.emit('hidePointer')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onMouseLeave method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseLeave(event) {\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onMouseLeave && tool.onMouseLeave(event) == true) break\r\n    }\r\n    if (this.avatarPointerVisible) {\r\n      this.avatarPointerVisible = false\r\n      this.emit('hidePointer')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onDoubleClick method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onDoubleClick(event) {\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onDoubleClick(event) == true) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onWheel method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onWheel(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onWheel(event) == true) break\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Keyboard events\r\n\r\n  /**\r\n   * The onKeyPressed method.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyPressed(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onKeyPressed(event, event, viewport) == true) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onKeyDown method.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyDown(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onKeyDown(event) == true) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onKeyUp method.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyUp(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onKeyUp(event) == true) break\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Touch events\r\n\r\n  /**\r\n   * The onTouchStart method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchStart(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onTouchStart(event) == true) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onTouchMove method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchMove(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onTouchMove(event) == true) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onTouchEnd method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchEnd(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onTouchEnd(event) == true) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onTouchCancel method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchCancel(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onTouchCancel(event) == true) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onDoubleTap method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onDoubleTap(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onDoubleTap(event) == true) break\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * The __prepareEvent method.\r\n   * @param {object} event - The event that occurs.\r\n   * @private\r\n   */\r\n  __prepareEvent(event) {\r\n    event.undoRedoManager = this.appData.undoRedoManager\r\n    event.propagating = true\r\n    event.stopPropagation = () => {\r\n      event.propagating = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonDown method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    this.__prepareEvent(event)\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onVRControllerButtonDown(event) == true) break\r\n      if (!event.propagating) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonUp method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    this.__prepareEvent(event)\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onVRControllerButtonUp(event) == true) break\r\n      if (!event.propagating) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerDoubleClicked method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerDoubleClicked(event) {\r\n    this.__prepareEvent(event)\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onVRControllerDoubleClicked(event) == true) break\r\n      if (!event.propagating) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    this.__prepareEvent(event)\r\n    let i = this.__toolStack.length\r\n    while (i--) {\r\n      const tool = this.__toolStack[i]\r\n      if (tool && tool.onVRPoseChanged(event) == true) break\r\n      if (!event.propagating) break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The destroy method.\r\n   */\r\n  destroy() {\r\n    const viewport = this.appData.renderer.getViewport()\r\n\r\n    viewport.removeListenerById('mouseDown', this.mouseDownId)\r\n    viewport.removeListenerById('mouseMove', this.mouseMoveId)\r\n    viewport.removeListenerById('mouseUp', this.mouseUpId)\r\n    viewport.removeListenerById('mouseLeave', this.mouseUpId)\r\n    viewport.removeListenerById('mouseWheel', this.mouseWheelId)\r\n\r\n    // ///////////////////////////////////\r\n    // Keyboard events\r\n    viewport.removeListenerById('keyDown', this.keyDownId)\r\n    viewport.removeListenerById('keyUp', this.keyUpId)\r\n    viewport.removeListenerById('keyPressed', this.keyPressedId)\r\n\r\n    // ///////////////////////////////////\r\n    // Touch events\r\n    viewport.removeListenerById('touchStart', this.touchStartId)\r\n    viewport.removeListenerById('touchMove', this.touchMoveId)\r\n    viewport.removeListenerById('touchEnd', this.touchEndId)\r\n    viewport.removeListenerById('touchCancel', this.touchCancelId)\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      // ///////////////////////////////////\r\n      // VRController events\r\n      viewport.removeListenerById('controllerDown', this.controllerDownId)\r\n      viewport.removeListenerById('controllerUp', this.controllerUpId)\r\n      viewport.removeListenerById('viewChanged', this.onVRPoseChangedId)\r\n    })\r\n  }\r\n}\r\n\r\nexport { ToolManager }\r\n","import { ParameterOwner } from '@zeainc/zea-engine'\r\n\r\n/**\r\n * Abstract class representing a tool with methods representing mouse, keyboard, touch and VR events.\r\n *\r\n * **Events**\r\n * * **installChanged:** Triggered when the tool is installed or uninstalled.\r\n * * **activatedChanged:** Triggered when a tool is activated or deactivated.\r\n *\r\n * @extends ParameterOwner\r\n */\r\nclass BaseTool extends ParameterOwner {\r\n  /**\r\n   * Creates an instance of BaseTool.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super()\r\n    if (!appData) console.error('App data not provided to tool')\r\n    this.appData = appData\r\n\r\n    this.__params = []\r\n    this.__installed = false\r\n    this.__activated = false\r\n  }\r\n\r\n  /**\r\n   * Returns the name of the tool class.\r\n   *\r\n   * @return {string} The return value.\r\n   */\r\n  getName() {\r\n    return this.constructor.name\r\n  }\r\n\r\n  /**\r\n   * Checks if the tool is a primary tool or not.\r\n   *\r\n   * @return {boolean} - The return value.\r\n   */\r\n  isPrimaryTool() {\r\n    return false\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Tools on the tool stack.\r\n\r\n  /**\r\n   * Checks whether the tool is already installed or not.\r\n   *\r\n   * @return {boolean} The return value.\r\n   */\r\n  installed() {\r\n    return this.__installed\r\n  }\r\n\r\n  /**\r\n   * Installs the tool.\r\n   *\r\n   * @param {number} index - The index param.\r\n   */\r\n  install(index) {\r\n    if (this.__installed) throw new Error('Tool already installed')\r\n    this.index = index\r\n    this.__installed = true\r\n    this.emit('installChanged', { installed: this.__installed })\r\n  }\r\n\r\n  /**\r\n   * Uninstalls tool.\r\n   */\r\n  uninstall() {\r\n    this.__installed = false\r\n    this.emit('installChanged', { installed: this.__installed })\r\n  }\r\n\r\n  /**\r\n   * Enables tools usage.\r\n   */\r\n  activateTool() {\r\n    if (this.__activated) throw new Error('Tool already activate')\r\n    this.__activated = true\r\n    this.emit('activatedChanged', { activated: this.__activated })\r\n  }\r\n\r\n  /**\r\n   * Disables tool usage.\r\n   */\r\n  deactivateTool() {\r\n    this.__activated = false\r\n    this.emit('activatedChanged', { activated: this.__activated })\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Event fired when a pointing device button is pressed while the pointer is over the tool.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseDown(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device is moved while the cursor's hotspot is inside it.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseMove(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is released while the pointer is over the tool.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseUp(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is double clicked on the tool.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onDoubleClick(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user rotates the pointing device wheel.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onWheel(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Keyboard events\r\n\r\n  /**\r\n   * Event fired when the user presses a key on the keyboard.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyPressed(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user presses down a key on the keyboard.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyDown(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user releases a key on the keyboard.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyUp(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Touch events\r\n\r\n  /**\r\n   * Event fired when one or more touch points are placed on the touch surface over a tool.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchStart(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when the one or more touch points are moved along the touch surface over a tool.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchMove(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when one or more touch points are removed from the touch surface over a tool.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchEnd(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when one or more touch points have been disrupted in an implementation-specific manner.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchCancel(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when two continuos touch point are placed on the touch surface over a tool.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onDoubleTap(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed over a tool.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is released over a tool.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed twice over a tool.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerDoubleClicked(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller...\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n}\r\n\r\nexport default BaseTool\r\nexport { BaseTool }\r\n","import {\r\n  SystemDesc,\r\n  Vec2,\r\n  Vec3,\r\n  Quat,\r\n  Color,\r\n  Xfo,\r\n  NumberParameter,\r\n  GeomItem,\r\n  Material,\r\n  Sphere,\r\n} from '@zeainc/zea-engine'\r\nimport BaseTool from './BaseTool'\r\n\r\nconst VIEW_TOOL_MODELS = {\r\n  VIEWER: 0,\r\n  DCC: 1,\r\n}\r\n\r\n/**\r\n * Class representing a view tool\r\n *\r\n * @extends BaseTool\r\n */\r\nclass ViewTool extends BaseTool {\r\n  /**\r\n   * Creates an instance of ViewTool.\r\n   * @param {object} appData - The appData value.\r\n   * @param {number} [manipulationModel=VIEW_TOOL_MODELS.VIEWER] - The manipulationModel value\r\n   */\r\n  constructor(appData, manipulationModel = VIEW_TOOL_MODELS.VIEWER) {\r\n    super(appData)\r\n    console.log('ViewTool:', manipulationModel)\r\n\r\n    this.__manipulationModel = manipulationModel\r\n    this.__defaultMode = 'orbit'\r\n    this.__mode = this.__defaultMode\r\n\r\n    this.__mouseDragDelta = new Vec2()\r\n    this.__keyboardMovement = false\r\n    this.__keysPressed = []\r\n    this.__maxVel = 0.002\r\n    this.__velocity = new Vec3()\r\n\r\n    this.__ongoingTouches = {}\r\n\r\n    this.__orbitRateParam = this.addParameter(new NumberParameter('orbitRate', 1))\r\n    this.__dollySpeedParam = this.addParameter(new NumberParameter('dollySpeed', 0.02))\r\n    this.__mouseWheelDollySpeedParam = this.addParameter(new NumberParameter('mouseWheelDollySpeed', 0.002))\r\n\r\n    this.__controllerTriggersHeld = []\r\n  }\r\n\r\n  // /////////////////////////////////////\r\n  //\r\n\r\n  /**\r\n   * The activateTool method.\r\n   */\r\n  activateTool() {\r\n    super.activateTool()\r\n    console.log('activateTool.ViewTool')\r\n\r\n    this.appData.renderer.getDiv().style.cursor = 'default'\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      if (!this.vrControllerToolTip) {\r\n        this.vrControllerToolTip = new Sphere(0.02 * 0.75)\r\n        this.vrControllerToolTipMat = new Material('Cross', 'FlatSurfaceShader')\r\n        this.vrControllerToolTipMat.getParameter('BaseColor').setValue(new Color('#03E3AC'))\r\n        this.vrControllerToolTipMat.visibleInGeomDataBuffer = false\r\n      }\r\n      const addIconToController = (controller) => {\r\n        const geomItem = new GeomItem('HandleToolTip', this.vrControllerToolTip, this.vrControllerToolTipMat)\r\n        controller.getTipItem().removeAllChildren()\r\n        controller.getTipItem().addChild(geomItem, false)\r\n      }\r\n      for (const controller of xrvp.getControllers()) {\r\n        addIconToController(controller)\r\n      }\r\n      this.addIconToControllerId = xrvp.on('controllerAdded', addIconToController)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The deactivateTool method.\r\n   */\r\n  deactivateTool() {\r\n    super.deactivateTool()\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      xrvp.removeListenerById('controllerAdded', this.addIconToControllerId)\r\n    })\r\n  }\r\n\r\n  // /////////////////////////////////////\r\n  //\r\n\r\n  /**\r\n   * The setDefaultMode method.\r\n   * @param {string} mode - The mode param.\r\n   */\r\n  setDefaultMode(mode) {\r\n    this.__defaultMode = mode\r\n  }\r\n\r\n  /**\r\n   * The look method.\r\n   * @param {Vec2} dragVec - The dragVec param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  look(dragVec, viewport) {\r\n    const focalDistance = viewport.getCamera().getFocalDistance()\r\n    const orbitRate = this.__orbitRateParam.getValue() * SystemDesc.isMobileDevice ? -1 : 1\r\n\r\n    if (this.__keyboardMovement) {\r\n      const globalXfo = viewport.getCamera().getParameter('GlobalXfo').getValue()\r\n      this.__mouseDownCameraXfo = globalXfo.clone()\r\n      this.__mouseDownZaxis = globalXfo.ori.getZaxis()\r\n      const targetOffset = this.__mouseDownZaxis.scale(-focalDistance)\r\n      this.__mouseDownCameraTarget = globalXfo.tr.add(targetOffset)\r\n    }\r\n\r\n    const globalXfo = this.__mouseDownCameraXfo.clone()\r\n\r\n    // Orbit\r\n    const orbit = new Quat()\r\n    orbit.rotateZ((dragVec.x / viewport.getWidth()) * Math.PI * orbitRate)\r\n    globalXfo.ori = orbit.multiply(globalXfo.ori)\r\n\r\n    // Pitch\r\n    const pitch = new Quat()\r\n    pitch.rotateX((dragVec.y / viewport.getHeight()) * Math.PI * orbitRate)\r\n    globalXfo.ori.multiplyInPlace(pitch)\r\n\r\n    if (this.__keyboardMovement) {\r\n      // TODO: debug this potential regression. we now use the generic method which emits a signal.\r\n      // Avoid generating a signal because we have an animation frame occuring.\r\n      // see: onKeyPressed\r\n      viewport.getCamera().getParameter('GlobalXfo').setValue(globalXfo)\r\n    } else {\r\n      viewport.getCamera().getParameter('GlobalXfo').setValue(globalXfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The orbit method.\r\n   * @param {Vec2} dragVec - The dragVec param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  orbit(dragVec, viewport) {\r\n    const focalDistance = viewport.getCamera().getFocalDistance()\r\n    const orbitRate = this.__orbitRateParam.getValue() * SystemDesc.isMobileDevice ? -1 : 1\r\n\r\n    if (this.__keyboardMovement) {\r\n      const globalXfo = viewport.getCamera().getParameter('GlobalXfo').getValue()\r\n      this.__mouseDownCameraXfo = globalXfo.clone()\r\n      this.__mouseDownZaxis = globalXfo.ori.getZaxis()\r\n      const targetOffset = this.__mouseDownZaxis.scale(-focalDistance)\r\n      this.__mouseDownCameraTarget = globalXfo.tr.add(targetOffset)\r\n    }\r\n\r\n    const globalXfo = this.__mouseDownCameraXfo.clone()\r\n\r\n    // Orbit\r\n    const orbit = new Quat()\r\n    orbit.rotateZ((dragVec.x / viewport.getWidth()) * 2 * Math.PI * -orbitRate)\r\n    globalXfo.ori = orbit.multiply(globalXfo.ori)\r\n\r\n    // Pitch\r\n    const pitch = new Quat()\r\n    pitch.rotateX((dragVec.y / viewport.getHeight()) * Math.PI * -orbitRate)\r\n    globalXfo.ori.multiplyInPlace(pitch)\r\n\r\n    globalXfo.tr = this.__mouseDownCameraTarget.add(globalXfo.ori.getZaxis().scale(focalDistance))\r\n\r\n    if (this.__keyboardMovement) {\r\n      // TODO: debug this potential regression. we now use the generic method which emits a signal.\r\n      // Avoid generating a signal because we have an animation frame occuring.\r\n      // see: onKeyPressed\r\n      viewport.getCamera().getParameter('GlobalXfo').setValue(globalXfo)\r\n    } else {\r\n      viewport.getCamera().getParameter('GlobalXfo').setValue(globalXfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The pan method.\r\n   *\r\n   * @param {Vec2} dragVec - The dragVec param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  pan(dragVec, viewport) {\r\n    const focalDistance = viewport.getCamera().getFocalDistance()\r\n    const fovY = viewport.getCamera().getFov()\r\n    const xAxis = new Vec3(1, 0, 0)\r\n    const yAxis = new Vec3(0, 1, 0)\r\n\r\n    const cameraPlaneHeight = 2.0 * focalDistance * Math.tan(0.5 * fovY)\r\n    const cameraPlaneWidth = cameraPlaneHeight * (viewport.getWidth() / viewport.getHeight())\r\n    const delta = new Xfo()\r\n    delta.tr = xAxis.scale(-(dragVec.x / viewport.getWidth()) * cameraPlaneWidth)\r\n    delta.tr.addInPlace(yAxis.scale((dragVec.y / viewport.getHeight()) * cameraPlaneHeight))\r\n\r\n    viewport.getCamera().getParameter('GlobalXfo').setValue(this.__mouseDownCameraXfo.multiply(delta))\r\n  }\r\n\r\n  /**\r\n   * The dolly method.\r\n   *\r\n   * @param {Vec2} dragVec - The dragVec param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  dolly(dragVec, viewport) {\r\n    const dollyDist = dragVec.x * this.__dollySpeedParam.getValue()\r\n    const delta = new Xfo()\r\n    delta.tr.set(0, 0, dollyDist)\r\n    viewport.getCamera().getParameter('GlobalXfo').setValue(this.__mouseDownCameraXfo.multiply(delta))\r\n  }\r\n\r\n  /**\r\n   * The panAndZoom method.\r\n   *\r\n   * @param {Vec2} panDelta - The panDelta param.\r\n   * @param {number} dragDist - The dragDist param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  panAndZoom(panDelta, dragDist, viewport) {\r\n    const focalDistance = viewport.getCamera().getFocalDistance()\r\n    const fovY = viewport.getCamera().getFov()\r\n\r\n    const xAxis = new Vec3(1, 0, 0)\r\n    const yAxis = new Vec3(0, 1, 0)\r\n\r\n    const cameraPlaneHeight = 2.0 * focalDistance * Math.tan(0.5 * fovY)\r\n    const cameraPlaneWidth = cameraPlaneHeight * (viewport.getWidth() / viewport.getHeight())\r\n    const delta = new Xfo()\r\n    delta.tr = xAxis.scale(-(panDelta.x / viewport.getWidth()) * cameraPlaneWidth)\r\n    delta.tr.addInPlace(yAxis.scale((panDelta.y / viewport.getHeight()) * cameraPlaneHeight))\r\n\r\n    const zoomDist = dragDist * focalDistance\r\n    viewport.getCamera().setFocalDistance(this.__mouseDownFocalDist + zoomDist)\r\n    delta.tr.z += zoomDist\r\n    viewport.getCamera().getParameter('GlobalXfo').setValue(this.__mouseDownCameraXfo.multiply(delta))\r\n  }\r\n\r\n  /**\r\n   * The initDrag method.\r\n   *\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  initDrag(viewport) {\r\n    const focalDistance = viewport.getCamera().getFocalDistance()\r\n    this.__mouseDragDelta.set(0, 0)\r\n    this.__mouseDownCameraXfo = viewport.getCamera().getParameter('GlobalXfo').getValue().clone()\r\n    this.__mouseDownZaxis = viewport.getCamera().getParameter('GlobalXfo').getValue().ori.getZaxis()\r\n    const targetOffset = this.__mouseDownZaxis.scale(-focalDistance)\r\n    this.__mouseDownCameraTarget = viewport.getCamera().getParameter('GlobalXfo').getValue().tr.add(targetOffset)\r\n    this.__mouseDownFocalDist = focalDistance\r\n  }\r\n\r\n  /**\r\n   * The aimFocus method.\r\n   * @param {Camera} camera - The camera param.\r\n   * @param {Vec3} pos - The pos param.\r\n   */\r\n  aimFocus(camera, pos) {\r\n    if (this.__focusIntervalId) clearInterval(this.__focusIntervalId)\r\n\r\n    const count = 20\r\n    let i = 0\r\n    const applyMovement = () => {\r\n      const initlalGlobalXfo = camera.getParameter('GlobalXfo').getValue()\r\n      const initlalDist = camera.getFocalDistance()\r\n      const dir = pos.subtract(initlalGlobalXfo.tr)\r\n      const dist = dir.normalizeInPlace()\r\n\r\n      const orbit = new Quat()\r\n      const pitch = new Quat()\r\n\r\n      // Orbit\r\n      {\r\n        const currDir = initlalGlobalXfo.ori.getZaxis().clone()\r\n        currDir.z = 0\r\n        const newDir = dir.negate()\r\n        newDir.z = 0\r\n\r\n        orbit.setFrom2Vectors(currDir, newDir)\r\n      }\r\n\r\n      // Pitch\r\n      {\r\n        const currDir = initlalGlobalXfo.ori.getZaxis().clone()\r\n        const newDir = dir.negate()\r\n        currDir.x = newDir.x\r\n        currDir.y = newDir.y\r\n        currDir.normalizeInPlace()\r\n\r\n        if (currDir.cross(newDir).dot(initlalGlobalXfo.ori.getXaxis()) > 0.0) pitch.rotateX(currDir.angleTo(newDir))\r\n        else pitch.rotateX(-currDir.angleTo(newDir))\r\n      }\r\n\r\n      const targetGlobalXfo = initlalGlobalXfo.clone()\r\n      targetGlobalXfo.ori = orbit.multiply(targetGlobalXfo.ori)\r\n      targetGlobalXfo.ori.multiplyInPlace(pitch)\r\n\r\n      // With each iteraction we get closer to our goal\r\n      // and on the final iteration we should aim perfectly at\r\n      // the target.\r\n      const t = Math.pow(i / count, 2)\r\n      const globalXfo = initlalGlobalXfo.clone()\r\n      globalXfo.ori = initlalGlobalXfo.ori.lerp(targetGlobalXfo.ori, t)\r\n\r\n      camera.setFocalDistance(initlalDist + (dist - initlalDist) * t)\r\n      camera.getParameter('GlobalXfo').setValue(globalXfo)\r\n\r\n      i++\r\n      if (i <= count) {\r\n        this.__focusIntervalId = setTimeout(applyMovement, 20)\r\n      } else {\r\n        this.__focusIntervalId = undefined\r\n        this.emit('movementFinished')\r\n      }\r\n    }\r\n    applyMovement()\r\n\r\n    this.__manipulationState = 'focussing'\r\n  }\r\n\r\n  /**\r\n   * The onDragStart method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.__mouseDownPos = event.mousePos\r\n    this.initDrag(event.viewport)\r\n\r\n    if (event.button == 2) {\r\n      this.__mode = 'pan'\r\n    } else if (event.ctrlKey && event.button == 2) {\r\n      this.__mode = 'dolly'\r\n    } else if (event.shiftKey || event.button == 2) {\r\n      this.__mode = 'look'\r\n    } else {\r\n      this.__mode = this.__defaultMode\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onDrag method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    // During requestPointerLock, the offsetX/Y values are not updated.\r\n    // Instead we get a relative delta that we use to compute the total\r\n    // delta for the drag.\r\n    // if(this.__keyboardMovement){\r\n    //     this.__mouseDragDelta.x = event.movementX;\r\n    //     this.__mouseDragDelta.y = event.movementY;\r\n    // }\r\n    // else{\r\n    //     this.__mouseDragDelta.x += event.movementX;\r\n    //     this.__mouseDragDelta.y += event.movementY;\r\n    // }\r\n    if (this.__keyboardMovement) {\r\n      this.__mouseDragDelta = event.mousePos\r\n    } else {\r\n      this.__mouseDragDelta = event.mousePos.subtract(this.__mouseDownPos)\r\n    }\r\n    switch (this.__mode) {\r\n      case 'orbit':\r\n        this.orbit(this.__mouseDragDelta, event.viewport)\r\n        break\r\n      case 'look':\r\n        this.look(this.__mouseDragDelta, event.viewport)\r\n        break\r\n      case 'pan':\r\n        this.pan(this.__mouseDragDelta, event.viewport)\r\n        break\r\n      case 'dolly':\r\n        this.dolly(this.__mouseDragDelta, event.viewport)\r\n        break\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onDragEnd method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onDragEnd(event) {\r\n    // event.viewport.renderGeomDataFbo();\r\n    this.emit('movementFinished')\r\n    return false\r\n  }\r\n\r\n  /**\r\n   * The onMouseDown method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseDown(event) {\r\n    if (this.__manipulationModel == VIEW_TOOL_MODELS.DCC && !event.altKey) return false\r\n\r\n    this.dragging = true\r\n    this.__mouseDownPos = event.mousePos\r\n    this.onDragStart(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onMouseUp method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseUp(event) {\r\n    if (this.dragging) {\r\n      this.onDragEnd(event)\r\n      this.dragging = false\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onMouseMove method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseMove(event) {\r\n    if (this.dragging) {\r\n      this.onDrag(event)\r\n      event.showPointerOnAvatar = false\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onDoubleClick method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onDoubleClick(event) {\r\n    if (event.intersectionData) {\r\n      const viewport = event.viewport\r\n      const camera = viewport.getCamera()\r\n      const pos = camera\r\n        .getParameter('GlobalXfo')\r\n        .getValue()\r\n        .tr.add(event.intersectionData.mouseRay.dir.scale(event.intersectionData.dist))\r\n      this.aimFocus(camera, pos)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onWheel method.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onWheel(event) {\r\n    if (this.__manipulationModel == VIEW_TOOL_MODELS.DCC && !event.altKey) return false\r\n\r\n    const viewport = event.viewport\r\n    const xfo = viewport.getCamera().getParameter('GlobalXfo').getValue()\r\n    const vec = xfo.ori.getZaxis()\r\n    if (this.__mouseWheelZoomIntervalId) clearInterval(this.__mouseWheelZoomIntervalId)\r\n    let count = 0\r\n    const applyMovement = () => {\r\n      const focalDistance = viewport.getCamera().getFocalDistance()\r\n      const mouseWheelDollySpeed = this.__mouseWheelDollySpeedParam.getValue()\r\n      const zoomDist = event.deltaY * mouseWheelDollySpeed * focalDistance * 0.2\r\n      xfo.tr.addInPlace(vec.scale(zoomDist))\r\n      if (this.__defaultMode == 'orbit') viewport.getCamera().setFocalDistance(focalDistance + zoomDist)\r\n      viewport.getCamera().getParameter('GlobalXfo').setValue(xfo)\r\n\r\n      count++\r\n      if (count < 5) {\r\n        this.__mouseWheelZoomIntervalId = setTimeout(applyMovement, 20)\r\n      } else {\r\n        this.__mouseWheelZoomIntervalId = undefined\r\n        this.emit('movementFinished')\r\n        event.viewport.renderGeomDataFbo()\r\n      }\r\n    }\r\n    applyMovement()\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} velChange -\r\n   * @param {GLViewport} viewport -\r\n   * @private\r\n   */\r\n  __integrateVelocityChange(velChange, viewport) {\r\n    const delta = new Xfo()\r\n    delta.tr = this.__velocity.normalize().scale(this.__maxVel)\r\n    viewport\r\n      .getCamera()\r\n      .getParameter('GlobalXfo')\r\n      .setValue(viewport.getCamera().getParameter('GlobalXfo').getValue().multiply(delta))\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Touch events\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} touch -\r\n   * @param {*} viewport -\r\n   * @private\r\n   */\r\n  __startTouch(touch, viewport) {\r\n    this.__ongoingTouches[touch.identifier] = {\r\n      identifier: touch.identifier,\r\n      pos: new Vec2(touch.pageX, touch.pageY),\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} touch -\r\n   * @param {*} viewport -\r\n   * @private\r\n   */\r\n  __endTouch(touch, viewport) {\r\n    // const idx = this.__ongoingTouchIndexById(touch.identifier);\r\n    // this.__ongoingTouches.splice(idx, 1); // remove it; we're done\r\n    delete this.__ongoingTouches[touch.identifier]\r\n  }\r\n\r\n  /**\r\n   * The onTouchStart method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onTouchStart(event) {\r\n    // console.log(\"onTouchStart\");\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n\r\n    if (Object.keys(this.__ongoingTouches).length == 0) this.__manipMode = undefined\r\n\r\n    const touches = event.changedTouches\r\n    for (let i = 0; i < touches.length; i++) {\r\n      this.__startTouch(touches[i])\r\n    }\r\n    this.initDrag(event.viewport)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onTouchMove method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onTouchMove(event) {\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n    // console.log(\"this.__manipMode:\" + this.__manipMode);\r\n\r\n    const touches = event.changedTouches\r\n    if (touches.length == 1 && this.__manipMode != 'panAndZoom') {\r\n      const touch = touches[0]\r\n      const touchPos = new Vec2(touch.pageX, touch.pageY)\r\n      const touchData = this.__ongoingTouches[touch.identifier]\r\n      const dragVec = touchData.pos.subtract(touchPos)\r\n      if (this.__defaultMode == 'look') {\r\n        // TODO: scale panning here.\r\n        dragVec.scaleInPlace(6.0)\r\n        this.look(dragVec, event.viewport)\r\n      } else {\r\n        this.orbit(dragVec, event.viewport)\r\n      }\r\n      this.__manipMode = 'orbit'\r\n      return true\r\n    } else if (touches.length == 2) {\r\n      const touch0 = touches[0]\r\n      const touchData0 = this.__ongoingTouches[touch0.identifier]\r\n      const touch1 = touches[1]\r\n      const touchData1 = this.__ongoingTouches[touch1.identifier]\r\n\r\n      const touch0Pos = new Vec2(touch0.pageX, touch0.pageY)\r\n      const touch1Pos = new Vec2(touch1.pageX, touch1.pageY)\r\n      const startSeparation = touchData1.pos.subtract(touchData0.pos).length()\r\n      const dragSeparation = touch1Pos.subtract(touch0Pos).length()\r\n      const separationDist = startSeparation - dragSeparation\r\n\r\n      const touch0Drag = touch0Pos.subtract(touchData0.pos)\r\n      const touch1Drag = touch1Pos.subtract(touchData1.pos)\r\n      const dragVec = touch0Drag.add(touch1Drag)\r\n      // TODO: scale panning here.\r\n      dragVec.scaleInPlace(0.5)\r\n      this.panAndZoom(dragVec, separationDist * 0.002, event.viewport)\r\n      this.__manipMode = 'panAndZoom'\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onTouchEnd method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onTouchEnd(event) {\r\n    event.preventDefault()\r\n    event.stopPropagation()\r\n    const touches = event.changedTouches\r\n    switch (this.__manipMode) {\r\n      case 'orbit':\r\n      case 'panAndZoom':\r\n        this.emit('movementFinished')\r\n        break\r\n    }\r\n    for (let i = 0; i < touches.length; i++) {\r\n      this.__endTouch(touches[i])\r\n    }\r\n    if (Object.keys(this.__ongoingTouches).length == 0) this.__manipMode = undefined\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onTouchCancel method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onTouchCancel(event) {\r\n    console.log('touchcancel.')\r\n    const touches = event.changedTouches\r\n    for (let i = 0; i < touches.length; i++) {\r\n      this.__endTouch(touches[i])\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onDoubleTap method.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onDoubleTap(event) {\r\n    const touches = event.changedTouches\r\n    for (let i = 0; i < touches.length; i++) {\r\n      this.__startTouch(touches[i])\r\n    }\r\n    if (event.intersectionData) {\r\n      const viewport = event.viewport\r\n      const camera = viewport.getCamera()\r\n      const pos = camera\r\n        .getParameter('GlobalXfo')\r\n        .getValue()\r\n        .tr.add(event.intersectionData.mouseRay.dir.scale(event.intersectionData.dist))\r\n      this.aimFocus(camera, pos)\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {VRViewport} vrviewport\r\n   * @private\r\n   */\r\n  __initMoveStage(vrviewport) {\r\n    if (this.__controllerTriggersHeld.length == 1) {\r\n      this.__grabPos = this.__controllerTriggersHeld[0].getControllerTipStageLocalXfo().tr.clone()\r\n      this.stageXfo__GrabStart = vrviewport.getXfo().clone()\r\n      this.__invOri = this.stageXfo__GrabStart.ori.inverse()\r\n    } else if (this.__controllerTriggersHeld.length == 2) {\r\n      const p0 = this.__controllerTriggersHeld[0].getControllerTipStageLocalXfo().tr\r\n      const p1 = this.__controllerTriggersHeld[1].getControllerTipStageLocalXfo().tr\r\n      this.__grabDir = p1.subtract(p0)\r\n      this.__grabPos = p0.lerp(p1, 0.5)\r\n      this.__grabDir.y = 0.0\r\n      this.__grabDist = this.__grabDir.length()\r\n      this.__grabDir.scaleInPlace(1 / this.__grabDist)\r\n      this.stageXfo__GrabStart = vrviewport.getXfo().clone()\r\n      this.__grab_to_stage = this.__grabPos.subtract(this.stageXfo__GrabStart.tr)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonDown method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    if (event.button != 1) return\r\n    this.__controllerTriggersHeld.push(event.controller)\r\n    this.__initMoveStage(event.vrviewport)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonUp method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    if (event.button != 1) return\r\n    const index = this.__controllerTriggersHeld.indexOf(event.controller)\r\n    this.__controllerTriggersHeld.splice(index, 1)\r\n    this.__initMoveStage(event.vrviewport)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerDoubleClicked method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerDoubleClicked(event) {\r\n    console.log('onVRControllerDoubleClicked:', this.__controllerTriggersHeld.length)\r\n\r\n    const stageXfo = event.vrviewport.getXfo().clone()\r\n    stageXfo.sc.set(1, 1, 1)\r\n    event.vrviewport.setXfo(stageXfo)\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    if (this.__controllerTriggersHeld.length == 1) {\r\n      const grabPos = this.__controllerTriggersHeld[0].getControllerTipStageLocalXfo().tr\r\n\r\n      const deltaXfo = new Xfo()\r\n      deltaXfo.tr = this.__grabPos.subtract(grabPos)\r\n\r\n      // //////////////\r\n      // Update the stage Xfo\r\n      const stageXfo = this.stageXfo__GrabStart.multiply(deltaXfo)\r\n      event.vrviewport.setXfo(stageXfo)\r\n      return true\r\n    } else if (this.__controllerTriggersHeld.length == 2) {\r\n      const p0 = this.__controllerTriggersHeld[0].getControllerTipStageLocalXfo().tr\r\n      const p1 = this.__controllerTriggersHeld[1].getControllerTipStageLocalXfo().tr\r\n\r\n      const grabPos = p0.lerp(p1, 0.5)\r\n      const grabDir = p1.subtract(p0)\r\n      grabDir.y = 0.0\r\n      const grabDist = grabDir.length()\r\n      grabDir.scaleInPlace(1 / grabDist)\r\n\r\n      const deltaXfo = new Xfo()\r\n\r\n      // //////////////\r\n      // Compute sc\r\n      // Limit to a 10x change in scale per grab.\r\n      const sc = Math.max(Math.min(this.__grabDist / grabDist, 10.0), 0.1)\r\n\r\n      // Avoid causing a scale that would make the user < 1.0 scale factor.\r\n      // if(stageSc < 1.0){\r\n      //     sc = 1.0 / this.stageXfo__GrabStart.sc.x;\r\n      // }\r\n      deltaXfo.sc.set(sc, sc, sc)\r\n\r\n      // //////////////\r\n      // Compute ori\r\n      let angle = this.__grabDir.angleTo(grabDir)\r\n      if (this.__grabDir.cross(grabDir).y > 0.0) {\r\n        angle = -angle\r\n      }\r\n      deltaXfo.ori.rotateY(angle)\r\n\r\n      // Rotate around the point between the hands.\r\n      const oriTrDelta = deltaXfo.ori.rotateVec3(this.__grabPos)\r\n      deltaXfo.tr.addInPlace(this.__grabPos.subtract(oriTrDelta))\r\n\r\n      // Scale around the point between the hands.\r\n      const deltaSc = this.__grabPos.scale(1.0 - sc)\r\n      deltaXfo.tr.addInPlace(deltaXfo.ori.rotateVec3(deltaSc))\r\n\r\n      // //////////////\r\n      // Compute tr\r\n      // Not quite working.....\r\n      const deltaTr = this.__grabPos.subtract(grabPos).scale(sc)\r\n      deltaXfo.tr.addInPlace(deltaXfo.ori.rotateVec3(deltaTr))\r\n\r\n      // //////////////\r\n      // Update the stage Xfo\r\n      const stageXfo = this.stageXfo__GrabStart.multiply(deltaXfo)\r\n      event.vrviewport.setXfo(stageXfo)\r\n\r\n      return true\r\n    }\r\n  }\r\n}\r\n\r\nexport { VIEW_TOOL_MODELS, ViewTool }\r\n","import { Vec2, Color, Xfo, GeomItem, Material, Rect } from '@zeainc/zea-engine'\r\n\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\nimport BaseTool from './BaseTool'\r\nimport Handle from '../Handles/Handle'\r\n\r\n/**\r\n * Class representing a selection tool.\r\n *\r\n * @extends BaseTool\r\n */\r\nclass SelectionTool extends BaseTool {\r\n  /**\r\n   * Creates an instance of SelectionTool.\r\n   *\r\n   * @param {object} appData - The appData value\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n\r\n    this.dragging = false\r\n\r\n    this.selectionRect = new Rect(1, 1)\r\n    this.selectionRectMat = new Material('marker', 'ScreenSpaceShader')\r\n    this.selectionRectMat.getParameter('BaseColor').setValue(new Color('#03E3AC'))\r\n    this.selectionRectXfo = new Xfo()\r\n    this.selectionRectXfo.tr.set(0.5, 0.5, 0)\r\n    this.selectionRectXfo.sc.set(0, 0, 0)\r\n  }\r\n\r\n  /**\r\n   * Activates selection tool.\r\n   */\r\n  activateTool() {\r\n    super.activateTool()\r\n\r\n    if (!this.rectItem) {\r\n      this.rectItem = new GeomItem('selectionRect', this.selectionRect, this.selectionRectMat)\r\n      this.rectItem.getParameter('Visible').setValue(false)\r\n      this.appData.renderer.addTreeItem(this.rectItem)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Deactivates the selection tool.\r\n   */\r\n  deactivateTool() {\r\n    super.deactivateTool()\r\n    this.selectionRectXfo.sc.set(0, 0, 0)\r\n    this.rectItem.getParameter('GlobalXfo').setValue(this.selectionRectXfo)\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is pressed while the pointer is over the tool.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseDown(event) {\r\n    if (event.button == 0 && !event.altKey) {\r\n      console.log('onMouseDown')\r\n      this.mouseDownPos = event.mousePos\r\n      this.dragging = false\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {GLViewport} viewport - The viewport value\r\n   * @param {*} delta - The delta value\r\n   * @private\r\n   */\r\n  __resizeRect(viewport, delta) {\r\n    const sc = new Vec2((1 / viewport.getWidth()) * 2, (1 / viewport.getHeight()) * 2)\r\n    const size = delta.multiply(sc)\r\n    this.selectionRectXfo.sc.set(Math.abs(size.x), Math.abs(size.y), 1)\r\n\r\n    const center = this.mouseDownPos.subtract(delta.scale(0.5))\r\n    const tr = center.multiply(sc).subtract(new Vec2(1, 1))\r\n\r\n    this.selectionRectXfo.tr.x = tr.x\r\n    this.selectionRectXfo.tr.y = -tr.y\r\n    this.rectItem.getParameter('GlobalXfo').setValue(this.selectionRectXfo)\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device is moved while the cursor's hotspot is inside it.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseMove(event) {\r\n    if (this.mouseDownPos) {\r\n      const delta = this.mouseDownPos.subtract(event.mousePos)\r\n      if (this.dragging) {\r\n        this.__resizeRect(event.viewport, delta)\r\n      }\r\n      const dist = delta.length()\r\n      // dragging only is activated after 4 pixels.\r\n      // This is to avoid causing as rect selection for nothing.\r\n      if (dist > 4) {\r\n        this.dragging = true\r\n        // Start drawing the selection rectangle on screen.\r\n        this.rectItem.getParameter('Visible').setValue(true)\r\n        this.__resizeRect(event.viewport, delta)\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is released while the pointer is over the tool.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseUp(event) {\r\n    if (this.mouseDownPos) {\r\n      // event.viewport.renderGeomDataFbo();\r\n      if (this.dragging) {\r\n        this.rectItem.getParameter('Visible').setValue(false)\r\n        const mouseUpPos = event.mousePos\r\n        const tl = new Vec2(Math.min(this.mouseDownPos.x, mouseUpPos.x), Math.min(this.mouseDownPos.y, mouseUpPos.y))\r\n        const br = new Vec2(Math.max(this.mouseDownPos.x, mouseUpPos.x), Math.max(this.mouseDownPos.y, mouseUpPos.y))\r\n        const geomItems = event.viewport.getGeomItemsInRect(tl, br)\r\n\r\n        if (this.appData.selectionManager.pickingModeActive()) {\r\n          this.appData.selectionManager.pick(geomItems)\r\n        } else {\r\n          // Remove all the scene widgets. (UI elements should not be selectable.)\r\n          const regularGeomItems = new Set([...geomItems].filter((x) => !(x.getOwner() instanceof Handle)))\r\n\r\n          if (!event.shiftKey) {\r\n            this.appData.selectionManager.selectItems(regularGeomItems, !event.ctrlKey)\r\n          } else {\r\n            this.appData.selectionManager.deselectItems(regularGeomItems)\r\n          }\r\n\r\n          this.selectionRectXfo.sc.set(0, 0, 0)\r\n          this.rectItem.getParameter('GlobalXfo').setValue(this.selectionRectXfo)\r\n        }\r\n      } else {\r\n        const intersectionData = event.viewport.getGeomDataAtPos(event.mousePos)\r\n        if (intersectionData != undefined && !(intersectionData.geomItem.getOwner() instanceof Handle)) {\r\n          if (this.appData.selectionManager.pickingModeActive()) {\r\n            this.appData.selectionManager.pick(intersectionData.geomItem)\r\n          } else {\r\n            if (!event.shiftKey) {\r\n              this.appData.selectionManager.toggleItemSelection(intersectionData.geomItem, !event.ctrlKey)\r\n            } else {\r\n              const items = new Set()\r\n              items.add(intersectionData.geomItem)\r\n              this.appData.selectionManager.deselectItems(items)\r\n            }\r\n          }\r\n        } else {\r\n          this.appData.selectionManager.clearSelection()\r\n        }\r\n      }\r\n\r\n      this.mouseDownPos = undefined\r\n      return true\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed over a tool.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    if (event.button == 1) {\r\n      const intersectionData = event.controller.getGeomItemAtTip()\r\n      if (intersectionData != undefined && !(intersectionData.geomItem.getOwner() instanceof Handle)) {\r\n        this.appData.selectionManager.toggleItemSelection(intersectionData.geomItem)\r\n        return true\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('SelectionTool', SelectionTool)\r\n\r\nexport default SelectionTool\r\nexport { SelectionTool }\r\n","import BaseTool from '../BaseTool'\r\n\r\n/**\r\n * Class representing an open VR UI tool.\r\n *\r\n * @extends BaseTool\r\n */\r\nclass OpenVRUITool extends BaseTool {\r\n  /**\r\n   * Create an open VR UI tool.\r\n   * @param {object} appData - The appData value.\r\n   * @param {VRUITool} vrUITool - The vrUITool value.\r\n   */\r\n  constructor(appData, vrUITool) {\r\n    super(appData)\r\n\r\n    this.vrUITool = vrUITool\r\n    this.uiToolIndex = -1\r\n    this.__stayClosed = false\r\n  }\r\n\r\n  /**\r\n   * The uninstall method.\r\n   */\r\n  uninstall() {\r\n    super.uninstall()\r\n\r\n    // Also remove the UI tool\r\n    if (this.uiToolIndex > 0) this.appData.toolManager.removeToolByHandle(this.vrUITool)\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * The onVRControllerButtonDown method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerButtonDown(event) {}\r\n\r\n  /**\r\n   * The onVRControllerButtonUp method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   */\r\n  onVRControllerButtonUp(event) {}\r\n\r\n  /**\r\n   * The stayClosed method.\r\n   */\r\n  stayClosed() {\r\n    this.__stayClosed = true\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    if (this.vrUITool.installed()) return\r\n\r\n    // Controller coordinate system\r\n    // X = Horizontal.\r\n    // Y = Up.\r\n    // Z = Towards handle base.\r\n    const headXfo = event.viewXfo\r\n    const checkControllers = (ctrlA, ctrlB) => {\r\n      if (!ctrlA) return false\r\n      const xfoA = ctrlA.getTreeItem().getParameter('GlobalXfo').getValue()\r\n      const headToCtrlA = xfoA.tr.subtract(headXfo.tr)\r\n      headToCtrlA.normalizeInPlace()\r\n      if (headToCtrlA.angleTo(xfoA.ori.getYaxis()) < Math.PI * 0.25) {\r\n        // Stay closed as a subsequent tool has just caused the UI to be\r\n        // closed while interacting with the UI. (see: VRUITool.deactivateTool)\r\n        if (!this.__stayClosed) {\r\n          this.vrUITool.setUIControllers(this, ctrlA, ctrlB, headXfo)\r\n          this.uiToolIndex = this.appData.toolManager.pushTool(this.vrUITool)\r\n        }\r\n        return true\r\n      }\r\n    }\r\n\r\n    if (event.controllers.length > 0) {\r\n      if (checkControllers(event.controllers[0], event.controllers[1])) return true\r\n      if (checkControllers(event.controllers[1], event.controllers[0])) return true\r\n    }\r\n    this.uiToolIndex = -1\r\n    this.__stayClosed = false\r\n  }\r\n}\r\n\r\nexport default OpenVRUITool\r\nexport { OpenVRUITool }\r\n","/* eslint-disable require-jsdoc */\r\nconst util = newUtil()\r\nconst inliner = newInliner()\r\nconst fontFaces = newFontFaces()\r\nconst images = newImages()\r\n\r\n// Default impl options\r\nconst defaultOptions = {\r\n  // Default is to fail on error, no placeholder\r\n  imagePlaceholder: undefined,\r\n  // Default cache bust is false, it will use the cache\r\n  cacheBust: false,\r\n}\r\n\r\nconst domtoimage = {\r\n  toSvg: toSvg,\r\n  toPng: toPng,\r\n  toJpeg: toJpeg,\r\n  toBlob: toBlob,\r\n  toPixelData: toPixelData,\r\n  toCanvas: toCanvas,\r\n  impl: {\r\n    fontFaces: fontFaces,\r\n    images: images,\r\n    util: util,\r\n    inliner: inliner,\r\n    options: {},\r\n  },\r\n}\r\n\r\n/**\r\n     * @param {Node} node - The DOM Node object to render\r\n     * @param {Object} options - Rendering options\r\n     * @param {Function} options.filter - Should return true if passed node should be included in the output\r\n     *          (excluding node means excluding it's children as well). Not called on the root node.\r\n     * @param {string} options.bgcolor - color for the background, any valid CSS color value.\r\n     * @param {number} options.width - width to be applied to node before rendering.\r\n     * @param {number} options.height - height to be applied to node before rendering.\r\n     * @param {Object} options.style - an object whose properties to be copied to node's style before rendering.\r\n     * @param {number} options.quality - a Number between 0 and 1 indicating image quality (applicable to JPEG only),\r\n                defaults to 1.0.\r\n     * @param {string} options.imagePlaceholder - dataURL to use as a placeholder for failed images, default behaviour is to fail fast on images we can't fetch\r\n     * @param {boolean} options.cacheBust - set to true to cache bust by appending the time to the request url\r\n     * @return {Promise} - A promise that is fulfilled with a SVG image data URL\r\n     * */\r\nfunction toSvg(node, options) {\r\n  options = options || {}\r\n  copyOptions(options)\r\n  return Promise.resolve(node)\r\n    .then(function (node) {\r\n      return cloneNode(node, options.filter, true)\r\n    })\r\n    .then(embedFonts)\r\n    .then(inlineImages)\r\n    .then(applyOptions)\r\n    .then(function (clone) {\r\n      return makeSvgDataUri(clone, options.width || util.width(node), options.height || util.height(node))\r\n    })\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {object} clone -\r\n   * @return {object} -\r\n   */\r\n  function applyOptions(clone) {\r\n    if (options.bgcolor) clone.style.backgroundColor = options.bgcolor\r\n\r\n    if (options.width) clone.style.width = options.width + 'px'\r\n    if (options.height) clone.style.height = options.height + 'px'\r\n\r\n    if (options.style)\r\n      Object.keys(options.style).forEach(function (property) {\r\n        clone.style[property] = options.style[property]\r\n      })\r\n\r\n    return clone\r\n  }\r\n}\r\n\r\n/**\r\n * @param {Node} node - The DOM Node object to render\r\n * @param {Object} options - Rendering options, @see {@link toSvg}\r\n * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\r\n * */\r\nfunction toPixelData(node, options) {\r\n  return draw(node, options || {}).then(function (canvas) {\r\n    return canvas.getContext('2d').getImageData(0, 0, util.width(node), util.height(node)).data\r\n  })\r\n}\r\n\r\n/**\r\n * @param {Node} node - The DOM Node object to render\r\n * @param {Object} options - Rendering options, @see {@link toSvg}\r\n * @return {Promise} - A promise that is fulfilled with a Uint8Array containing RGBA pixel data.\r\n * */\r\nfunction toCanvas(node, options) {\r\n  return draw(node, options || {}).then(function (canvas) {\r\n    return canvas\r\n  })\r\n}\r\n\r\n/**\r\n * @param {Node} node - The DOM Node object to render\r\n * @param {Object} options - Rendering options, @see {@link toSvg}\r\n * @return {Promise} - A promise that is fulfilled with a PNG image data URL\r\n * */\r\nfunction toPng(node, options) {\r\n  return draw(node, options || {}).then(function (canvas) {\r\n    return canvas.toDataURL()\r\n  })\r\n}\r\n\r\n/**\r\n * @param {Node} node - The DOM Node object to render\r\n * @param {Object} options - Rendering options, @see {@link toSvg}\r\n * @return {Promise} - A promise that is fulfilled with a JPEG image data URL\r\n * */\r\nfunction toJpeg(node, options) {\r\n  options = options || {}\r\n  return draw(node, options).then(function (canvas) {\r\n    return canvas.toDataURL('image/jpeg', options.quality || 1.0)\r\n  })\r\n}\r\n\r\n/**\r\n * @param {Node} node - The DOM Node object to render\r\n * @param {Object} options - Rendering options, @see {@link toSvg}\r\n * @return {Promise} - A promise that is fulfilled with a PNG image blob\r\n * */\r\nfunction toBlob(node, options) {\r\n  return draw(node, options || {}).then(util.canvasToBlob)\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @param {object} options -\r\n */\r\nfunction copyOptions(options) {\r\n  // Copy options to impl options for use in impl\r\n  if (typeof options.imagePlaceholder === 'undefined') {\r\n    domtoimage.impl.options.imagePlaceholder = defaultOptions.imagePlaceholder\r\n  } else {\r\n    domtoimage.impl.options.imagePlaceholder = options.imagePlaceholder\r\n  }\r\n\r\n  if (typeof options.cacheBust === 'undefined') {\r\n    domtoimage.impl.options.cacheBust = defaultOptions.cacheBust\r\n  } else {\r\n    domtoimage.impl.options.cacheBust = options.cacheBust\r\n  }\r\n}\r\n/**\r\n *\r\n *\r\n * @param {*} domNode -\r\n * @param {*} options -\r\n * @return {*}\r\n */\r\nfunction draw(domNode, options) {\r\n  return toSvg(domNode, options)\r\n    .then(util.makeImage)\r\n    .then(util.delay(100))\r\n    .then(function (image) {\r\n      const canvas = newCanvas(domNode)\r\n      canvas.getContext('2d').drawImage(image, 0, 0)\r\n      return canvas\r\n    })\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} domNode -\r\n   * @return {*}\r\n   */\r\n  function newCanvas(domNode) {\r\n    const canvas = document.createElement('canvas')\r\n    canvas.width = options.width || util.width(domNode)\r\n    canvas.height = options.height || util.height(domNode)\r\n\r\n    if (options.bgcolor) {\r\n      const ctx = canvas.getContext('2d')\r\n      ctx.fillStyle = options.bgcolor\r\n      ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n    }\r\n\r\n    return canvas\r\n  }\r\n}\r\n\r\nfunction cloneNode(node, filter, root) {\r\n  if (!root && filter && !filter(node)) return Promise.resolve()\r\n\r\n  return Promise.resolve(node)\r\n    .then(makeNodeCopy)\r\n    .then(function (clone) {\r\n      return cloneChildren(node, clone, filter)\r\n    })\r\n    .then(function (clone) {\r\n      return processClone(node, clone)\r\n    })\r\n\r\n  function makeNodeCopy(node) {\r\n    if (node instanceof HTMLCanvasElement) return util.makeImage(node.toDataURL())\r\n    return node.cloneNode(false)\r\n  }\r\n\r\n  function cloneChildren(original, clone, filter) {\r\n    const children = original.childNodes\r\n    if (children.length === 0) return Promise.resolve(clone)\r\n\r\n    return cloneChildrenInOrder(clone, util.asArray(children), filter).then(function () {\r\n      return clone\r\n    })\r\n\r\n    function cloneChildrenInOrder(parent, children, filter) {\r\n      let done = Promise.resolve()\r\n      children.forEach(function (child) {\r\n        done = done\r\n          .then(function () {\r\n            return cloneNode(child, filter)\r\n          })\r\n          .then(function (childClone) {\r\n            if (childClone) parent.appendChild(childClone)\r\n          })\r\n      })\r\n      return done\r\n    }\r\n  }\r\n\r\n  function processClone(original, clone) {\r\n    if (!(clone instanceof Element)) return clone\r\n\r\n    return Promise.resolve()\r\n      .then(cloneStyle)\r\n      .then(clonePseudoElements)\r\n      .then(copyUserInput)\r\n      .then(fixSvg)\r\n      .then(function () {\r\n        return clone\r\n      })\r\n\r\n    function cloneStyle() {\r\n      copyStyle(window.getComputedStyle(original), clone.style)\r\n\r\n      function copyStyle(source, target) {\r\n        if (source.cssText) target.cssText = source.cssText\r\n        else copyProperties(source, target)\r\n\r\n        function copyProperties(source, target) {\r\n          util.asArray(source).forEach(function (name) {\r\n            target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name))\r\n          })\r\n        }\r\n      }\r\n    }\r\n\r\n    function clonePseudoElements() {\r\n      ;[':before', ':after'].forEach(function (element) {\r\n        clonePseudoElement(element)\r\n      })\r\n\r\n      function clonePseudoElement(element) {\r\n        const style = window.getComputedStyle(original, element)\r\n        const content = style.getPropertyValue('content')\r\n\r\n        if (content === '' || content === 'none') return\r\n\r\n        const className = util.uid()\r\n        clone.className = clone.className + ' ' + className\r\n        const styleElement = document.createElement('style')\r\n        styleElement.appendChild(formatPseudoElementStyle(className, element, style))\r\n        clone.appendChild(styleElement)\r\n\r\n        function formatPseudoElementStyle(className, element, style) {\r\n          const selector = '.' + className + ':' + element\r\n          const cssText = style.cssText ? formatCssText(style) : formatCssProperties(style)\r\n          return document.createTextNode(selector + '{' + cssText + '}')\r\n\r\n          function formatCssText(style) {\r\n            const content = style.getPropertyValue('content')\r\n            return style.cssText + ' content: ' + content + ';'\r\n          }\r\n\r\n          function formatCssProperties(style) {\r\n            return util.asArray(style).map(formatProperty).join('; ') + ';'\r\n\r\n            function formatProperty(name) {\r\n              return name + ': ' + style.getPropertyValue(name) + (style.getPropertyPriority(name) ? ' !important' : '')\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    function copyUserInput() {\r\n      if (original instanceof HTMLTextAreaElement) clone.innerHTML = original.value\r\n      if (original instanceof HTMLInputElement) clone.setAttribute('value', original.value)\r\n    }\r\n\r\n    function fixSvg() {\r\n      if (!(clone instanceof SVGElement)) return\r\n      clone.setAttribute('xmlns', 'http://www.w3.org/2000/svg')\r\n\r\n      if (!(clone instanceof SVGRectElement)) return\r\n      ;['width', 'height'].forEach(function (attribute) {\r\n        const value = clone.getAttribute(attribute)\r\n        if (!value) return\r\n\r\n        clone.style.setProperty(attribute, value)\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nfunction embedFonts(node) {\r\n  return fontFaces.resolveAll().then(function (cssText) {\r\n    const styleNode = document.createElement('style')\r\n    node.appendChild(styleNode)\r\n    styleNode.appendChild(document.createTextNode(cssText))\r\n    return node\r\n  })\r\n}\r\n\r\nfunction inlineImages(node) {\r\n  return images.inlineAll(node).then(function () {\r\n    return node\r\n  })\r\n}\r\n\r\nfunction makeSvgDataUri(node, width, height) {\r\n  return Promise.resolve(node)\r\n    .then(function (node) {\r\n      node.setAttribute('xmlns', 'http://www.w3.org/1999/xhtml')\r\n      return new XMLSerializer().serializeToString(node)\r\n    })\r\n    .then(util.escapeXhtml)\r\n    .then(function (xhtml) {\r\n      return '<foreignObject x=\"0\" y=\"0\" width=\"100%\" height=\"100%\">' + xhtml + '</foreignObject>'\r\n    })\r\n    .then(function (foreignObject) {\r\n      return (\r\n        '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"' +\r\n        width +\r\n        '\" height=\"' +\r\n        height +\r\n        '\">' +\r\n        foreignObject +\r\n        '</svg>'\r\n      )\r\n    })\r\n    .then(function (svg) {\r\n      return 'data:image/svg+xml;charset=utf-8,' + svg\r\n    })\r\n}\r\n\r\nfunction newUtil() {\r\n  return {\r\n    escape: escape,\r\n    parseExtension: parseExtension,\r\n    mimeType: mimeType,\r\n    dataAsUrl: dataAsUrl,\r\n    isDataUrl: isDataUrl,\r\n    canvasToBlob: canvasToBlob,\r\n    resolveUrl: resolveUrl,\r\n    getAndEncode: getAndEncode,\r\n    uid: uid(),\r\n    delay: delay,\r\n    asArray: asArray,\r\n    escapeXhtml: escapeXhtml,\r\n    makeImage: makeImage,\r\n    width: width,\r\n    height: height,\r\n  }\r\n\r\n  function mimes() {\r\n    /*\r\n     * Only WOFF and EOT mime types for fonts are 'real'\r\n     * see http://www.iana.org/assignments/media-types/media-types.xhtml\r\n     */\r\n    const WOFF = 'application/font-woff'\r\n    const JPEG = 'image/jpeg'\r\n\r\n    return {\r\n      woff: WOFF,\r\n      woff2: WOFF,\r\n      ttf: 'application/font-truetype',\r\n      eot: 'application/vnd.ms-fontobject',\r\n      png: 'image/png',\r\n      jpg: JPEG,\r\n      jpeg: JPEG,\r\n      gif: 'image/gif',\r\n      tiff: 'image/tiff',\r\n      svg: 'image/svg+xml',\r\n    }\r\n  }\r\n\r\n  function parseExtension(url) {\r\n    const match = /\\.([^\\.\\/]*?)$/g.exec(url)\r\n    if (match) return match[1]\r\n    else return ''\r\n  }\r\n\r\n  function mimeType(url) {\r\n    const extension = parseExtension(url).toLowerCase()\r\n    return mimes()[extension] || ''\r\n  }\r\n\r\n  function isDataUrl(url) {\r\n    return url.search(/^(data:)/) !== -1\r\n  }\r\n\r\n  function toBlob(canvas) {\r\n    return new Promise(function (resolve) {\r\n      const binaryString = window.atob(canvas.toDataURL().split(',')[1])\r\n      const length = binaryString.length\r\n      const binaryArray = new Uint8Array(length)\r\n\r\n      for (let i = 0; i < length; i++) binaryArray[i] = binaryString.charCodeAt(i)\r\n\r\n      resolve(\r\n        new Blob([binaryArray], {\r\n          type: 'image/png',\r\n        })\r\n      )\r\n    })\r\n  }\r\n\r\n  function canvasToBlob(canvas) {\r\n    if (canvas.toBlob)\r\n      return new Promise(function (resolve) {\r\n        canvas.toBlob(resolve)\r\n      })\r\n\r\n    return toBlob(canvas)\r\n  }\r\n\r\n  function resolveUrl(url, baseUrl) {\r\n    const doc = document.implementation.createHTMLDocument()\r\n    const base = doc.createElement('base')\r\n    doc.head.appendChild(base)\r\n    const a = doc.createElement('a')\r\n    doc.body.appendChild(a)\r\n    base.href = baseUrl\r\n    a.href = url\r\n    return a.href\r\n  }\r\n\r\n  function uid() {\r\n    let index = 0\r\n\r\n    return function () {\r\n      return 'u' + fourRandomChars() + index++\r\n\r\n      function fourRandomChars() {\r\n        /* see http://stackoverflow.com/a/6248722/2519373 */\r\n        return ('0000' + ((Math.random() * Math.pow(36, 4)) << 0).toString(36)).slice(-4)\r\n      }\r\n    }\r\n  }\r\n\r\n  function makeImage(uri) {\r\n    return new Promise(function (resolve, reject) {\r\n      const image = new Image()\r\n      image.onload = function () {\r\n        resolve(image)\r\n      }\r\n      image.onerror = reject\r\n      image.src = uri\r\n    })\r\n  }\r\n\r\n  function getAndEncode(url) {\r\n    const TIMEOUT = 30000\r\n    if (domtoimage.impl.options.cacheBust) {\r\n      // Cache bypass so we dont have CORS issues with cached images\r\n      // Source: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\r\n      url += (/\\?/.test(url) ? '&' : '?') + new Date().getTime()\r\n    }\r\n\r\n    return new Promise(function (resolve) {\r\n      const request = new XMLHttpRequest()\r\n\r\n      request.onreadystatechange = done\r\n      request.ontimeout = timeout\r\n      request.responseType = 'blob'\r\n      request.timeout = TIMEOUT\r\n      request.open('GET', url, true)\r\n      request.send()\r\n\r\n      let placeholder\r\n      if (domtoimage.impl.options.imagePlaceholder) {\r\n        const split = domtoimage.impl.options.imagePlaceholder.split(/,/)\r\n        if (split && split[1]) {\r\n          placeholder = split[1]\r\n        }\r\n      }\r\n\r\n      function done() {\r\n        if (request.readyState !== 4) return\r\n\r\n        if (request.status !== 200) {\r\n          if (placeholder) {\r\n            resolve(placeholder)\r\n          } else {\r\n            fail('cannot fetch resource: ' + url + ', status: ' + request.status)\r\n          }\r\n\r\n          return\r\n        }\r\n\r\n        const encoder = new FileReader()\r\n        encoder.onloadend = function () {\r\n          const content = encoder.result.split(/,/)[1]\r\n          resolve(content)\r\n        }\r\n        encoder.readAsDataURL(request.response)\r\n      }\r\n\r\n      function timeout() {\r\n        if (placeholder) {\r\n          resolve(placeholder)\r\n        } else {\r\n          fail('timeout of ' + TIMEOUT + 'ms occured while fetching resource: ' + url)\r\n        }\r\n      }\r\n\r\n      function fail(message) {\r\n        console.error(message)\r\n        resolve('')\r\n      }\r\n    })\r\n  }\r\n\r\n  function dataAsUrl(content, type) {\r\n    return 'data:' + type + ';base64,' + content\r\n  }\r\n\r\n  function escape(string) {\r\n    return string.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1')\r\n  }\r\n\r\n  function delay(ms) {\r\n    return function (arg) {\r\n      return new Promise(function (resolve) {\r\n        setTimeout(function () {\r\n          resolve(arg)\r\n        }, ms)\r\n      })\r\n    }\r\n  }\r\n\r\n  function asArray(arrayLike) {\r\n    const array = []\r\n    const length = arrayLike.length\r\n    for (let i = 0; i < length; i++) array.push(arrayLike[i])\r\n    return array\r\n  }\r\n\r\n  function escapeXhtml(string) {\r\n    return string.replace(/#/g, '%23').replace(/\\n/g, '%0A')\r\n  }\r\n\r\n  function width(node) {\r\n    const leftBorder = px(node, 'border-left-width')\r\n    const rightBorder = px(node, 'border-right-width')\r\n    return node.scrollWidth + leftBorder + rightBorder\r\n  }\r\n\r\n  function height(node) {\r\n    const topBorder = px(node, 'border-top-width')\r\n    const bottomBorder = px(node, 'border-bottom-width')\r\n    return node.scrollHeight + topBorder + bottomBorder\r\n  }\r\n\r\n  function px(node, styleProperty) {\r\n    const value = window.getComputedStyle(node).getPropertyValue(styleProperty)\r\n    return parseFloat(value.replace('px', ''))\r\n  }\r\n}\r\n\r\nfunction newInliner() {\r\n  const URL_REGEX = /url\\(['\"]?([^'\"]+?)['\"]?\\)/g\r\n\r\n  return {\r\n    inlineAll: inlineAll,\r\n    shouldProcess: shouldProcess,\r\n    impl: {\r\n      readUrls: readUrls,\r\n      inline: inline,\r\n    },\r\n  }\r\n\r\n  function shouldProcess(string) {\r\n    return string.search(URL_REGEX) !== -1\r\n  }\r\n\r\n  function readUrls(string) {\r\n    const result = []\r\n    let match\r\n    while ((match = URL_REGEX.exec(string)) !== null) {\r\n      result.push(match[1])\r\n    }\r\n    return result.filter(function (url) {\r\n      return !util.isDataUrl(url)\r\n    })\r\n  }\r\n\r\n  function inline(string, url, baseUrl, get) {\r\n    return Promise.resolve(url)\r\n      .then(function (url) {\r\n        return baseUrl ? util.resolveUrl(url, baseUrl) : url\r\n      })\r\n      .then(get || util.getAndEncode)\r\n      .then(function (data) {\r\n        return util.dataAsUrl(data, util.mimeType(url))\r\n      })\r\n      .then(function (dataUrl) {\r\n        return string.replace(urlAsRegex(url), '$1' + dataUrl + '$3')\r\n      })\r\n\r\n    function urlAsRegex(url) {\r\n      return new RegExp('(url\\\\([\\'\"]?)(' + util.escape(url) + ')([\\'\"]?\\\\))', 'g')\r\n    }\r\n  }\r\n\r\n  function inlineAll(string, baseUrl, get) {\r\n    if (nothingToInline()) return Promise.resolve(string)\r\n\r\n    return Promise.resolve(string)\r\n      .then(readUrls)\r\n      .then(function (urls) {\r\n        let done = Promise.resolve(string)\r\n        urls.forEach(function (url) {\r\n          done = done.then(function (string) {\r\n            return inline(string, url, baseUrl, get)\r\n          })\r\n        })\r\n        return done\r\n      })\r\n\r\n    function nothingToInline() {\r\n      return !shouldProcess(string)\r\n    }\r\n  }\r\n}\r\n\r\nfunction newFontFaces() {\r\n  return {\r\n    resolveAll: resolveAll,\r\n    impl: {\r\n      readAll: readAll,\r\n    },\r\n  }\r\n\r\n  function resolveAll() {\r\n    return readAll(document)\r\n      .then(function (webFonts) {\r\n        return Promise.all(\r\n          webFonts.map(function (webFont) {\r\n            return webFont.resolve()\r\n          })\r\n        )\r\n      })\r\n      .then(function (cssStrings) {\r\n        return cssStrings.join('\\n')\r\n      })\r\n  }\r\n\r\n  function readAll() {\r\n    return Promise.resolve(util.asArray(document.styleSheets))\r\n      .then(getCssRules)\r\n      .then(selectWebFontRules)\r\n      .then(function (rules) {\r\n        return rules.map(newWebFont)\r\n      })\r\n\r\n    function selectWebFontRules(cssRules) {\r\n      return cssRules\r\n        .filter(function (rule) {\r\n          return rule.type === CSSRule.FONT_FACE_RULE\r\n        })\r\n        .filter(function (rule) {\r\n          return inliner.shouldProcess(rule.style.getPropertyValue('src'))\r\n        })\r\n    }\r\n\r\n    function getCssRules(styleSheets) {\r\n      const cssRules = []\r\n      styleSheets.forEach(function (sheet) {\r\n        try {\r\n          util.asArray(sheet.cssRules || []).forEach(cssRules.push.bind(cssRules))\r\n        } catch (e) {\r\n          console.log('Error while reading CSS rules from ' + sheet.href, e.toString())\r\n        }\r\n      })\r\n      return cssRules\r\n    }\r\n\r\n    function newWebFont(webFontRule) {\r\n      return {\r\n        resolve: function resolve() {\r\n          const baseUrl = (webFontRule.parentStyleSheet || {}).href\r\n          return inliner.inlineAll(webFontRule.cssText, baseUrl)\r\n        },\r\n        src: function () {\r\n          return webFontRule.style.getPropertyValue('src')\r\n        },\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction newImages() {\r\n  return {\r\n    inlineAll: inlineAll,\r\n    impl: {\r\n      newImage: newImage,\r\n    },\r\n  }\r\n\r\n  function newImage(element) {\r\n    return {\r\n      inline: inline,\r\n    }\r\n\r\n    function inline(get) {\r\n      if (util.isDataUrl(element.src)) return Promise.resolve()\r\n\r\n      return Promise.resolve(element.src)\r\n        .then(get || util.getAndEncode)\r\n        .then(function (data) {\r\n          return util.dataAsUrl(data, util.mimeType(element.src))\r\n        })\r\n        .then(function (dataUrl) {\r\n          return new Promise(function (resolve, reject) {\r\n            element.onload = resolve\r\n            element.onerror = reject\r\n            element.src = dataUrl\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  function inlineAll(node) {\r\n    if (!(node instanceof Element)) return Promise.resolve(node)\r\n\r\n    return inlineBackground(node).then(function () {\r\n      if (node instanceof HTMLImageElement) return newImage(node).inline()\r\n      else\r\n        return Promise.all(\r\n          util.asArray(node.childNodes).map(function (child) {\r\n            return inlineAll(child)\r\n          })\r\n        )\r\n    })\r\n\r\n    function inlineBackground(node) {\r\n      const background = node.style.getPropertyValue('background')\r\n\r\n      if (!background) return Promise.resolve(node)\r\n\r\n      return inliner\r\n        .inlineAll(background)\r\n        .then(function (inlined) {\r\n          node.style.setProperty('background', inlined, node.style.getPropertyPriority('background'))\r\n        })\r\n        .then(function () {\r\n          return node\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nexport default domtoimage\r\n","import { Vec3, Xfo, GeomItem, Material, Plane, DataImage } from '@zeainc/zea-engine'\r\n\r\nimport domtoimage from './dom-to-image.js'\r\n\r\nconst VR_UI_ELEM_CLASS = 'VRUIElement'\r\n\r\n/**\r\n * Class representing a VR controller UI.\r\n * @extends GeomItem\r\n */\r\nexport default class VRControllerUI extends GeomItem {\r\n  /**\r\n   * Create a VR controller UI.\r\n   * @param {any} appData - The appData value.\r\n   * @param {any} vrUIDOMHolderElement - The vrUIDOMHolderElement value.\r\n   * @param {any} vrUIDOMElement - The vrUIDOMElement value.\r\n   */\r\n  constructor(appData, vrUIDOMHolderElement, vrUIDOMElement) {\r\n    const uimat = new Material('uimat', 'FlatSurfaceShader')\r\n    uimat.visibleInGeomDataBuffer = false\r\n\r\n    super('VRControllerUI', new Plane(1, 1), uimat)\r\n\r\n    this.appData = appData\r\n    this.__vrUIDOMHolderElement = vrUIDOMHolderElement\r\n    this.__vrUIDOMElement = vrUIDOMElement\r\n\r\n    this.__uiimage = new DataImage()\r\n    // uimat.getParameter('BaseColor').setValue(new Color(0.3, 0.3, 0.3));\r\n    uimat.getParameter('BaseColor').setValue(this.__uiimage)\r\n\r\n    this.__uiGeomOffsetXfo = new Xfo()\r\n    this.__uiGeomOffsetXfo.sc.set(0, 0, 1)\r\n    this.__rect = { width: 0, height: 0 }\r\n\r\n    // Flip it over so we see the front.\r\n    this.__uiGeomOffsetXfo.ori.setFromAxisAndAngle(new Vec3(0, 1, 0), Math.PI)\r\n    this.setGeomOffsetXfo(this.__uiGeomOffsetXfo)\r\n\r\n    let renderRequestedId\r\n    let mutatedElems = []\r\n    const processMutatedElems = () => {\r\n      renderRequestedId = null\r\n      const promises = mutatedElems.map((elem) => {\r\n        return this.updateElemInAtlas(elem)\r\n      })\r\n      Promise.all(promises).then(() => {\r\n        this.updateUIImage()\r\n        // console.log(\"Update Time:\", performance.now() - start, mutatedElems.length);\r\n        mutatedElems = []\r\n      })\r\n    }\r\n    this.__mutationObserver = new MutationObserver((mutations) => {\r\n      if (!this.mainCtx) {\r\n        this.renderUIToImage()\r\n        return\r\n      }\r\n      // console.log(\"mutations:\", mutations.length)\r\n      mutations.some((mutation) => {\r\n        let elem = mutation.target\r\n        while (elem.parentNode) {\r\n          if (elem == this.__vrUIDOMElement) {\r\n            this.renderUIToImage()\r\n            mutatedElems = []\r\n            return false\r\n            break\r\n          }\r\n          // console.log(elem.classList)\r\n          if (elem.classList.contains(VR_UI_ELEM_CLASS) || elem == this.__vrUIDOMElement) {\r\n            if (mutatedElems.indexOf(elem) == -1) mutatedElems.push(elem)\r\n            break\r\n          }\r\n          elem = elem.parentNode\r\n        }\r\n        return true\r\n      })\r\n\r\n      // Batch the changes.\r\n      if (renderRequestedId) clearTimeout(renderRequestedId)\r\n      renderRequestedId = setTimeout(processMutatedElems, 50)\r\n    })\r\n\r\n    this.__active = false\r\n    this.__renderRequested = false\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n\r\n  /**\r\n   * The activate method.\r\n   */\r\n  activate() {\r\n    this.__vrUIDOMHolderElement.style.display = 'block'\r\n    this.__active = true\r\n\r\n    this.__mutationObserver.observe(this.__vrUIDOMElement, {\r\n      attributes: true,\r\n      characterData: true,\r\n      childList: true,\r\n      subtree: true,\r\n    })\r\n    this.renderUIToImage()\r\n  }\r\n\r\n  /**\r\n   * The deactivate method.\r\n   */\r\n  deactivate() {\r\n    this.__vrUIDOMHolderElement.style.display = 'none'\r\n    this.__active = true\r\n    this.__mutationObserver.disconnect()\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * The updateElemInAtlas method.\r\n   * @param {any} elem - The elem param.\r\n   * @return {any} The return value.\r\n   */\r\n  updateElemInAtlas(elem) {\r\n    return new Promise((resolve, reject) => {\r\n      domtoimage.toCanvas(elem).then((canvas) => {\r\n        const rect = elem.getBoundingClientRect()\r\n        // Sometimes a render request occurs as the UI is being hidden.\r\n        if (rect.width * rect.height == 0) {\r\n          resolve()\r\n          return\r\n        }\r\n        // console.log(rect.width, rect.height, rect.x, rect.y)\r\n        // this.mainCtx.clearRect(rect.x, rect.y, rect.width, rect.height);\r\n        this.mainCtx.fillRect(rect.x, rect.y, rect.width, rect.height)\r\n        this.mainCtx.drawImage(canvas, rect.x, rect.y)\r\n        resolve()\r\n      })\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The updateUIImage method.\r\n   */\r\n  updateUIImage() {\r\n    const imageData = this.mainCtx.getImageData(0, 0, this.__rect.width, this.__rect.height)\r\n    this.__uiimage.setData(this.__rect.width, this.__rect.height, new Uint8Array(imageData.data.buffer))\r\n  }\r\n\r\n  /**\r\n   * The renderUIToImage method.\r\n   */\r\n  renderUIToImage() {\r\n    domtoimage.toCanvas(this.__vrUIDOMElement).then((canvas) => {\r\n      this.mainCtx = canvas.getContext('2d')\r\n      this.mainCtx.fillStyle = '#FFFFFF'\r\n\r\n      const rect = this.__vrUIDOMElement.getBoundingClientRect()\r\n      // Sometimes a rendeer request occurs as the UI is being hidden.\r\n      if (rect.width * rect.height == 0) return\r\n\r\n      // const dpm = 0.0003; //dots-per-meter (1 each 1/2mm)\r\n      if (rect.width != this.__rect.width || rect.height != this.__rect.height) {\r\n        this.__rect = rect\r\n        const dpm = 0.0007 // dots-per-meter (1 each 1/2mm)\r\n        this.__uiGeomOffsetXfo.sc.set(this.__rect.width * dpm, this.__rect.height * dpm, 1.0)\r\n        this.setGeomOffsetXfo(this.__uiGeomOffsetXfo)\r\n\r\n        this.appData.session.pub('pose-message', {\r\n          interfaceType: 'VR',\r\n          updateUIPanel: {\r\n            size: this.__uiGeomOffsetXfo.sc.toJSON(),\r\n          },\r\n        })\r\n      }\r\n      this.updateUIImage()\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The sendMouseEvent method.\r\n   * @param {any} eventName - The eventName param.\r\n   * @param {any} args - The args param.\r\n   * @param {any} element - The element param.\r\n   * @return {any} The return value.\r\n   */\r\n  sendMouseEvent(eventName, args, element) {\r\n    // console.log(eventName, element)\r\n\r\n    // if (eventName == 'mousedown')\r\n    //   console.log(\"clientX:\" + args.clientX + \" clientY:\" + args.clientY);\r\n\r\n    const event = new MouseEvent(\r\n      eventName,\r\n      Object.assign(\r\n        {\r\n          target: element,\r\n          view: window,\r\n          bubbles: true,\r\n          // composed: true,\r\n          cancelable: true,\r\n        },\r\n        args\r\n      )\r\n    )\r\n\r\n    // Dispatch the event to a leaf item in the DOM tree.\r\n    element.dispatchEvent(event)\r\n\r\n    // The event is re-cycled to generate a 'click' event on mouse down.\r\n    return event\r\n  }\r\n}\r\n","import { Vec3, Color, Xfo, Ray, GeomItem, Material, Lines } from '@zeainc/zea-engine'\r\nimport BaseTool from '../BaseTool'\r\nimport VRControllerUI from './VRControllerUI'\r\n\r\n/**\r\n * Class representing a VR UI tool.\r\n *\r\n * @extends BaseTool\r\n */\r\nclass VRUITool extends BaseTool {\r\n  /**\r\n   * Create a VR UI tool.\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n\r\n    this.__vrUIDOMHolderElement = document.createElement('div')\r\n    this.__vrUIDOMHolderElement.className = 'vrUIHolder'\r\n    this.__vrUIDOMElement = document.createElement('div')\r\n    this.__vrUIDOMElement.className = 'vrUI'\r\n    document.body.appendChild(this.__vrUIDOMHolderElement)\r\n\r\n    this.controllerUI = new VRControllerUI(appData, this.__vrUIDOMHolderElement, this.__vrUIDOMElement)\r\n    this.controllerUI.addRef(this)\r\n\r\n    appData.renderer.addTreeItem(this.controllerUI)\r\n\r\n    this.__uiLocalXfo = new Xfo()\r\n    this.__uiLocalXfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * -0.6)\r\n\r\n    const pointermat = new Material('pointermat', 'LinesShader')\r\n    pointermat.visibleInGeomDataBuffer = false\r\n    pointermat.getParameter('Color').setValue(new Color(1.2, 0, 0))\r\n\r\n    const line = new Lines()\r\n    line.setNumVertices(2)\r\n    line.setNumSegments(1)\r\n    line.setSegment(0, 0, 1)\r\n    line.getVertex(0).set(0.0, 0.0, 0.0)\r\n    line.getVertex(1).set(0.0, 0.0, -1.0)\r\n    line.setBoundingBoxDirty()\r\n    this.__pointerLocalXfo = new Xfo()\r\n    this.__pointerLocalXfo.sc.set(1, 1, 0.1)\r\n    this.__pointerLocalXfo.ori.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * -0.2)\r\n\r\n    this.__uiPointerItem = new GeomItem('VRControllerPointer', line, pointermat)\r\n    this.__uiPointerItem.addRef(this)\r\n\r\n    this.__triggerHeld = false\r\n  }\r\n\r\n  /**\r\n   * The getName method.\r\n   *\r\n   * @return {string} The return value.\r\n   */\r\n  getName() {\r\n    return 'VRUITool'\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n\r\n  /**\r\n   * The setUIControllers method.\r\n   * @param {*} openUITool - The openUITool param.\r\n   * @param {*} uiController - The uiController param.\r\n   * @param {*} pointerController - The pointerController param.\r\n   * @param {Xfo} headXfo - The headXfo param.\r\n   */\r\n  setUIControllers(openUITool, uiController, pointerController, headXfo) {\r\n    this.openUITool = openUITool\r\n    this.uiController = uiController\r\n    this.pointerController = pointerController\r\n\r\n    const xfoA = this.uiController.getTreeItem().getParameter('GlobalXfo').getValue()\r\n    if (this.pointerController) {\r\n      const xfoB = this.pointerController.getTreeItem().getParameter('GlobalXfo').getValue()\r\n      const headToCtrlA = xfoA.tr.subtract(headXfo.tr)\r\n      const headToCtrlB = xfoB.tr.subtract(headXfo.tr)\r\n      if (headToCtrlA.cross(headToCtrlB).dot(headXfo.ori.getYaxis()) > 0.0) {\r\n        this.__uiLocalXfo.tr.set(0.05, -0.05, 0.08)\r\n      } else {\r\n        this.__uiLocalXfo.tr.set(-0.05, -0.05, 0.08)\r\n      }\r\n    } else {\r\n      this.__uiLocalXfo.tr.set(0, -0.05, 0.08)\r\n    }\r\n\r\n    this.controllerUI.getParameter('LocalXfo').setValue(this.__uiLocalXfo)\r\n  }\r\n\r\n  /**\r\n   * The activateTool method.\r\n   */\r\n  activateTool() {\r\n    super.activateTool()\r\n\r\n    this.controllerUI.activate()\r\n\r\n    if (this.uiController) {\r\n      this.uiController.getTipItem().addChild(this.controllerUI, false)\r\n      if (this.pointerController) this.pointerController.getTipItem().addChild(this.__uiPointerItem, false)\r\n\r\n      this.appData.session.pub('pose-message', {\r\n        interfaceType: 'VR',\r\n        showUIPanel: {\r\n          controllerId: this.uiController.getId(),\r\n          localXfo: this.__uiLocalXfo.toJSON(),\r\n          size: this.controllerUI.getGeomOffsetXfo().sc.toJSON(),\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The deactivateTool method.\r\n   */\r\n  deactivateTool() {\r\n    super.deactivateTool()\r\n\r\n    this.controllerUI.deactivate()\r\n\r\n    if (this.uiController) {\r\n      this.uiController.getTipItem().removeChildByHandle(this.controllerUI)\r\n      if (this.pointerController) {\r\n        this.pointerController.getTipItem().removeChildByHandle(this.__uiPointerItem)\r\n      }\r\n\r\n      this.appData.session.pub('pose-message', {\r\n        interfaceType: 'VR',\r\n        hideUIPanel: {\r\n          controllerId: this.uiController.getId(),\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * The setPointerLength method.\r\n   * @param {number} length - The length param.\r\n   */\r\n  setPointerLength(length) {\r\n    this.__pointerLocalXfo.sc.set(1, 1, length)\r\n    this.__uiPointerItem.getParameter('LocalXfo').setValue(this.__pointerLocalXfo)\r\n  }\r\n\r\n  /**\r\n   * The calcUIIntersection method.\r\n   *\r\n   * @return {object|undefined} The return value.\r\n   */\r\n  calcUIIntersection() {\r\n    const pointerXfo = this.__uiPointerItem.getParameter('GlobalXfo').getValue()\r\n    const pointervec = pointerXfo.ori.getZaxis().negate()\r\n    const ray = new Ray(pointerXfo.tr, pointervec)\r\n\r\n    const planeXfo = this.controllerUI.getParameter('GlobalXfo').getValue()\r\n    const planeSize = this.controllerUI.getGeomOffsetXfo().sc\r\n    const plane = new Ray(planeXfo.tr, planeXfo.ori.getZaxis().negate())\r\n    const res = ray.intersectRayPlane(plane)\r\n    if (res <= 0) {\r\n      // Let the pointer shine right past the UI.\r\n      this.setPointerLength(0.5)\r\n      return\r\n    }\r\n    const hitOffset = pointerXfo.tr.add(pointervec.scale(res)).subtract(plane.start)\r\n    const x = hitOffset.dot(planeXfo.ori.getXaxis()) / planeSize.x\r\n    const y = hitOffset.dot(planeXfo.ori.getYaxis()) / planeSize.y\r\n    if (Math.abs(x) > 0.5 || Math.abs(y) > 0.5) {\r\n      // Let the pointer shine right past the UI.\r\n      this.setPointerLength(0.5)\r\n      return\r\n    }\r\n    this.setPointerLength(res)\r\n    const rect = this.__vrUIDOMElement.getBoundingClientRect()\r\n    return {\r\n      clientX: Math.round(x * rect.width + rect.width / 2),\r\n      clientY: Math.round(y * -rect.height + rect.height / 2),\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The sendEventToUI method.\r\n   * @param {string} eventName - The eventName param.\r\n   * @param {any} args - The args param.\r\n   * @return {any} The return value.\r\n   */\r\n  sendEventToUI(eventName, args) {\r\n    const hit = this.calcUIIntersection()\r\n    if (hit) {\r\n      hit.offsetX = hit.pageX = hit.pageX = hit.screenX = hit.clientX\r\n      hit.offsetY = hit.pageY = hit.pageY = hit.screenY = hit.clientY\r\n      const element = document.elementFromPoint(hit.clientX, hit.clientY)\r\n      if (element != this._element) {\r\n        if (this._element) this.controllerUI.sendMouseEvent('mouseleave', Object.assign(args, hit), this._element)\r\n        this._element = element\r\n        this.controllerUI.sendMouseEvent('mouseenter', Object.assign(args, hit), this._element)\r\n      }\r\n      this.controllerUI.sendMouseEvent(eventName, Object.assign(args, hit), this._element)\r\n      return this._element\r\n    } else if (this._element) {\r\n      this.controllerUI.sendMouseEvent('mouseleave', Object.assign(args, hit), this._element)\r\n      this._element = null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonDown method.\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    if (event.controller == this.pointerController) {\r\n      this.__triggerHeld = true\r\n      const target = this.sendEventToUI('mousedown', {\r\n        button: event.button - 1,\r\n      })\r\n      if (target) {\r\n        this.__triggerDownElem = target\r\n      } else {\r\n        this.__triggerDownElem = null\r\n      }\r\n    }\r\n\r\n    // While the UI is open, no other tools get events.\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonUp method.\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    if (event.controller == this.pointerController) {\r\n      this.__triggerHeld = false\r\n      const target = this.sendEventToUI('mouseup', {\r\n        button: event.button - 1,\r\n      })\r\n      if (target && this.__triggerDownElem == target) {\r\n        this.sendEventToUI('click', {\r\n          button: event.button - 1,\r\n        })\r\n      }\r\n      this.__triggerDownElem = null\r\n    }\r\n\r\n    // While the UI is open, no other tools get events.\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    // Controller coordinate system\r\n    // X = Horizontal.\r\n    // Y = Up.\r\n    // Z = Towards handle base.\r\n    const headXfo = event.viewXfo\r\n    const checkControllers = () => {\r\n      const xfoA = this.uiController.getTreeItem().getParameter('GlobalXfo').getValue()\r\n      const headToCtrlA = xfoA.tr.subtract(headXfo.tr)\r\n      headToCtrlA.normalizeInPlace()\r\n      if (headToCtrlA.angleTo(xfoA.ori.getYaxis()) > Math.PI * 0.5) {\r\n        // Remove ourself from the system.\r\n        this.appData.toolManager.removeToolByHandle(this)\r\n        return false\r\n      }\r\n      return true\r\n    }\r\n\r\n    // if (!this.__triggerHeld) {\r\n    //   if(checkControllers()){\r\n    //     this.calcUIIntersection();\r\n    //   }\r\n    // } else {\r\n    if (checkControllers()) {\r\n      this.sendEventToUI('mousemove', {})\r\n    }\r\n\r\n    // While the UI is open, no other tools get events.\r\n    return true\r\n  }\r\n}\r\n\r\nexport default VRUITool\r\nexport { VRUITool }\r\n","import { Quat, Color, Xfo, GeomItem, Material, Cross } from '@zeainc/zea-engine'\r\nimport BaseTool from '../BaseTool'\r\nimport Handle from '../../Handles/Handle'\r\nimport UndoRedoManager from '../../UndoRedo/UndoRedoManager'\r\nimport Change from '../../UndoRedo/Change'\r\n\r\n/**\r\n * Class representing a hold objects change.\r\n *\r\n * @extends Change\r\n */\r\nclass HoldObjectsChange extends Change {\r\n  /**\r\n   * Create a hold objects change.\r\n   *\r\n   * @param {object} data - The data value.\r\n   */\r\n  constructor(data) {\r\n    super('HoldObjectsChange')\r\n\r\n    this.__selection = []\r\n    this.__prevXfos = []\r\n    this.__newXfos = []\r\n\r\n    if (data) this.update(data)\r\n  }\r\n\r\n  /**\r\n   * The undo method.\r\n   */\r\n  undo() {\r\n    for (let i = 0; i < this.__selection.length; i++) {\r\n      if (this.__selection[i]) {\r\n        this.__selection[i].getParameter('GlobalXfo').setValue(this.__prevXfos[i])\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The redo method.\r\n   */\r\n  redo() {\r\n    for (let i = 0; i < this.__selection.length; i++) {\r\n      if (this.__selection[i]) {\r\n        this.__selection[i].getParameter('GlobalXfo').setValue(this.__newXfos[i])\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The update method.\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    if (updateData.newItem) {\r\n      this.__selection[updateData.newItemId] = updateData.newItem\r\n      this.__prevXfos[updateData.newItemId] = updateData.newItem.getParameter('GlobalXfo').getValue()\r\n    } else if (updateData.changeXfos) {\r\n      for (let i = 0; i < updateData.changeXfoIds.length; i++) {\r\n        const gidx = updateData.changeXfoIds[i]\r\n        if (!this.__selection[gidx]) continue\r\n        this.__selection[gidx].getParameter('GlobalXfo').setValue(updateData.changeXfos[i])\r\n        this.__newXfos[gidx] = updateData.changeXfos[i]\r\n      }\r\n    }\r\n    this.emit('updated', updateData)\r\n  }\r\n\r\n  /**\r\n   * The toJSON method.\r\n   * @param {object} context - The context param.\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON(context) {\r\n    const j = super.toJSON(context)\r\n\r\n    const itemPaths = []\r\n    for (let i = 0; i < this.__selection.length; i++) {\r\n      if (this.__selection[i]) {\r\n        itemPaths[i] = this.__selection[i].getPath()\r\n      } else {\r\n        itemPaths.push(null)\r\n      }\r\n    }\r\n    j.itemPaths = itemPaths\r\n\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * The fromJSON method.\r\n   * @param {object} j - The j param.\r\n   * @param {object} context - The context param.\r\n   */\r\n  fromJSON(j, context) {\r\n    super.fromJSON(j, context)\r\n\r\n    const sceneRoot = context.appData.scene.getRoot()\r\n    const newSelection = []\r\n    for (let i = 0; i < j.itemPaths.length; i++) {\r\n      const itemPath = j.itemPaths[i]\r\n      if (itemPath) {\r\n        newSelection[i] = sceneRoot.resolvePath(itemPath, 1)\r\n      }\r\n    }\r\n    this.__selection = newSelection\r\n  }\r\n\r\n  // changeFromJSON(j) {\r\n\r\n  //   if(updateData.newItem) {\r\n  //     this.__selection[updateData.newItemId] = updateData.newItem;\r\n  //     this.__prevXfos[updateData.newItemId] = updateData.newItem.getParameter('GlobalXfo').getValue();\r\n  //   }\r\n  //   else if(updateData.changeXfos) {\r\n  //     for(let i=0; i<updateData.changeXfoIds.length; i++){\r\n  //       const gidx = updateData.changeXfoIds[i];\r\n  //       if(!this.__selection[gidx])\r\n  //         continue;\r\n  //       this.__selection[gidx].getParameter('GlobalXfo').setValue(\r\n  //         updateData.changeXfos[i],\r\n  //         ValueSetMode.REMOTEUSER_SETVALUE);\r\n  //       this.__newXfos[gidx] = updateData.changeXfos[i];\r\n  //     }\r\n  //   }\r\n  //   this.emit('updated', updateData);\r\n  // }\r\n}\r\n\r\nUndoRedoManager.registerChange('HoldObjectsChange', HoldObjectsChange)\r\n\r\n/**\r\n * Class representing a VR hold objects tool.\r\n * @extends BaseTool\r\n */\r\nclass VRHoldObjectsTool extends BaseTool {\r\n  /**\r\n   * Create a VR hold objects tool.\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n\r\n    this.__pressedButtonCount = 0\r\n\r\n    this.__freeIndices = []\r\n    this.__vrControllers = []\r\n    this.__heldObjectCount = 0\r\n    this.__heldGeomItems = []\r\n    this.__heldGeomItemIds = [] // controller id to held goem id.\r\n    this.__heldGeomItemRefs = []\r\n    this.__heldGeomItemOffsets = []\r\n  }\r\n\r\n  /**\r\n   * The activateTool method.\r\n   */\r\n  activateTool() {\r\n    super.activateTool()\r\n    console.log('activateTool.VRHoldObjectsTool')\r\n\r\n    this.appData.renderer.getDiv().style.cursor = 'crosshair'\r\n\r\n    const addIconToController = (controller) => {\r\n      // The tool might already be deactivated.\r\n      if (!this.__activated) return\r\n      const cross = new Cross(0.03)\r\n      const mat = new Material('Cross', 'FlatSurfaceShader')\r\n      mat.getParameter('BaseColor').setValue(new Color('#03E3AC'))\r\n      mat.visibleInGeomDataBuffer = false\r\n      const geomItem = new GeomItem('HandleToolTip', cross, mat)\r\n      controller.getTipItem().removeAllChildren()\r\n      controller.getTipItem().addChild(geomItem, false)\r\n    }\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      for (const controller of xrvp.getControllers()) addIconToController(controller)\r\n      this.addIconToControllerId = xrvp.on('controllerAdded', addIconToController)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The deactivateTool method.\r\n   */\r\n  deactivateTool() {\r\n    super.deactivateTool()\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      // for(let controller of xrvp.getControllers()) {\r\n      //   controller.getTipItem().removeAllChildren();\r\n      // }\r\n      xrvp.removeListenerById('controllerAdded', this.addIconToControllerId)\r\n    })\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * The computeGrabXfo method.\r\n   * @param {array} refs - The refs param.\r\n   * @return {Xfo} The return value.\r\n   */\r\n  computeGrabXfo(refs) {\r\n    let grabXfo\r\n    if (refs.length == 1) {\r\n      grabXfo = this.__vrControllers[refs[0]].getTipXfo()\r\n    } else if (refs.length == 2) {\r\n      const xfo0 = this.__vrControllers[refs[0]].getTipXfo()\r\n      const xfo1 = this.__vrControllers[refs[1]].getTipXfo()\r\n\r\n      xfo0.ori.alignWith(xfo1.ori)\r\n\r\n      grabXfo = new Xfo()\r\n      grabXfo.tr = xfo0.tr.lerp(xfo1.tr, 0.5)\r\n      grabXfo.ori = xfo0.ori.lerp(xfo1.ori, 0.5)\r\n\r\n      let vec0 = xfo1.tr.subtract(xfo0.tr)\r\n      vec0.normalizeInPlace()\r\n      const vec1 = grabXfo.ori.getXaxis()\r\n      if (vec0.dot(vec1) < 0.0) vec0 = vec0.negate()\r\n\r\n      const angle = vec0.angleTo(vec1)\r\n      if (angle > 0) {\r\n        const axis = vec1.cross(vec0)\r\n        axis.normalizeInPlace()\r\n        const align = new Quat()\r\n        align.setFromAxisAndAngle(axis, angle)\r\n        grabXfo.ori = align.multiply(grabXfo.ori)\r\n      }\r\n    }\r\n    return grabXfo\r\n  }\r\n\r\n  /**\r\n   * The initAction method.\r\n   */\r\n  initAction() {\r\n    for (let i = 0; i < this.__heldGeomItems.length; i++) {\r\n      const heldGeom = this.__heldGeomItems[i]\r\n      if (!heldGeom) continue\r\n      const grabXfo = this.computeGrabXfo(this.__heldGeomItemRefs[i])\r\n      this.__heldGeomItemOffsets[i] = grabXfo.inverse().multiply(heldGeom.getParameter('GlobalXfo').getValue())\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonDown method.\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    const id = event.controller.getId()\r\n    this.__vrControllers[id] = event.controller\r\n\r\n    const intersectionData = event.controller.getGeomItemAtTip()\r\n    if (intersectionData) {\r\n      if (intersectionData.geomItem.getOwner() instanceof Handle) return false\r\n\r\n      // console.log(\"onMouseDown on Geom\"); // + \" Material:\" + geomItem.getMaterial().name);\r\n      // console.log(intersectionData.geomItem.getPath()); // + \" Material:\" + geomItem.getMaterial().name);\r\n      event.intersectionData = intersectionData\r\n      intersectionData.geomItem.onMouseDown(event, intersectionData)\r\n      if (!event.propagating) return false\r\n\r\n      let gidx = this.__heldGeomItems.indexOf(intersectionData.geomItem)\r\n      if (gidx == -1) {\r\n        gidx = this.__heldGeomItems.length\r\n        this.__heldObjectCount++\r\n        this.__heldGeomItems.push(intersectionData.geomItem)\r\n        this.__heldGeomItemRefs[gidx] = [id]\r\n        this.__heldGeomItemIds[id] = gidx\r\n\r\n        const changeData = {\r\n          newItem: intersectionData.geomItem,\r\n          newItemId: gidx,\r\n        }\r\n        if (!this.change) {\r\n          this.change = new HoldObjectsChange(changeData)\r\n          this.appData.undoRedoManager.addChange(this.change)\r\n        } else {\r\n          this.change.update(changeData)\r\n        }\r\n      } else {\r\n        this.__heldGeomItemIds[id] = gidx\r\n        this.__heldGeomItemRefs[gidx].push(id)\r\n      }\r\n      this.initAction()\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRControllerButtonUp method.\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    const id = event.controller.getId()\r\n\r\n    this.__pressedButtonCount--\r\n    if (this.__heldGeomItemIds[id] !== undefined) {\r\n      const gidx = this.__heldGeomItemIds[id]\r\n      const refs = this.__heldGeomItemRefs[gidx]\r\n      refs.splice(refs.indexOf(id), 1)\r\n      if (refs.length == 0) {\r\n        this.__heldObjectCount--\r\n        this.__heldGeomItems[gidx] = undefined\r\n\r\n        this.change = undefined\r\n      }\r\n      this.__heldGeomItemIds[id] = undefined\r\n      this.initAction()\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    if (!this.change) return false\r\n\r\n    const changeXfos = []\r\n    const changeXfoIds = []\r\n    for (let i = 0; i < this.__heldGeomItems.length; i++) {\r\n      const heldGeom = this.__heldGeomItems[i]\r\n      if (!heldGeom) continue\r\n      const grabXfo = this.computeGrabXfo(this.__heldGeomItemRefs[i])\r\n      changeXfos.push(grabXfo.multiply(this.__heldGeomItemOffsets[i]))\r\n      changeXfoIds.push(i)\r\n    }\r\n\r\n    this.change.update({ changeXfos, changeXfoIds })\r\n\r\n    return true\r\n  }\r\n}\r\n\r\nexport default VRHoldObjectsTool\r\nexport { VRHoldObjectsTool }\r\n","import BaseTool from './BaseTool'\r\n\r\n/**\r\n * Class representing a primary create tool.\r\n *\r\n * @extends BaseTool\r\n */\r\nexport default class BaseCreateTool extends BaseTool {\r\n  /**\r\n   * Creates an instance of BaseCreateTool.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n  }\r\n\r\n  /**\r\n   * Checks if the tool is a primary tool or not.\r\n   *\r\n   * @return {boolean} - Returns `true`.\r\n   */\r\n  isPrimaryTool() {\r\n    return true\r\n  }\r\n}\r\n","import { Color, Xfo, Ray, ColorParameter, GeomItem, Material, Cross } from '@zeainc/zea-engine'\r\nimport BaseCreateTool from '../BaseCreateTool'\r\n\r\n/**\r\n * Base class for creating geometry tools.\r\n *\r\n * @extends BaseCreateTool\r\n */\r\nclass CreateGeomTool extends BaseCreateTool {\r\n  /**\r\n   * Create a create geom tool.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n\r\n    this.stage = 0\r\n    this.removeToolOnRightClick = true\r\n\r\n    this.cp = this.addParameter(new ColorParameter('Line Color', new Color(0.7, 0.2, 0.2)))\r\n  }\r\n\r\n  /**\r\n   * The activateTool method.\r\n   */\r\n  activateTool() {\r\n    super.activateTool()\r\n\r\n    this.appData.renderer.getDiv().style.cursor = 'crosshair'\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      if (!this.vrControllerToolTip) {\r\n        this.vrControllerToolTip = new Cross(0.05)\r\n        this.vrControllerToolTipMat = new Material('VRController Cross', 'LinesShader')\r\n        this.vrControllerToolTipMat.getParameter('Color').setValue(this.cp.getValue())\r\n        this.vrControllerToolTipMat.visibleInGeomDataBuffer = false\r\n      }\r\n      const addIconToController = (controller) => {\r\n        const geomItem = new GeomItem('CreateGeomToolTip', this.vrControllerToolTip, this.vrControllerToolTipMat)\r\n        controller.getTipItem().removeAllChildren()\r\n        controller.getTipItem().addChild(geomItem, false)\r\n      }\r\n      for (const controller of xrvp.getControllers()) {\r\n        addIconToController(controller)\r\n      }\r\n      this.addIconToControllerId = xrvp.on('controllerAdded', addIconToController)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * The deactivateTool method.\r\n   */\r\n  deactivateTool() {\r\n    super.deactivateTool()\r\n\r\n    this.appData.renderer.getDiv().style.cursor = 'pointer'\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      // for(let controller of xrvp.getControllers()) {\r\n      //   controller.getTipItem().removeAllChildren();\r\n      // }\r\n      xrvp.removeListenerById('controllerAdded', this.addIconToControllerId)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Transforms the screen position in the viewport to an Xfo object.\r\n   *\r\n   * @param {Vec2} screenPos - The screenPos param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   * @return {Xfo} The return value.\r\n   */\r\n  screenPosToXfo(screenPos, viewport) {\r\n    const ray = viewport.calcRayFromScreenPos(screenPos)\r\n\r\n    // Raycast any working planes.\r\n    const planeRay = new Ray(this.constructionPlane.tr, this.constructionPlane.ori.getZaxis())\r\n    const dist = ray.intersectRayPlane(planeRay)\r\n    if (dist > 0.0) {\r\n      const xfo = this.constructionPlane.clone()\r\n      xfo.tr = ray.pointAtDist(dist)\r\n      return xfo\r\n    }\r\n\r\n    // else project based on focal dist.\r\n    const camera = viewport.getCamera()\r\n    const xfo = camera.getParameter('GlobalXfo').getValue().clone()\r\n    xfo.tr = ray.pointAtDist(camera.getFocalDistance())\r\n    return xfo\r\n  }\r\n\r\n  /**\r\n   * Starts the creation of the geometry.\r\n   *\r\n   * @param {Xfo} xfo - The xfo param.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   */\r\n  createStart(xfo, parentItem) {\r\n    this.stage = 1\r\n  }\r\n\r\n  /**\r\n   * The createPoint method.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createPoint(pt) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * The createMove method.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createMove(pt) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * The createRelease method.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createRelease(pt) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Event fired when a pointing device button is pressed over the viewport while the tool is activated.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseDown(event) {\r\n    //\r\n    if (this.stage == 0) {\r\n      if (event.button == 0) {\r\n        this.constructionPlane = new Xfo()\r\n\r\n        const xfo = this.screenPosToXfo(event.mousePos, event.viewport)\r\n        this.createStart(xfo, this.appData.scene.getRoot())\r\n      } else if (event.button == 2) {\r\n        // Cancel the tool.\r\n        if (this.removeToolOnRightClick) this.appData.toolManager.removeTool(this.index)\r\n      }\r\n      return true\r\n    } else if (event.button == 2) {\r\n      this.appData.undoRedoManager.undo(false)\r\n      this.stage = 0\r\n      return true\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device is moved while the cursor's hotspot is inside the viewport, while tool is activated.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseMove(event) {\r\n    if (this.stage > 0) {\r\n      const xfo = this.screenPosToXfo(event.mousePos, event.viewport)\r\n      this.createMove(xfo.tr)\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is released while the pointer is over the viewport, while the tool is activated.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseUp(event) {\r\n    if (this.stage > 0) {\r\n      const xfo = this.screenPosToXfo(event.mousePos, event.viewport)\r\n      this.createRelease(xfo.tr)\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user rotates the pointing device wheel, while the tool is activated.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onWheel(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Keyboard events\r\n\r\n  /**\r\n   * Event fired when the user presses a key on the keyboard, while the tool is activated.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyPressed(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user presses down a key on the keyboard, while the tool is activated.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyDown(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user releases a key on the keyboard.\r\n   *\r\n   * @param {KeyboardEvent} event - The event param.\r\n   */\r\n  onKeyUp(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Touch events\r\n\r\n  /**\r\n   * Event fired when one or more touch points are placed on the touch surface inside the viewport, when the tool is activated.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchStart(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when the one or more touch points are moved along the touch surface inside the viewport, when the tool is activated.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchMove(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when one or more touch points are removed from the touch surface inside the viewport, when the tool is activated.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchEnd(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  /**\r\n   * Event fired when one or more touch points have been disrupted in an implementation-specific manner inside the viewport, when the tool is activated.\r\n   *\r\n   * @param {TouchEvent} event - The event param.\r\n   */\r\n  onTouchCancel(event) {\r\n    // console.warn('Implement me')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed inside the viewport, when the tool is activated.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    if (!this.__activeController) {\r\n      // TODO: Snap the Xfo to any nearby construction planes.\r\n      this.__activeController = event.controller\r\n      this.constructionPlane = new Xfo()\r\n      const xfo = this.constructionPlane.clone()\r\n      xfo.tr = this.__activeController.getTipXfo().tr\r\n      this.createStart(xfo, this.appData.scene.getRoot())\r\n    }\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    if (this.__activeController && this.stage > 0) {\r\n      // TODO: Snap the Xfo to any nearby construction planes.\r\n      const xfo = this.__activeController.getTipXfo()\r\n      this.createMove(xfo.tr)\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is released inside the viewport, when the tool is activated.\r\n   *\r\n   * @param {object} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    if (this.stage > 0) {\r\n      if (this.__activeController == event.controller) {\r\n        const xfo = this.__activeController.getTipXfo()\r\n        this.createRelease(xfo.tr)\r\n        if (this.stage == 0) this.__activeController = undefined\r\n        return true\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default CreateGeomTool\r\nexport { CreateGeomTool }\r\n","import { Xfo } from '@zeainc/zea-engine'\r\nimport Change from '../../../UndoRedo/Change'\r\n\r\n/**\r\n * Class representing a create geom change.\r\n *\r\n * @extends Change\r\n */\r\nclass CreateGeomChange extends Change {\r\n  /**\r\n   * Create a create circle change.\r\n   * @param {string} name - The name value.\r\n   */\r\n  constructor(name) {\r\n    super(name)\r\n  }\r\n\r\n  /**\r\n   * The setParentAndXfo method.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   * @param {Xfo} xfo - The xfo param.\r\n   */\r\n  setParentAndXfo(parentItem, xfo) {\r\n    this.parentItem = parentItem\r\n    const name = this.parentItem.generateUniqueName(this.geomItem.getName())\r\n    this.geomItem.setName(name)\r\n    this.geomItem.getParameter('GlobalXfo').setValue(xfo)\r\n    this.childIndex = this.parentItem.addChild(this.geomItem, true)\r\n\r\n    this.geomItem.addRef(this) // keep a ref to stop it being destroyed\r\n  }\r\n\r\n  /**\r\n   * Removes recently created geometry from its parent.\r\n   */\r\n  undo() {\r\n    this.parentItem.removeChild(this.childIndex)\r\n  }\r\n\r\n  /**\r\n   * Restores recently created geometry and adds it to the specified parent tree item.\r\n   */\r\n  redo() {\r\n    this.parentItem.addChild(this.geomItem, false, false)\r\n  }\r\n\r\n  /**\r\n   * Serializes the change as a JSON object.\r\n   *\r\n   * @param {object} context - The context value\r\n   * @return {object} - The serialized change\r\n   */\r\n  toJSON(context) {\r\n    const j = super.toJSON(context)\r\n    j.parentItemPath = this.parentItem.getPath()\r\n    j.geomItemName = this.geomItem.getName()\r\n    j.geomItemXfo = this.geomItem.getParameter('LocalXfo').getValue()\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Restores geometry from using the specified JSON\r\n   *\r\n   * @param {object} j - The j param.\r\n   * @param {object} context - The appData param.\r\n   */\r\n  fromJSON(j, context) {\r\n    const sceneRoot = context.appData.scene.getRoot()\r\n    this.parentItem = sceneRoot.resolvePath(j.parentItemPath, 1)\r\n    this.geomItem.setName(this.parentItem.generateUniqueName(j.geomItemName))\r\n    const xfo = new Xfo()\r\n    xfo.fromJSON(j.geomItemXfo)\r\n    this.geomItem.getParameter('LocalXfo').setValue(xfo)\r\n    this.childIndex = this.parentItem.addChild(this.geomItem, false)\r\n  }\r\n\r\n  // changeFromJSON(j) {\r\n  //   if (this.__newValue.fromJSON)\r\n  //     this.__newValue.fromJSON(j.value);\r\n  //   else\r\n  //     this.__newValue = j.value;\r\n  // }\r\n\r\n  /**\r\n   * Removes geometry item reference from change change.\r\n   */\r\n  destroy() {\r\n    this.geomItem.removeRef(this) // remove the tmp ref.\r\n  }\r\n}\r\n\r\nexport default CreateGeomChange\r\nexport { CreateGeomChange }\r\n","import { Color, GeomItem, Material, Lines } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../../../UndoRedo/UndoRedoManager'\r\nimport CreateGeomChange from './CreateGeomChange'\r\n\r\n/**\r\n * Class representing a create line change.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the change is updated\r\n *\r\n * @extends CreateGeomChange\r\n */\r\nclass CreateLineChange extends CreateGeomChange {\r\n  /**\r\n   * Create a create line change.\r\n   *\r\n   * @param {TreeItem} parentItem - The parentItem value.\r\n   * @param {Xfo} xfo - The xfo value.\r\n   * @param {Color} color - The color value.\r\n   * @param {number} thickness - The thickness value.\r\n   */\r\n  constructor(parentItem, xfo, color, thickness) {\r\n    super('Create Line')\r\n\r\n    this.line = new Lines(0.0)\r\n    this.line.setNumVertices(2)\r\n    this.line.setNumSegments(1)\r\n    this.line.setSegment(0, 0, 1)\r\n    const material = new Material('Line', 'LinesShader')\r\n    material.getParameter('Color').setValue(new Color(0.7, 0.2, 0.2))\r\n    this.geomItem = new GeomItem('Line')\r\n    this.geomItem.setGeometry(this.line)\r\n    this.geomItem.setMaterial(material)\r\n\r\n    if (color) {\r\n      material.getParameter('Color').setValue(color)\r\n    }\r\n\r\n    if (thickness) {\r\n      this.line.lineThickness = thickness\r\n      // this.line.addVertexAttribute('lineThickness', Float32, 0.0);\r\n    }\r\n\r\n    if (parentItem && xfo) {\r\n      this.setParentAndXfo(parentItem, xfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates Line using the specified data.\r\n   *\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    if (updateData.p1) {\r\n      this.line.getVertex(1).setFromOther(updateData.p1)\r\n      this.line.geomDataChanged.emit()\r\n    }\r\n    this.emit('updated', updateData)\r\n  }\r\n\r\n  /**\r\n   * Restores line geometry using a JSON object.\r\n   *\r\n   * @param {object} j - The j param.\r\n   * @param {object} context - The context param.\r\n   */\r\n  fromJSON(j, context) {\r\n    super.fromJSON(j, context)\r\n    if (j.color) {\r\n      const color = new Color()\r\n      color.fromJSON(j.color)\r\n      material.getParameter('Color').setValue(color)\r\n    }\r\n\r\n    if (j.thickness) {\r\n      this.line.lineThickness = j.thickness\r\n      // this.line.addVertexAttribute('lineThickness', Float32, 0.0);\r\n    }\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('CreateLineChange', CreateLineChange)\r\n\r\nexport default CreateLineChange\r\nexport { CreateLineChange }\r\n","import { NumberParameter } from '@zeainc/zea-engine'\r\nimport CreateGeomTool from './CreateGeomTool'\r\nimport CreateLineChange from './Change/CreateLineChange'\r\n\r\n/**\r\n * Tool for creating a line tool.\r\n *\r\n * **Events**\r\n * * **actionFinished:** Triggered when the creation of the geometry is completed.\r\n *\r\n * @extends CreateGeomTool\r\n */\r\nclass CreateLineTool extends CreateGeomTool {\r\n  /**\r\n   * Create a create line tool.\r\n   * @param {any} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n\r\n    this.tp = this.addParameter(new NumberParameter('Line Thickness', 0.06, [0, 0.1])) // 1cm.\r\n  }\r\n\r\n  // activateTool() {\r\n  //   super.activateTool();\r\n\r\n  //   this.appData.renderer.getDiv().style.cursor = \"crosshair\";\r\n\r\n  //   this.appData.renderer.getXRViewport().then(xrvp => {\r\n  //     if(!this.vrControllerToolTip) {\r\n  //       this.vrControllerToolTip = new Sphere(this.tp.getValue(), 64);\r\n  //       this.vrControllerToolTipMat = new Material('marker', 'FlatSurfaceShader');\r\n  //       this.vrControllerToolTipMat.getParameter('BaseColor').setValue(this.cp.getValue());\r\n  //     }\r\n  //     const addIconToController = (controller) => {\r\n  //       // The tool might already be deactivated.\r\n  //       if(!this.__activated)\r\n  //         return;\r\n  //       const geomItem = new GeomItem('VRControllerTip', this.vrControllerToolTip, this.vrControllerToolTipMat);\r\n  //       controller.getTipItem().removeAllChildren();\r\n  //       controller.getTipItem().addChild(geomItem, false);\r\n  //     }\r\n  //     for(let controller of xrvp.getControllers()) {\r\n  //       addIconToController(controller)\r\n  //     }\r\n  //     this.addIconToControllerId = xrvp.on('controllerAdded', addIconToController);\r\n  //   });\r\n\r\n  // }\r\n\r\n  // deactivateTool() {\r\n  //   super.deactivateTool();\r\n\r\n  //   this.appData.renderer.getDiv().style.cursor = \"pointer\";\r\n\r\n  //   this.appData.renderer.getXRViewport().then(xrvp => {\r\n  //     // for(let controller of xrvp.getControllers()) {\r\n  //     //   controller.getTipItem().removeAllChildren();\r\n  //     // }\r\n  //     xrvp.removeListenerById('controllerAdded', this.addIconToControllerId);\r\n  //   });\r\n  // }\r\n\r\n  /**\r\n   * Starts line geometry creation.\r\n   *\r\n   * @param {Xfo} xfo - The xfo param.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   */\r\n  createStart(xfo, parentItem) {\r\n    this.change = new CreateLineChange(parentItem, xfo)\r\n    this.appData.undoRedoManager.addChange(this.change)\r\n\r\n    this.xfo = xfo.inverse()\r\n    this.stage = 1\r\n    this.length = 0.0\r\n  }\r\n\r\n  /**\r\n   * Updates line structural data.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createMove(pt) {\r\n    const offet = this.xfo.transformVec3(pt)\r\n    this.length = offet.length()\r\n    this.change.update({ p1: offet })\r\n  }\r\n\r\n  /**\r\n   * Finishes Line geometry creation.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createRelease(pt) {\r\n    if (this.length == 0) {\r\n      this.appData.undoRedoManager.undo(false)\r\n    }\r\n    this.stage = 0\r\n    this.emit('actionFinished')\r\n  }\r\n}\r\n\r\nexport default CreateLineTool\r\nexport { CreateLineTool }\r\n","import { Color, GeomItem, Material, Circle } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../../../UndoRedo/UndoRedoManager'\r\nimport CreateGeomChange from './CreateGeomChange'\r\n\r\n/**\r\n * Class representing a create circle change.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the change is updated\r\n *\r\n * @extends CreateGeomChange\r\n */\r\nclass CreateCircleChange extends CreateGeomChange {\r\n  /**\r\n   * Creates an instance of CreateCircleChange.\r\n   *\r\n   * @param {TreeItem} parentItem - The parentItem value.\r\n   * @param {Xfo} xfo - The xfo value.\r\n   */\r\n  constructor(parentItem, xfo) {\r\n    super('Create Circle')\r\n\r\n    this.circle = new Circle(0, 64)\r\n    this.circle.lineThickness = 0.05\r\n    const material = new Material('circle', 'FatLinesShader')\r\n    material.getParameter('Color').setValue(new Color(0.7, 0.2, 0.2))\r\n    this.geomItem = new GeomItem('Circle')\r\n    this.geomItem.setGeometry(this.circle)\r\n    this.geomItem.setMaterial(material)\r\n\r\n    if (parentItem && xfo) {\r\n      this.setParentAndXfo(parentItem, xfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates circle with the specified data.\r\n   *\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    this.circle.getParameter('Radius').setValue(updateData.radius)\r\n    this.emit('updated', updateData)\r\n  }\r\n\r\n  /**\r\n   * Serializes change as a JSON object.\r\n   *\r\n   * @return {object} - The return value.\r\n   */\r\n  toJSON() {\r\n    const j = super.toJSON()\r\n    j.radius = this.circle.getParameter('Radius').getValue()\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Updates circle with the specified JSON\r\n   *\r\n   * @param {object} j - The j param.\r\n   */\r\n  changeFromJSON(j) {\r\n    console.log('CreateCircleChange:', j)\r\n    if (j.radius) this.circle.getParameter('Radius').setValue(j.radius)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('CreateCircleChange', CreateCircleChange)\r\n\r\nexport default CreateCircleChange\r\nexport { CreateCircleChange }\r\n","import CreateCircleChange from './Change/CreateCircleChange'\r\nimport CreateGeomTool from './CreateGeomTool'\r\n\r\n/**\r\n * Tool for creating a circle geometry.\r\n *\r\n * **Events**\r\n * * **actionFinished:** Triggered when the creation of the geometry is completed.\r\n *\r\n * @extends CreateGeomTool\r\n */\r\nclass CreateCircleTool extends CreateGeomTool {\r\n  /**\r\n   * Create a create circle tool.\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n  }\r\n\r\n  /**\r\n   * Starts the creation of the geometry.\r\n   *\r\n   * @param {Xfo} xfo - The xfo param.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   */\r\n  createStart(xfo, parentItem) {\r\n    this.change = new CreateCircleChange(parentItem, xfo)\r\n    this.appData.undoRedoManager.addChange(this.change)\r\n\r\n    this.xfo = xfo\r\n    this.stage = 1\r\n    this.radius = 0.0\r\n  }\r\n\r\n  /**\r\n   * Updates Circle geometry radius.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createMove(pt) {\r\n    this.radius = pt.distanceTo(this.xfo.tr)\r\n    this.change.update({ radius: this.radius })\r\n  }\r\n\r\n  /**\r\n   * Finishes geometry creation.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createRelease(pt) {\r\n    if (this.radius == 0) {\r\n      this.appData.undoRedoManager.undo(false)\r\n    }\r\n    this.change = null\r\n    this.stage = 0\r\n    this.emit('actionFinished')\r\n  }\r\n}\r\n\r\nexport default CreateCircleTool\r\nexport { CreateCircleTool }\r\n","import { Color, Rect, Material, GeomItem } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../../../UndoRedo/UndoRedoManager'\r\nimport CreateGeomChange from './CreateGeomChange'\r\n\r\n/**\r\n * Class representing a create rect change.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the change is updated\r\n *\r\n * @extends CreateGeomChange\r\n */\r\nclass CreateRectChange extends CreateGeomChange {\r\n  /**\r\n   * Create a create rect change.\r\n   *\r\n   * @param {TreeItem} parentItem - The parentItem value.\r\n   * @param {Xfo} xfo - The xfo value.\r\n   */\r\n  constructor(parentItem, xfo) {\r\n    super('Create Rect')\r\n\r\n    this.rect = new Rect(0, 0)\r\n    this.rect.lineThickness = 0.05\r\n    // const material = new Material('rect', 'LinesShader');\r\n    const material = new Material('circle', 'FatLinesShader')\r\n    material.getParameter('Color').setValue(new Color(0.7, 0.2, 0.2))\r\n    this.geomItem = new GeomItem('Rect')\r\n    this.geomItem.setGeometry(this.rect)\r\n    this.geomItem.setMaterial(material)\r\n\r\n    if (parentItem && xfo) {\r\n      this.setParentAndXfo(parentItem, xfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates rectangle with the specified data.\r\n   *\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    if (updateData.baseSize) {\r\n      this.rect.setSize(updateData.baseSize[0], updateData.baseSize[1])\r\n    }\r\n    if (updateData.tr) {\r\n      const xfo = this.geomItem.getParameter('LocalXfo').getValue()\r\n      xfo.tr.fromJSON(updateData.tr)\r\n      this.geomItem.getParameter('LocalXfo').setValue(xfo)\r\n    }\r\n\r\n    this.emit('updated', updateData)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('CreateRectChange', CreateRectChange)\r\n\r\nexport default CreateRectChange\r\nexport { CreateRectChange }\r\n","import CreateGeomTool from './CreateGeomTool'\r\nimport CreateRectChange from './Change/CreateRectChange'\r\n/**\r\n * Tool for creating a rectangle geometry.\r\n *\r\n * **Events**\r\n * * **actionFinished:** Triggered when the creation of the geometry is completed.\r\n *\r\n * @extends CreateGeomTool\r\n */\r\nclass CreateRectTool extends CreateGeomTool {\r\n  /**\r\n   * Create a create rect tool.\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n  }\r\n\r\n  /**\r\n   * Starts the creation of a rectangle geometry.\r\n   *\r\n   * @param {Xfo} xfo - The xfo param.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   */\r\n  createStart(xfo, parentItem) {\r\n    this.change = new CreateRectChange(parentItem, xfo)\r\n    this.appData.undoRedoManager.addChange(this.change)\r\n\r\n    this.xfo = xfo\r\n    this.invxfo = xfo.inverse()\r\n    this.stage = 1\r\n    this._size = 0.0\r\n  }\r\n\r\n  /**\r\n   * Updated the rectangle geometry structural properties.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createMove(pt) {\r\n    if (this.stage == 1) {\r\n      const delta = this.invxfo.transformVec3(pt)\r\n\r\n      ;(this._size = Math.abs(delta.x)), Math.abs(delta.y)\r\n\r\n      // const delta = pt.subtract(this.xfo.tr)\r\n      this.change.update({\r\n        baseSize: [Math.abs(delta.x), Math.abs(delta.y)],\r\n        tr: this.xfo.tr.add(delta.scale(0.5)),\r\n      })\r\n    } else {\r\n      const vec = this.invxfo.transformVec3(pt)\r\n      this.change.update({ height: vec.y })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Finishes the creation of a rectangle geometry.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  createRelease(pt, viewport) {\r\n    if (this._size == 0) {\r\n      this.appData.undoRedoManager.undo(false)\r\n    }\r\n    this.stage = 0\r\n    this.emit('actionFinished')\r\n  }\r\n}\r\n\r\nexport default CreateRectTool\r\nexport { CreateRectTool }\r\n","import { Vec3, Color, GeomItem, Material, Lines } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../../../UndoRedo/UndoRedoManager'\r\nimport CreateGeomChange from './CreateGeomChange'\r\n\r\n/**\r\n * Class representing a create freehand line change.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the change is updated\r\n *\r\n * @extends CreateGeomChange\r\n */\r\nclass CreateFreehandLineChange extends CreateGeomChange {\r\n  /**\r\n   * Create a create freehand line change.\r\n   *\r\n   * @param {TreeItem} parentItem - The parentItem value.\r\n   * @param {Xfo} xfo - The xfo value.\r\n   * @param {Color} color - The color value.\r\n   * @param {number} thickness - The thickness value.\r\n   */\r\n  constructor(parentItem, xfo, color, thickness) {\r\n    super('Create Freehand Line')\r\n\r\n    this.used = 0\r\n    this.vertexCount = 100\r\n\r\n    this.line = new Lines()\r\n    this.line.setNumVertices(this.vertexCount)\r\n    this.line.setNumSegments(this.vertexCount - 1)\r\n    this.line.vertices.setValue(0, new Vec3())\r\n\r\n    // const material = new Material('freeHandLine', 'LinesShader');\r\n    // this.line.lineThickness = 0.5;\r\n    // const material = new Material('freeHandLine', 'LinesShader');\r\n    const material = new Material('freeHandLine', 'FatLinesShader')\r\n\r\n    this.geomItem = new GeomItem('freeHandLine')\r\n    this.geomItem.setGeometry(this.line)\r\n    this.geomItem.setMaterial(material)\r\n\r\n    if (color) {\r\n      material.getParameter('Color').setValue(color)\r\n    }\r\n\r\n    if (thickness) {\r\n      this.line.lineThickness = thickness\r\n      // this.line.addVertexAttribute('lineThickness', Float32, 0.0);\r\n    }\r\n\r\n    if (parentItem && xfo) {\r\n      this.setParentAndXfo(parentItem, xfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates free hand line using the specified data.\r\n   *\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    // console.log(\"update:\", this.used)\r\n\r\n    this.used++\r\n\r\n    let realloc = false\r\n    if (this.used >= this.line.getNumSegments()) {\r\n      this.vertexCount = this.vertexCount + 100\r\n      this.line.setNumVertices(this.vertexCount)\r\n      this.line.setNumSegments(this.vertexCount - 1)\r\n      realloc = true\r\n    }\r\n\r\n    this.line.vertices.setValue(this.used, updateData.point)\r\n    // this.line.getVertexAttributes().lineThickness.setValue(this.used, updateData.lineThickness);\r\n    this.line.setSegment(this.used - 1, this.used - 1, this.used)\r\n\r\n    if (realloc) {\r\n      this.line.geomDataTopologyChanged.emit({\r\n        indicesChanged: true,\r\n      })\r\n    } else {\r\n      this.line.geomDataChanged.emit({\r\n        indicesChanged: true,\r\n      })\r\n    }\r\n    this.emit('updated', updateData)\r\n  }\r\n\r\n  /**\r\n   * Serializes change as a JSON object.\r\n   *\r\n   * @param {object} context - The appData param.\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON(context) {\r\n    const j = super.toJSON(context)\r\n    j.lineThickness = this.line.lineThickness\r\n    j.color = this.geomItem.getMaterial().getParameter('Color').getValue()\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Restores free hand line from a JSON object.\r\n   *\r\n   * @param {object} j - The j param.\r\n   * @param {object} context - The appData param.\r\n   */\r\n  fromJSON(j, context) {\r\n    // Need to set line thickness before the geom is added to the tree.\r\n    if (j.lineThickness) {\r\n      this.line.lineThickness = j.lineThickness\r\n      // this.line.addVertexAttribute('lineThickness', Float32, 0.0);\r\n    }\r\n\r\n    const color = new Color(0.7, 0.2, 0.2)\r\n    if (j.color) {\r\n      color.fromJSON(j.color)\r\n    }\r\n    this.geomItem.getMaterial().getParameter('Color').setValue(color)\r\n\r\n    super.fromJSON(j, context)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('CreateFreehandLineChange', CreateFreehandLineChange)\r\n\r\nexport default CreateFreehandLineChange\r\nexport { CreateFreehandLineChange }\r\n","import { BooleanParameter } from '@zeainc/zea-engine'\r\nimport CreateLineTool from './CreateLineTool'\r\nimport CreateFreehandLineChange from './Change/CreateFreehandLineChange'\r\n\r\n/**\r\n * Tool for creating a free hand line.\r\n *\r\n * **Events**\r\n * * **actionFinished:** Triggered when the creation of the geometry is completed.\r\n *\r\n * @extends CreateLineTool\r\n */\r\nclass CreateFreehandLineTool extends CreateLineTool {\r\n  /**\r\n   * Create a create freehand line tool.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n\r\n    this.mp = this.addParameter(new BooleanParameter('Modulate Thickness By Stroke Speed', false))\r\n  }\r\n\r\n  /**\r\n   * Starts the creation of a free hand line.\r\n   *\r\n   * @param {Xfo} xfo - The xfo param.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   */\r\n  createStart(xfo, parentItem) {\r\n    const color = this.cp.getValue()\r\n    const lineThickness = this.tp.getValue()\r\n    this.change = new CreateFreehandLineChange(parentItem, xfo, color, lineThickness)\r\n    this.appData.undoRedoManager.addChange(this.change)\r\n\r\n    this.xfo = xfo\r\n    this.invxfo = xfo.inverse()\r\n    this.stage = 1\r\n    this.prevP = xfo.tr\r\n    this.length = 0\r\n  }\r\n\r\n  /**\r\n   * Updates the free hand line data.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createMove(pt) {\r\n    const p = this.invxfo.transformVec3(pt)\r\n    const delta = p.subtract(this.prevP).length()\r\n    if (delta > 0.001) {\r\n      this.change.update({\r\n        point: p,\r\n      })\r\n    }\r\n\r\n    this.length += delta\r\n    this.prevP = p\r\n  }\r\n\r\n  /**\r\n   * Finishes free hand line creation\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createRelease(pt) {\r\n    if (this.length == 0) {\r\n      this.appData.undoRedoManager.undo(false)\r\n    }\r\n    this.stage = 0\r\n    this.emit('actionFinished')\r\n  }\r\n}\r\n\r\nexport default CreateFreehandLineTool\r\nexport { CreateFreehandLineTool }\r\n","import { GeomItem, Material, Sphere } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../../../UndoRedo/UndoRedoManager'\r\nimport CreateGeomChange from './CreateGeomChange'\r\n\r\n/**\r\n * Class representing a create sphere change.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the change is updated\r\n *\r\n * @extends CreateGeomChange\r\n */\r\nclass CreateSphereChange extends CreateGeomChange {\r\n  /**\r\n   * Create a create sphere change.\r\n   * @param {TreeItem} parentItem - The parentItem value.\r\n   * @param {Xfo} xfo - The xfo value.\r\n   */\r\n  constructor(parentItem, xfo) {\r\n    super('Create Sphere', parentItem)\r\n\r\n    this.sphere = new Sphere(0, 64, 32)\r\n    const material = new Material('Sphere', 'SimpleSurfaceShader')\r\n    this.geomItem = new GeomItem('Sphere')\r\n    this.geomItem.setGeometry(this.sphere)\r\n    this.geomItem.setMaterial(material)\r\n\r\n    if (parentItem && xfo) {\r\n      this.setParentAndXfo(parentItem, xfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates sphere geometry using the specified data.\r\n   *\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    this.sphere.radius = updateData.radius\r\n    this.emit('updated', updateData)\r\n  }\r\n\r\n  /**\r\n   * Serializes sphere geometry as a JSON object.\r\n   *\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON() {\r\n    const j = super.toJSON()\r\n    j.radius = this.geomItem.getGeometry().radius\r\n    return j\r\n  }\r\n\r\n  /**\r\n   * Updates sphere geometry using a JSON object.\r\n   *\r\n   * @param {object} j - The j param.\r\n   */\r\n  changeFromJSON(j) {\r\n    if (j.radius) this.geomItem.getGeometry().radius = j.radius\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('CreateSphereChange', CreateSphereChange)\r\n\r\nexport default CreateSphereChange\r\nexport { CreateSphereChange }\r\n","import CreateGeomTool from './CreateGeomTool'\r\nimport CreateSphereChange from './Change/CreateSphereChange'\r\n\r\n/**\r\n * Tool for creating Sphere geometries.\r\n *\r\n * **Events**\r\n * * **actionFinished:** Triggered when the creation of the geometry is completed.\r\n *\r\n * @extends CreateGeomTool\r\n */\r\nclass CreateSphereTool extends CreateGeomTool {\r\n  /**\r\n   * Create a create sphere tool.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n  }\r\n\r\n  /**\r\n   * Starts the creation of the sphere geometry.\r\n   *\r\n   * @param {Xfo} xfo - The xfo param.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   */\r\n  createStart(xfo, parentItem) {\r\n    this.change = new CreateSphereChange(parentItem, xfo)\r\n    this.appData.undoRedoManager.addChange(this.change)\r\n\r\n    this.xfo = xfo\r\n    this.stage = 1\r\n    this.radius = 0.0\r\n  }\r\n\r\n  /**\r\n   * Updates the sphere geometry structural properties.\r\n   *\r\n   * @param {vec3} pt - The pt param.\r\n   */\r\n  createMove(pt) {\r\n    this.radius = pt.distanceTo(this.xfo.tr)\r\n    this.change.update({ radius: this.radius })\r\n  }\r\n\r\n  /**\r\n   * Finishes the creation of the sphere geometry.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createRelease(pt) {\r\n    if (this.radius == 0) {\r\n      this.appData.undoRedoManager.undo(false)\r\n    }\r\n    this.stage = 0\r\n    this.emit('actionFinished')\r\n  }\r\n}\r\n\r\nexport default CreateSphereTool\r\nexport { CreateSphereTool }\r\n","import { Cuboid, Material, GeomItem } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../../../UndoRedo/UndoRedoManager'\r\nimport CreateGeomChange from './CreateGeomChange'\r\n\r\n/**\r\n * Class representing a create cuboid change.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the change is updated\r\n *\r\n * @extends CreateGeomChange\r\n */\r\nclass CreateCuboidChange extends CreateGeomChange {\r\n  /**\r\n   * Create a create cuboid change.\r\n   *\r\n   * @param {TreeItem} parentItem - The parentItem value.\r\n   * @param {Xfo} xfo - The xfo value.\r\n   */\r\n  constructor(parentItem, xfo) {\r\n    super('Create Cuboid')\r\n\r\n    this.cuboid = new Cuboid(0, 0, 0, true)\r\n    const material = new Material('Cuboid', 'SimpleSurfaceShader')\r\n    this.geomItem = new GeomItem('Cuboid')\r\n    this.geomItem.setGeometry(this.cuboid)\r\n    this.geomItem.setMaterial(material)\r\n\r\n    if (parentItem && xfo) {\r\n      this.setParentAndXfo(parentItem, xfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates cuboid using the specified data.\r\n   *\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    if (updateData.baseSize) {\r\n      this.cuboid.setBaseSize(updateData.baseSize[0], updateData.baseSize[1])\r\n    }\r\n    if (updateData.tr) {\r\n      const xfo = this.geomItem.getParameter('LocalXfo').getValue()\r\n      xfo.tr.fromJSON(updateData.tr)\r\n      this.geomItem.getParameter('LocalXfo').setValue(xfo)\r\n    }\r\n    if (updateData.height) {\r\n      this.cuboid.z = updateData.height\r\n    }\r\n    this.emit('updated', updateData)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('CreateCuboidChange', CreateCuboidChange)\r\n\r\nexport default CreateCuboidChange\r\nexport { CreateCuboidChange }\r\n","import { Quat, Vec3 } from '@zeainc/zea-engine'\r\nimport CreateGeomTool from './CreateGeomTool'\r\nimport CreateCuboidChange from './Change/CreateCuboidChange'\r\n\r\n/**\r\n * Tool for creating Cuboid geometry.\r\n *\r\n * **Events**\r\n * * **actionFinished:** Triggered when the creation of the geometry is completed.\r\n *\r\n * @extends CreateGeomTool\r\n */\r\nclass CreateCuboidTool extends CreateGeomTool {\r\n  /**\r\n   * Create a create cuboid tool.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n  }\r\n\r\n  /**\r\n   * Starts the creation of the cuboid.\r\n   *\r\n   * @param {Xfo} xfo - The xfo param.\r\n   * @param {TreeItem} parentItem - The parentItem param.\r\n   */\r\n  createStart(xfo, parentItem) {\r\n    this.change = new CreateCuboidChange(parentItem, xfo)\r\n    this.appData.undoRedoManager.addChange(this.change)\r\n\r\n    this.xfo = xfo\r\n    this.invxfo = xfo.inverse()\r\n    this.stage = 1\r\n    this._height = 0.0\r\n  }\r\n\r\n  /**\r\n   * Updates cuboid structural properties.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   */\r\n  createMove(pt) {\r\n    if (this.stage == 1) {\r\n      const delta = this.invxfo.transformVec3(pt)\r\n\r\n      // const delta = pt.subtract(this.xfo.tr)\r\n      this.change.update({\r\n        baseSize: [Math.abs(delta.x), Math.abs(delta.y)],\r\n        tr: this.xfo.tr.add(delta.scale(0.5)),\r\n      })\r\n    } else {\r\n      const vec = this.invxfo.transformVec3(pt)\r\n      this.change.update({ height: vec.y })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Finishes the creation of the cuboid.\r\n   *\r\n   * @param {Vec3} pt - The pt param.\r\n   * @param {GLViewport} viewport - The viewport param.\r\n   */\r\n  createRelease(pt, viewport) {\r\n    if (this.stage == 1) {\r\n      this.stage = 2\r\n      this.pt1 = pt\r\n\r\n      const quat = new Quat()\r\n      quat.setFromAxisAndAngle(new Vec3(1, 0, 0), Math.PI * 0.5)\r\n      this.constructionPlane.ori = this.constructionPlane.ori.multiply(quat)\r\n      this.constructionPlane.tr = pt\r\n      this.invxfo = this.constructionPlane.inverse()\r\n    } else if (this.stage == 2) {\r\n      this.stage = 0\r\n      this.emit('actionFinished')\r\n    }\r\n  }\r\n}\r\n\r\nexport { CreateCuboidTool }\r\n","import { GeomItem, Material, Cone } from '@zeainc/zea-engine'\r\nimport UndoRedoManager from '../../../UndoRedo/UndoRedoManager'\r\nimport CreateGeomChange from './CreateGeomChange'\r\n\r\n/**\r\n * Class representing a create cone change.\r\n *\r\n * **Events**\r\n * * **updated:** Triggered when the change is updated\r\n *\r\n * @extends CreateGeomChange\r\n */\r\nclass CreateConeChange extends CreateGeomChange {\r\n  /**\r\n   * Create a create cone change.\r\n   *\r\n   * @param {TreeItem} parentItem - The parentItem value.\r\n   * @param {Xfo} xfo - The xfo value.\r\n   */\r\n  constructor(parentItem, xfo) {\r\n    super('Create Cone')\r\n\r\n    const cone = new Cone(0.0, 0.0)\r\n    const material = new Material('Sphere')\r\n    this.geomItem = new GeomItem('Sphere')\r\n    this.geomItem.setGeometry(cone)\r\n    this.geomItem.setMaterial(material)\r\n\r\n    if (parentItem && xfo) {\r\n      this.setParentAndXfo(parentItem, xfo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Updates cone with the specified data.\r\n   *\r\n   * @param {object} updateData - The updateData param.\r\n   */\r\n  update(updateData) {\r\n    if (updateData.radius) this.geomItem.getGeometry().setRadius(updateData.radius)\r\n    if (updateData.height) this.geomItem.getGeometry().setHeight(updateData.height)\r\n    this.emit('updated', updateData)\r\n  }\r\n}\r\n\r\nUndoRedoManager.registerChange('CreateConeChange', CreateConeChange)\r\n\r\nexport default CreateConeChange\r\nexport { CreateConeChange }\r\n","import { Color, GeomItem, Material, Sphere } from '@zeainc/zea-engine'\r\nimport BaseTool from './BaseTool'\r\nimport Handle from '../Handles/Handle'\r\n\r\n/**\r\n * Class representing a Handle tool.\r\n *\r\n * @extends BaseTool\r\n */\r\nclass HandleTool extends BaseTool {\r\n  /**\r\n   * Creates an instance of HandleTool.\r\n   *\r\n   * @param {object} appData - The appData value.\r\n   */\r\n  constructor(appData) {\r\n    super(appData)\r\n\r\n    this.activeHandle = undefined\r\n    this.capturedItems = []\r\n    this.mouseOverItems = []\r\n  }\r\n\r\n  /**\r\n   * Activates handle tool, which adds icons to VR Controllers.\r\n   */\r\n  activateTool() {\r\n    super.activateTool()\r\n    console.log('activateTool.HandleTool')\r\n\r\n    // this.appData.renderer.getDiv().style.cursor = 'crosshair'\r\n\r\n    const addIconToController = (controller) => {\r\n      // The tool might already be deactivated.\r\n      if (!this.__activated) return\r\n      const geon = new Sphere(0.02 * 0.75)\r\n      const mat = new Material('Cross', 'FlatSurfaceShader')\r\n      mat.getParameter('BaseColor').setValue(new Color('#03E3AC'))\r\n      mat.visibleInGeomDataBuffer = false\r\n      const geomItem = new GeomItem('HandleToolTip', geon, mat)\r\n      controller.getTipItem().removeAllChildren()\r\n      controller.getTipItem().addChild(geomItem, false)\r\n    }\r\n    const addIconToControllers = (xrvp) => {\r\n      for (const controller of xrvp.getControllers()) {\r\n        addIconToController(controller)\r\n      }\r\n      this.addIconToControllerId = xrvp.on('controllerAdded', addIconToController)\r\n    }\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      addIconToControllers(xrvp)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Deactivates handle tool, which removes icons from controllers.\r\n   */\r\n  deactivateTool() {\r\n    super.deactivateTool()\r\n\r\n    this.appData.renderer.getXRViewport().then((xrvp) => {\r\n      // for(let controller of xrvp.getControllers()) {\r\n      //   controller.getTipItem().removeAllChildren();\r\n      // }\r\n      xrvp.removeListenerById('controllerAdded', this.addIconToControllerId)\r\n    })\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Event fired when a pointing device button is pressed while the pointer is over the tool.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} The return value.\r\n   */\r\n  onMouseDown(event) {\r\n    //\r\n    if (!this.activeHandle) {\r\n      // event.viewport.renderGeomDataFbo();\r\n      const intersectionData = event.viewport.getGeomDataAtPos(event.mousePos)\r\n      if (intersectionData == undefined) return\r\n      if (intersectionData.geomItem.getOwner() instanceof Handle) {\r\n        this.activeHandle = intersectionData.geomItem.getOwner()\r\n        this.activeHandle.handleMouseDown(Object.assign(event, { intersectionData }))\r\n        return true\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device is moved while the cursor's hotspot is inside it.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onMouseMove(event) {\r\n    if (this.activeHandle) {\r\n      this.activeHandle.handleMouseMove(event)\r\n      return true\r\n    } else {\r\n      // If the buttons are pressed, we know we are not searching\r\n      // for a handle to drag. (Probably anothet tool in the stack is doing something)\r\n      if (event.button == 0 && event.buttons == 1) return false\r\n\r\n      const intersectionData = event.viewport.getGeomDataAtPos(event.mousePos)\r\n      if (intersectionData != undefined && intersectionData.geomItem.getOwner() instanceof Handle) {\r\n        const handle = intersectionData.geomItem.getOwner()\r\n        if (this.__highlightedHandle) this.__highlightedHandle.unhighlight()\r\n\r\n        this.__highlightedHandle = handle\r\n        this.__highlightedHandle.highlight()\r\n        return true\r\n      } else if (this.__highlightedHandle) {\r\n        this.__highlightedHandle.unhighlight()\r\n        this.__highlightedHandle = undefined\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is released while the pointer is over the tool.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  onMouseUp(event) {\r\n    if (this.activeHandle) {\r\n      this.activeHandle.handleMouseUp(event)\r\n      this.activeHandle = undefined\r\n      return true\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when the user rotates the pointing device wheel.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onWheel(event) {\r\n    if (this.activeHandle) {\r\n      this.activeHandle.onWheel(event)\r\n    }\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // VRController events\r\n\r\n  /**\r\n   * The __prepareVREvent method.\r\n   * @param {any} event - The event that occurs.\r\n   * @private\r\n   */\r\n  __prepareVREvent(event) {\r\n    const id = event.controller.getId()\r\n    event.setCapture = (item) => {\r\n      this.capturedItems[id] = item\r\n    }\r\n    event.getCapture = () => {\r\n      return this.capturedItems[id]\r\n    }\r\n    event.releaseCapture = () => {\r\n      this.capturedItems[id] = null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is pressed over a tool.\r\n   *\r\n   * @param {any} event - The event param.\r\n   */\r\n  onVRControllerButtonDown(event) {\r\n    const id = event.controller.getId()\r\n    if (this.capturedItems[id]) {\r\n      this.__prepareVREvent(event)\r\n      this.capturedItems[id].onMouseDown(event)\r\n    } else {\r\n      const intersectionData = event.controller.getGeomItemAtTip()\r\n      if (intersectionData != undefined) {\r\n        event.intersectionData = intersectionData\r\n        event.geomItem = intersectionData.geomItem\r\n        this.__prepareVREvent(event)\r\n        intersectionData.geomItem.onMouseDown(event)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The onVRPoseChanged method.\r\n   * @param {any} event - The event param.\r\n   */\r\n  onVRPoseChanged(event) {\r\n    for (const controller of event.controllers) {\r\n      const id = controller.getId()\r\n      if (this.capturedItems[id]) {\r\n        this.capturedItems[id].onMouseMove(event)\r\n      } else {\r\n        const intersectionData = controller.getGeomItemAtTip()\r\n        if (intersectionData != undefined) {\r\n          event.intersectionData = intersectionData\r\n          event.geomItem = intersectionData.geomItem\r\n          if (intersectionData.geomItem != this.mouseOverItems[id]) {\r\n            if (this.mouseOverItems[id]) this.mouseOverItems[id].onMouseLeave(event)\r\n            this.mouseOverItems[id] = intersectionData.geomItem\r\n            this.mouseOverItems[id].onMouseEnter(event)\r\n          }\r\n          intersectionData.geomItem.onMouseMove(event)\r\n        } else if (this.mouseOverItems[id]) {\r\n          this.mouseOverItems[id].onMouseLeave(event)\r\n          this.mouseOverItems[id] = null\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Event fired when a VR controller button is released over a tool.\r\n   *\r\n   * @param {any} event - The event param.\r\n   */\r\n  onVRControllerButtonUp(event) {\r\n    this.__prepareVREvent(event)\r\n    const id = event.controller.getId()\r\n    if (this.capturedItems[id]) {\r\n      this.capturedItems[id].onMouseUp(event)\r\n    } else {\r\n      const controller = event.controller\r\n      const intersectionData = controller.getGeomItemAtTip()\r\n      if (intersectionData != undefined) {\r\n        event.intersectionData = intersectionData\r\n        event.geomItem = intersectionData.geomItem\r\n        intersectionData.geomItem.onMouseUp(event)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default HandleTool\r\nexport { HandleTool }\r\n","import {\r\n  Color,\r\n  Xfo,\r\n  NumberParameter,\r\n  ColorParameter,\r\n  GeomItem,\r\n  Material,\r\n  Cylinder,\r\n  Sphere,\r\n  Registry,\r\n  MathFunctions,\r\n} from '@zeainc/zea-engine'\r\nimport BaseLinearMovementHandle from './BaseLinearMovementHandle'\r\nimport ParameterValueChange from '../UndoRedo/Changes/ParameterValueChange'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\n\r\n/**\r\n * Class representing a slider scene widget.\r\n *\r\n * @extends BaseLinearMovementHandle\r\n */\r\nclass SliderHandle extends BaseLinearMovementHandle {\r\n  /**\r\n   * Create a slider scene widget.\r\n   *\r\n   * @param {string} name - The name value.\r\n   * @param {number} length - The length value.\r\n   * @param {number} radius - The radius value.\r\n   * @param {Color} color - The color value.\r\n   */\r\n  constructor(name, length = 0.5, radius = 0.02, color = new Color('#F9CE03')) {\r\n    super(name)\r\n\r\n    this.lengthParam = this.addParameter(new NumberParameter('Length', length))\r\n    this.handleRadiusParam = this.addParameter(new NumberParameter('Handle Radius', radius))\r\n    this.barRadiusParam = this.addParameter(new NumberParameter('Bar Radius', radius * 0.25))\r\n    this.colorParam = this.addParameter(new ColorParameter('Color', color))\r\n    this.hilghlightColorParam = this.addParameter(new ColorParameter('Highlight Color', new Color(1, 1, 1)))\r\n\r\n    this.handleMat = new Material('handle', 'FlatSurfaceShader')\r\n    this.handleMat.getParameter('BaseColor').setValue(this.colorParam.getValue())\r\n    // const baseBarMat = new Material('baseBar', 'FlatSurfaceShader');\r\n    // baseBarMat.replaceParameter(this.colorParam);\r\n    const topBarMat = new Material('topBar', 'FlatSurfaceShader')\r\n    topBarMat.getParameter('BaseColor').setValue(new Color(0.5, 0.5, 0.5))\r\n\r\n    const barGeom = new Cylinder(radius * 0.25, 1, 64, 2, true, true)\r\n    const handleGeom = new Sphere(radius, 64)\r\n\r\n    this.handle = new GeomItem('handle', handleGeom, this.handleMat)\r\n    this.baseBar = new GeomItem('baseBar', barGeom, this.handleMat)\r\n    this.topBar = new GeomItem('topBar', barGeom, topBarMat)\r\n    this.handleXfo = new Xfo()\r\n    this.baseBarXfo = new Xfo()\r\n    this.topBarXfo = new Xfo()\r\n\r\n    this.barRadiusParam.on('valueChanged', () => {\r\n      barGeom.getParameter('Radius').setValue(this.barRadiusParam.getValue())\r\n    })\r\n    this.handleRadiusParam.on('valueChanged', () => {\r\n      handleGeom.getParameter('Radius').setValue(this.handleRadiusParam.getValue())\r\n    })\r\n    this.lengthParam.on('valueChanged', () => {\r\n      this.__updateSlider(this.value)\r\n    })\r\n    this.colorParam.on('valueChanged', () => {\r\n      this.handleMat.getParameter('BaseColor').setValue(this.colorParam.getValue())\r\n    })\r\n\r\n    this.addChild(this.handle)\r\n    this.addChild(this.baseBar)\r\n    this.addChild(this.topBar)\r\n\r\n    this.__updateSlider(0)\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    this.handleMat.getParameter('BaseColor').setValue(this.hilghlightColorParam.getValue())\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    this.handleMat.getParameter('BaseColor').setValue(this.colorParam.getValue())\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter.\r\n   *\r\n   * @param {Parameter} param - The video param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param) {\r\n    this.param = param\r\n    const __updateSlider = () => {\r\n      this.__updateSlider(param.getValue())\r\n    }\r\n    __updateSlider()\r\n    param.on('valueChanged', __updateSlider)\r\n  }\r\n\r\n  /**\r\n   *\r\n   *\r\n   * @param {*} value -\r\n   * @private\r\n   */\r\n  __updateSlider(value) {\r\n    this.value = value\r\n    const range = this.param && this.param.getRange() ? this.param.getRange() : [0, 1]\r\n    const v = MathFunctions.remap(value, range[0], range[1], 0, 1)\r\n    const length = this.lengthParam.getValue()\r\n    this.baseBarXfo.sc.z = v * length\r\n    this.handleXfo.tr.z = v * length\r\n    this.topBarXfo.tr.z = v * length\r\n    this.topBarXfo.sc.z = (1 - v) * length\r\n    this.handle.getParameter('LocalXfo').setValue(this.handleXfo)\r\n    this.baseBar.getParameter('LocalXfo').setValue(this.baseBarXfo)\r\n    this.topBar.getParameter('LocalXfo').setValue(this.topBarXfo)\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Interaction events\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    // Hilight the material.\r\n    this.handleXfo.sc.x = this.handleXfo.sc.y = this.handleXfo.sc.z = 1.2\r\n    this.handle.getParameter('LocalXfo').setValue(this.handleXfo)\r\n    if (!this.param) {\r\n      return\r\n    }\r\n\r\n    this.change = new ParameterValueChange(this.param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    const length = this.lengthParam.getValue()\r\n    const range = this.param && this.param.getRange() ? this.param.getRange() : [0, 1]\r\n    const value = MathFunctions.clamp(\r\n      MathFunctions.remap(event.value, 0, length, range[0], range[1]),\r\n      range[0],\r\n      range[1]\r\n    )\r\n    if (!this.param) {\r\n      this.__updateSlider(value)\r\n      this.value = value\r\n      return\r\n    }\r\n\r\n    this.change.update({\r\n      value,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n    // unhilight the material.\r\n    this.handleXfo.sc.x = this.handleXfo.sc.y = this.handleXfo.sc.z = 1.0\r\n    this.handle.getParameter('LocalXfo').setValue(this.handleXfo)\r\n  }\r\n\r\n  /**\r\n   * Serializes handle item as a JSON object.\r\n   *\r\n   * @param {object} context - The context param.\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON(context) {\r\n    const json = super.toJSON(context)\r\n    if (this.param) json.targetParam = this.param.getPath()\r\n    return json\r\n  }\r\n\r\n  /**\r\n   * Restores handle item from a JSON object.\r\n   *\r\n   * @param {object} json - The json param.\r\n   * @param {object} context - The context param.\r\n   */\r\n  fromJSON(json, context) {\r\n    super.fromJSON(json, context)\r\n\r\n    if (json.targetParam) {\r\n      context.resolvePath(json.targetParam).then((param) => {\r\n        this.setTargetParam(param)\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nRegistry.register('SliderHandle', SliderHandle)\r\n\r\nexport default SliderHandle\r\nexport { SliderHandle }\r\n","import {\r\n  MathFunctions,\r\n  Color,\r\n  Vec3,\r\n  Xfo,\r\n  NumberParameter,\r\n  ColorParameter,\r\n  XfoParameter,\r\n  GeomItem,\r\n  Material,\r\n  Circle,\r\n  Sphere,\r\n  Registry,\r\n} from '@zeainc/zea-engine'\r\nimport { BaseAxialRotationHandle } from './BaseAxialRotationHandle'\r\nimport ParameterValueChange from '../UndoRedo/Changes/ParameterValueChange'\r\nimport './Shaders/HandleShader'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager'\r\n\r\n/**\r\n * Class representing a slider scene widget.\r\n *\r\n * @extends BaseAxialRotationHandle\r\n */\r\nclass ArcSlider extends BaseAxialRotationHandle {\r\n  /**\r\n   * Creates an instance of ArcSlider.\r\n   *\r\n   * @param {string} name - The name value\r\n   * @param {number} [arcRadius=1] - The arcRadius value\r\n   * @param {number} [arcAngle=1] - The arcAngle value\r\n   * @param {number} [handleRadius=0.02] - The handleRadius value\r\n   * @param {Color} [color=new Color(1, 1, 0)] - the color value\r\n   */\r\n  constructor(name, arcRadius = 1, arcAngle = 1, handleRadius = 0.02, color = new Color(1, 1, 0)) {\r\n    super(name)\r\n    this.arcRadiusParam = this.addParameter(new NumberParameter('Arc Radius', arcRadius))\r\n    this.arcAngleParam = this.addParameter(new NumberParameter('Arc Angle', arcAngle))\r\n    this.handleRadiusParam = this.addParameter(new NumberParameter('Handle Radius', handleRadius))\r\n    // this.barRadiusParam = this.addParameter(\r\n    //   new NumberParameter('Bar Radius', radius * 0.25)\r\n    // );\r\n    this.colorParam = this.addParameter(new ColorParameter('Color', color))\r\n    this.hilghlightColorParam = this.addParameter(new ColorParameter('Highlight Color', new Color(1, 1, 1)))\r\n\r\n    this.handleMat = new Material('handleMat', 'HandleShader')\r\n    const arcGeom = new Circle(arcRadius, 64, arcAngle)\r\n    const handleGeom = new Sphere(handleRadius, 64)\r\n\r\n    this.handle = new GeomItem('handle', handleGeom, this.handleMat)\r\n    this.arc = new GeomItem('arc', arcGeom, this.handleMat)\r\n    this.handleXfo = new Xfo()\r\n    this.handleGeomOffsetXfo = new Xfo()\r\n    this.handleGeomOffsetXfo.tr.x = arcRadius\r\n    this.handle.getParameter('GeomOffsetXfo').setValue(this.handleGeomOffsetXfo)\r\n\r\n    // this.barRadiusParam.on('valueChanged', () => {\r\n    //   arcGeom.getParameter('Radius').setValue(this.barRadiusParam.getValue());\r\n    // });\r\n\r\n    this.range = [0, arcAngle]\r\n    this.arcAngleParam.on('valueChanged', () => {\r\n      const arcAngle = this.arcAngleParam.getValue()\r\n      arcGeom.getParameter('Angle').setValue(arcAngle)\r\n      this.range = [0, arcAngle]\r\n    })\r\n    this.arcRadiusParam.on('valueChanged', () => {\r\n      const arcRadius = this.arcRadiusParam.getValue()\r\n      arcGeom.getParameter('Radius').setValue(arcRadius)\r\n      this.handleGeomOffsetXfo.tr.x = arcRadius\r\n      this.handle.getParameter('GeomOffsetXfo').setValue(this.handleGeomOffsetXfo)\r\n    })\r\n    this.handleRadiusParam.on('valueChanged', () => {\r\n      handleGeom.getParameter('Radius').setValue(this.handleRadiusParam.getValue())\r\n    })\r\n    this.colorParam.on('valueChanged', () => {\r\n      this.handleMat.getParameter('BaseColor').setValue(this.colorParam.getValue())\r\n    })\r\n\r\n    this.addChild(this.handle)\r\n    this.addChild(this.arc)\r\n\r\n    // this.__updateSlider(0);\r\n    this.setTargetParam(this.handle.getParameter('GlobalXfo'), false)\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Event fired when a pointing device is initially moved within the space of the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseEnter(event) {\r\n    if (event.intersectionData && event.intersectionData.geomItem == this.handle) this.highlight()\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device moves outside of the space of the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseLeave(event) {\r\n    this.unhighlight()\r\n  }\r\n\r\n  /**\r\n   * Event fired when a pointing device button is pressed while the pointer is over the handle element.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   */\r\n  onMouseDown(event) {\r\n    // We do not want to handle events\r\n    // that have propagated from children of\r\n    // the slider.\r\n    if (event.intersectionData && event.intersectionData.geomItem == this.handle) super.onMouseDown(event)\r\n  }\r\n\r\n  /**\r\n   * Applies a special shinning shader to the handle to illustrate interaction with it.\r\n   */\r\n  highlight() {\r\n    this.handleMat.getParameter('BaseColor').setValue(this.hilghlightColorParam.getValue())\r\n  }\r\n\r\n  /**\r\n   * Removes the shining shader from the handle.\r\n   */\r\n  unhighlight() {\r\n    this.handleMat.getParameter('BaseColor').setValue(this.colorParam.getValue())\r\n  }\r\n\r\n  // /**\r\n  //  * The setTargetParam method.\r\n  //  * @param {any} param - The param param.\r\n  //  */\r\n  // setTargetParam(param) {\r\n  //   this.param = param;\r\n  //   const __updateSlider = () => {\r\n  //     this.__updateSlider(param.getValue());\r\n  //   };\r\n  //   __updateSlider();\r\n  //   param.on('valueChanged', __updateSlider);\r\n  // }\r\n\r\n  /**\r\n   * Sets global xfo target parameter\r\n   *\r\n   * @param {Parameter} param - The param param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param, track = true) {\r\n    this.param = param\r\n    if (track) {\r\n      if (this.param instanceof XfoParameter) {\r\n        const __updateGizmo = () => {\r\n          this.getParameter('GlobalXfo').setValue(param.getValue())\r\n        }\r\n        __updateGizmo()\r\n        param.on('valueChanged', __updateGizmo)\r\n      } else if (this.param instanceof NumberParameter) {\r\n        const __updateGizmo = () => {\r\n          this.handleXfo.ori.setFromAxisAndAngle(new Vec3(0, 0, 1), param.getValue())\r\n          this.handle.getParameter('GlobalXfo').setValue(this.handleXfo)\r\n        }\r\n        __updateGizmo()\r\n        param.on('valueChanged', __updateGizmo)\r\n      }\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line require-jsdoc\r\n  // __updateSlider(value) {\r\n  //   this.value = value\r\n  //   const range =\r\n  //     this.param && this.param.getRange() ? this.param.getRange() : [0, 1];\r\n  //   const v = Math.remap(value, range[0], range[1], 0, 1);\r\n  //   const length = this.arcAngleParam.getValue();\r\n  //   this.handleXfo.ori.setFromAxisAndAngle(this.axis, ) = v * length;\r\n  //   this.handle.getParameter('LocalXfo').setValue(this.handleXfo;\r\n  // }\r\n\r\n  // ///////////////////////////////////\r\n  // Interaction events\r\n\r\n  /**\r\n   * Returns handle's global Xfo\r\n   *\r\n   * @return {Xfo} - The Xfo value\r\n   */\r\n  getBaseXfo() {\r\n    return this.handle.getParameter('GlobalXfo').getValue()\r\n  }\r\n\r\n  /**\r\n   * Handles the initially drag interaction of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.baseXfo = this.getParameter('GlobalXfo').getValue().clone()\r\n    this.baseXfo.sc.set(1, 1, 1)\r\n    this.deltaXfo = new Xfo()\r\n    // this.offsetXfo = this.baseXfo.inverse().multiply(this.param.getValue());\r\n\r\n    this.vec0 = this.getParameter('GlobalXfo').getValue().ori.getXaxis()\r\n    // this.grabCircleRadius = this.arcRadiusParam.getValue();\r\n    this.vec0.normalizeInPlace()\r\n\r\n    this.change = new ParameterValueChange(this.param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n\r\n    // Hilight the material.\r\n    this.handleGeomOffsetXfo.sc.x = this.handleGeomOffsetXfo.sc.y = this.handleGeomOffsetXfo.sc.z = 1.2\r\n    this.handle.getParameter('GeomOffsetXfo').setValue(this.handleGeomOffsetXfo)\r\n\r\n    this.emit('dragStart')\r\n  }\r\n\r\n  /**\r\n   * Handles drag interaction of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    const vec1 = event.holdPos.subtract(this.baseXfo.tr)\r\n    vec1.normalizeInPlace()\r\n\r\n    let angle = this.vec0.angleTo(vec1)\r\n    if (this.vec0.cross(vec1).dot(this.baseXfo.ori.getZaxis()) < 0) angle = -angle\r\n\r\n    if (this.range) {\r\n      angle = MathFunctions.clamp(angle, this.range[0], this.range[1])\r\n    }\r\n\r\n    if (event.shiftKey) {\r\n      // modulate the angle to X degree increments.\r\n      const increment = Math.degToRad(22.5)\r\n      angle = Math.floor(angle / increment) * increment\r\n    }\r\n\r\n    this.deltaXfo.ori.setFromAxisAndAngle(new Vec3(0, 0, 1), angle)\r\n\r\n    const newXfo = this.baseXfo.multiply(this.deltaXfo)\r\n    const value = newXfo // .multiply(this.offsetXfo);\r\n\r\n    if (this.change) {\r\n      if (this.param instanceof XfoParameter) {\r\n        this.change.update({\r\n          value,\r\n        })\r\n      } else if (this.param instanceof NumberParameter) {\r\n        this.change.update({\r\n          value: angle,\r\n        })\r\n      }\r\n    } else {\r\n      if (this.param instanceof XfoParameter) {\r\n        this.param.setValue(value)\r\n      } else if (this.param instanceof NumberParameter) {\r\n        this.param.setValue(angle)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging interaction with the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n    this.handleGeomOffsetXfo.sc.x = this.handleGeomOffsetXfo.sc.y = this.handleGeomOffsetXfo.sc.z = 1.0\r\n    this.handle.getParameter('GeomOffsetXfo').setValue(this.handleGeomOffsetXfo)\r\n\r\n    this.emit('dragEnd')\r\n  }\r\n\r\n  /**\r\n   * Serializes handle item as a JSON object.\r\n   *\r\n   * @param {object} context - The context param.\r\n   * @return {object} The return value.\r\n   */\r\n  toJSON(context) {\r\n    const json = super.toJSON(context)\r\n    if (this.param) json.targetParam = this.param.getPath()\r\n    return json\r\n  }\r\n\r\n  /**\r\n   * Restores handle item from a JSON object.\r\n   *\r\n   * @param {object} json - The json param.\r\n   * @param {object} context - The context param.\r\n   */\r\n  fromJSON(json, context) {\r\n    super.fromJSON(json, context)\r\n\r\n    if (json.targetParam) {\r\n      context.resolvePath(json.targetParam).then((param) => {\r\n        this.setTargetParam(param)\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nRegistry.register('ArcSlider', ArcSlider)\r\n\r\nexport default ArcSlider\r\nexport { ArcSlider }\r\n","import { Ray } from '@zeainc/zea-engine'\r\nimport Handle from './Handle.js'\r\nimport ParameterValueChange from '../UndoRedo/Changes/ParameterValueChange.js'\r\nimport UndoRedoManager from '../UndoRedo/UndoRedoManager.js'\r\n\r\n/**\r\n * Class representing a planar movement scene widget.\r\n *\r\n * @extends Handle\r\n */\r\nclass ScreenSpaceMovementHandle extends Handle {\r\n  /**\r\n   * Create a planar movement scene widget.\r\n   *\r\n   * @param {string} name - The name value\r\n   */\r\n  constructor(name) {\r\n    super(name)\r\n  }\r\n\r\n  /**\r\n   * Sets global xfo target parameter.\r\n   *\r\n   * @param {Parameter} param - The video param.\r\n   * @param {boolean} track - The track param.\r\n   */\r\n  setTargetParam(param, track = true) {\r\n    this.param = param\r\n    if (track) {\r\n      const __updateGizmo = () => {\r\n        this.getParameter('GlobalXfo').setValue(param.getValue())\r\n      }\r\n      __updateGizmo()\r\n      param.on('valueChanged', __updateGizmo)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns target's global xfo parameter.\r\n   *\r\n   * @return {Parameter} - returns handle's target global Xfo.\r\n   */\r\n  getTargetParam() {\r\n    return this.param ? this.param : this.getParameter('GlobalXfo')\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Mouse events\r\n\r\n  /**\r\n   * Handles mouse down interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseDown(event) {\r\n    this.gizmoRay = new Ray()\r\n    // this.gizmoRay.dir = event.viewport.getCamera().getParameter('GlobalXfo').getValue().ori.getZaxis().negate()\r\n    this.gizmoRay.dir = event.mouseRay.dir.negate()\r\n    const param = this.getTargetParam()\r\n    const baseXfo = param.getValue()\r\n    this.gizmoRay.pos = baseXfo.tr\r\n    const dist = event.mouseRay.intersectRayPlane(this.gizmoRay)\r\n    event.grabPos = event.mouseRay.pointAtDist(dist)\r\n    this.onDragStart(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles mouse move interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param\r\n   * @return {boolean} - The return value\r\n   */\r\n  handleMouseMove(event) {\r\n    const dist = event.mouseRay.intersectRayPlane(this.gizmoRay)\r\n    event.holdPos = event.mouseRay.pointAtDist(dist)\r\n    this.onDrag(event)\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * Handles mouse up interaction with the handle.\r\n   *\r\n   * @param {MouseEvent} event - The event param.\r\n   * @return {boolean} - The return value.\r\n   */\r\n  handleMouseUp(event) {\r\n    const dist = event.mouseRay.intersectRayPlane(this.gizmoRay)\r\n    event.releasePos = event.mouseRay.pointAtDist(dist)\r\n    this.onDragEnd(event)\r\n    return true\r\n  }\r\n\r\n  // ///////////////////////////////////\r\n  // Interaction events\r\n\r\n  /**\r\n   * Handles the initially drag of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragStart(event) {\r\n    this.grabPos = event.grabPos\r\n    const param = this.getTargetParam()\r\n    this.baseXfo = param.getValue()\r\n\r\n    this.change = new ParameterValueChange(param)\r\n    UndoRedoManager.getInstance().addChange(this.change)\r\n  }\r\n\r\n  /**\r\n   * Handles drag action of the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDrag(event) {\r\n    const dragVec = event.holdPos.subtract(this.grabPos)\r\n\r\n    const newXfo = this.baseXfo.clone()\r\n    newXfo.tr.addInPlace(dragVec)\r\n\r\n    this.change.update({\r\n      value: newXfo,\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Handles the end of dragging the handle.\r\n   *\r\n   * @param {MouseEvent|TouchEvent|object} event - The event param.\r\n   */\r\n  onDragEnd(event) {\r\n    this.change = null\r\n  }\r\n}\r\n\r\nexport default ScreenSpaceMovementHandle\r\nexport { ScreenSpaceMovementHandle }\r\n"],"names":["ParameterValueChange"],"mappings":"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;AACA,MAAM,IAAI,CAAC,SAAS,GAAE;AACtB,MAAM,IAAI,CAAC,gBAAgB,GAAG,UAAS;AACvC,MAAM,OAAO,IAAI;AACjB,KAAK;AACL,GAAG;AACH;;AClHA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,MAAM,SAAS,YAAY,CAAC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,IAAI,EAAE;AACpB,IAAI,KAAK,GAAE;AACX,IAAI,IAAI,CAAC,IAAI,GAAG,KAAI;AACpB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,GAAG;AACT,IAAI,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC;AACnC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,IAAI,GAAG;AACT,IAAI,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC;AACnC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,CAAC,UAAU,EAAE;AACrB,IAAI,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC;AACnC,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,MAAM,CAAC,OAAO,EAAE;AAClB,IAAI,OAAO,EAAE;AACb,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,QAAQ,CAAC,CAAC,EAAE,OAAO,EAAE,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,cAAc,CAAC,CAAC,EAAE;AACpB;AACA;AACA,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,EAAC;AAClB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,GAAG,EAAE;AACd;;AC3FA,MAAM,eAAe,GAAG,GAAE;AAC1B,MAAM,YAAY,GAAG,GAAE;AACvB,MAAM,SAAS,GAAG,GAAE;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe,SAAS,YAAY,C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Cb;AACA,IAAI,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,GAAG,aAAa,CAAC,WAAW;AACpE,MAAM,2BAA2B;AACjC,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,MAAK;AACL;AACA,IAAI,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,GAAG,aAAa,CAAC,WAAW;AACtE,MAAM,6BAA6B;AACnC,MAAM,CAAC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,MAAK;AACL;AACA,IAAI,IAAI,CAAC,QAAQ,GAAE;AACnB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,oBAAoB,GAAG;AAChC,IAAI,MAAM,UAAU,GAAG,KAAK,CAAC,oBAAoB,GAAE;AACnD,IAAI,UAAU,CAAC,IAAI,CAAC;AACpB,MAAM,IAAI,EAAE,WAAW;AACvB,MAAM,YAAY,EAAE,IAAI,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;AAC5C,KAAK,EAAC;AACN,IAAI,UAAU,CAAC,IAAI,CAAC;AACpB,MAAM,IAAI,EAAE,oBAAoB;AAChC,MAAM,YAAY,EAAE,CAAC;AACrB,KAAK,EAAC;AACN,IAAI,OAAO,UAAU;AACrB,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,SAAS,GAAG;AACrB,IAAI,OAAO,IAAI;AACf,GAAG;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GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,OAAO,CAAC,KAAK,EAAE;AACjB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,YAAY,CAAC,KAAK,EAAE;AACtB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,KAAK,EAAE;AACrB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,UAAU,CAAC,KAAK,EAAE;AACpB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,aAAa,CAAC,KAAK,EAAE;AACvB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,KAAK,EAAE;AACrB;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,wBAAwB,CAAC,KAAK,EAAE;AAClC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,sBAAsB,CAAC,KAAK,EAAE;AAChC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,2BAA2B,CAAC,KAAK,EAAE;AACrC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,eAAe,CAAC,KAAK,EAAE;AACzB;AACA,GAAG;AACH;;ACpPK,MAAC,gBAAgB,GAAG;AACzB,EAAE,MAAM,EAAE,CAAC;AACX,EAAE,GAAG,EAAE,CAAC;AACR,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,QAAQ,SAAS,QAAQ,CAAC;AAChC;AACA;AACA;AACA;AACA;AACA,EAAE,WAAW,CAAC,OAAO,EAAE,iBAAiB,GAAG,gBAAgB,CAAC,MAAM,EAAE;AACpE,IAAI,KAAK,CAAC,OAAO,EAAC;AAClB,IAAI,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,iBAAiB,EAAC;AAC/C;AACA,IAAI,IAAI,CAAC,mBAAmB,GAAG,kBAAiB;AAChD,IAAI,IAAI,CAAC,aAAa,GAAG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"}