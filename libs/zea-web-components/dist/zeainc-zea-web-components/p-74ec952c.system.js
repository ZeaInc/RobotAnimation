System.register(["./p-6ab71ff6.system.js","./p-b5ce68f1.system.js","./p-b57bea02.system.js","./p-b2c87b45.system.js"],(function(e){"use strict";var o,t,r,i,n,s,c;return{setters:[function(e){o=e.r;t=e.h},function(e){r=e.u},function(e){i=e.N;n=e.y;s=e.I},function(e){c=e.i}],execute:function(){var a=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-param-widget-color{color:var(--color-foreground-1)}.color-sample{height:30px;line-height:30px;border:1px solid var(--color-foreground-1);margin-bottom:0.5em;text-align:center;font-size:0.8em}";var l=e("Z",function(){function e(e){o(this,e);this.colorPickerHeight=200}e.prototype.handlewindowResize=function(){var e=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout((function(){return e.resizeColorPicker()}),500)};e.prototype.resizeColorPicker=function(){this.colorPicker.resize(this.container.offsetWidth,this.colorPickerHeight)};e.prototype.componentDidLoad=function(){var e=this;this.setUpColorPicker();if(this.parameter){this.parameter.on("valueChanged",(function(o){e.onValueChange()}));this.onValueChange()}setTimeout((function(){return window.dispatchEvent(new Event("resize"))}),1e3)};e.prototype.onValueChange=function(){if(!this.change){this.undoing=true;this.colorPicker.color.rgb=this.parameter.getValue().getAsRGBDict();this.undoing=false;this.sampleColor=this.colorPicker.color.hslString;this.setSampleTextColor()}};e.prototype.setSampleTextColor=function(){var e=100-this.colorPicker.color.hsl.l;this.sampleTextColor="hsl(1, 0%, "+e+"%)"};e.prototype.setUpColorPicker=function(){var e=this;this.colorPicker=c.ColorPicker(this.colorPickerContainer,{width:this.container.offsetWidth,height:this.colorPickerHeight,anticlockwise:true,borderWidth:0,borderColor:"#fff",sliderHeight:"10px",padding:1,sliderMargin:4,handleRadius:4,layout:[{component:c.ui.Slider,options:{sliderType:"hue"}},{component:c.ui.Slider,options:{sliderType:"saturation"}},{component:c.ui.Slider,options:{}}]});this.colorPicker.on("input:start",(function(){e.change=new i(e.parameter);e.appData.undoRedoManager.addChange(e.change)}));this.colorPicker.on("input:end",(function(){e.change=undefined}));this.colorPicker.on("color:change",(function(){if(e.undoing)return;var o=new n;o.setFromRGBDict(e.colorPicker.color.rgb);e.sampleColor=e.colorPicker.color.hslString;e.setSampleTextColor();if(!e.change){e.change=new i(e.parameter,o);e.appData.undoRedoManager.addChange(e.change)}else{e.change.update({value:o})}}))};e.prototype.render=function(){var e=this;return t("div",{ref:function(o){return e.container=o},class:"zea-param-widget-color"},t("div",{style:{color:this.sampleTextColor,backgroundColor:this.sampleColor},class:"color-sample"},this.sampleColor),t("div",{ref:function(o){return e.colorPickerContainer=o},class:"color-picker"}))};return e}());r.registerWidget("zea-param-widget-color",(function(e){return e.constructor.name==s.name}));l.style=a}}}));