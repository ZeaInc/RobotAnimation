import{r as t,h as i}from"./p-da09bae5.js";import{u as e}from"./p-c2a9f8c6.js";import{S as s,N as n,d as a}from"./p-bfe34d1c.js";const r=class{constructor(i){t(this,i),this.settingValue=!1,this.onInput=this.onInput.bind(this),this.onChange=this.onChange.bind(this)}componentDidLoad(){this.parameter&&(this.setUpInputs(),this.updateDisplayedValue())}updateDisplayedValue(){if(!this.settingValue){const t=this.parameter.getValue();this.trxField.value=""+this.round(t.tr.x),this.tryField.value=""+this.round(t.tr.y),this.trzField.value=""+this.round(t.tr.z),this.orxField.value=""+this.round(t.ori.x),this.oryField.value=""+this.round(t.ori.y),this.orzField.value=""+this.round(t.ori.z),this.orwField.value=""+this.round(t.ori.w),this.scxField.value=""+this.round(t.sc.x),this.scyField.value=""+this.round(t.sc.y),this.sczField.value=""+this.round(t.sc.z)}}setUpInputs(){this.parameter.on("valueChanged",()=>{this.updateDisplayedValue()})}onInput(){this.settingValue=!0;const t=new s;t.tr.set(this.trxField.valueAsNumber,this.tryField.valueAsNumber,this.trzField.valueAsNumber),t.ori.set(this.orxField.valueAsNumber,this.oryField.valueAsNumber,this.orzField.valueAsNumber,this.orwField.valueAsNumber),t.ori.normalizeInPlace(),t.sc.set(this.scxField.valueAsNumber,this.scyField.valueAsNumber,this.sczField.valueAsNumber),this.change?this.change.update({value:t}):(this.change=new n(this.parameter,t),this.appData.undoRedoManager.addChange(this.change))}onChange(){this.onInput(),this.settingValue=!1,this.change=void 0}round(t,i=6){return Math.abs(t)<Number("1e-6")?0:Number(Math.round(Number(t+"e"+i))+"e-"+i)}render(){return i("div",{class:"zea-param-widget-xfo",ref:t=>this.widgetContainer=t},i("fieldset",null,i("legend",null,"Translation"),i("div",{class:"input-wrap"},i("label",null,"X"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.trxField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Y"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.tryField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Z"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.trzField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"}))),i("fieldset",null,i("legend",null,"Rotation"),i("div",{class:"input-wrap"},i("label",null,"X"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.orxField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Y"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.oryField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Z"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.orzField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"W"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.orwField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"}))),i("fieldset",null,i("legend",null,"Scale"),i("div",{class:"input-wrap"},i("label",null,"X"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.scxField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Y"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.scyField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"})),i("div",{class:"input-wrap"},i("label",null,"Z"),i("input",{onInput:this.onInput,onChange:this.onChange,ref:t=>this.sczField=t,id:this.parameter.getName(),type:"number",pattern:"-?[0-9]*(.[0-9]+)?",tabindex:"0"}))))}};e.registerWidget("zea-param-widget-xfo",t=>t.constructor.name==a.name),r.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-param-widget-xfo{color:var(--color-foreground-1);background-color:var(--color-background-2);max-width:400px}.zea-param-widget-xfo input{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;color:var(--color-foreground-1);background-color:var(--color-background-3)}.user-edited{-webkit-box-shadow:0 0 8px var(--color-success-1);box-shadow:0 0 8px var(--color-success-1);margin:0px}.input-wrap{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;margin-bottom:0.5em}.input-wrap label{font-size:0.7em;padding:0.3em 1em 0.3em 0.3em;opacity:0.5;width:1.5em;text-align:center}input[type='number']{padding:0.3em;font-size:0.9em;border:1px solid var(--color-grey-3);text-align:right}fieldset{border:1px solid var(--color-grey-3)}legend{color:var(--color-foreground-2);font-size:0.8em}";export{r as Z}