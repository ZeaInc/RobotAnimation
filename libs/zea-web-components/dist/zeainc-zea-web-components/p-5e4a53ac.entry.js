import{r as t,h as e,d as i,c as o}from"./p-da09bae5.js";const s=class{constructor(e){t(this,e),this.shown=!1}dialogCloseHandler(t){t.detail==this.dialog&&(this.shown=!1)}render(){return e("zea-dialog",{ref:t=>this.dialog=t,width:"fit-content",class:"share-dialog",shown:this.shown},e("div",{slot:"title"},"Share"),e("div",{slot:"body"},e("div",{class:"scrollpane-container"},e("zea-scroll-pane",null,e("zea-tabs",{orientation:"horizontal",density:"small"},e("div",{slot:"tab-bar"},"Share Link"),e("div",null,e("zea-qr-code",{scale:4}),e("zea-copy-link",null)),e("div",{slot:"tab-bar"},"Send SMS"),e("div",null,"Tab Content 2"),e("div",{slot:"tab-bar"},"Send Email"),e("div",null,"Tab Content 3"))))))}};s.style=".zea-dialog-share{color:var(--color-freground-1)}.scrollpane-container{width:100%;height:100%;padding:10px;-webkit-box-sizing:border-box;box-sizing:border-box}";const r=class{constructor(e){t(this,e),this.placeholder=""}toggleSearchBox(){this.mainContainer.classList.toggle("active"),this.mainInput.focus()}render(){return e("div",{class:"zea-input-search",ref:t=>{this.mainContainer=t}},e("span",{class:"zea-input-search-icon",onClick:()=>{this.toggleSearchBox()}},e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 24 24"},e("path",{class:"icon",d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),e("path",{d:"M0 0h24v24H0z",fill:"none"}))),e("span",{class:"zea-input-search-text-container"},e("input",{ref:t=>{this.mainInput=t},onBlur:()=>{this.mainContainer.classList.remove("active")},onKeyDown:t=>{t.stopPropagation()},onKeyUp:t=>{t.stopPropagation()},class:"zea-input-search-text",type:"text",placeholder:this.placeholder})))}get mainElement(){return i(this)}};r.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-input-search{color:var(--color-foreground-1);display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;width:2em;border-radius:3px;-webkit-transition:all 0.5s;transition:all 0.5s;background-color:transparent;border:1px solid transparent}path.icon{fill:var(--color-foreground-1)}.zea-input-search.active{width:100%;border:1px solid var(--color-grey-3);background-color:var(--color-background-1)}.zea-input-search-icon{height:2em;width:2em;display:inline-block;vertical-align:middle;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0.2em;-ms-flex-positive:0;flex-grow:0;-ms-flex-negative:0;flex-shrink:0}.zea-input-search-icon:hover{background-color:var(--color-primary-3);color:var(--color-button-text-1)}.zea-input-search.active .zea-input-search-icon:hover{background-color:var(--color-background-1)}input{display:block;height:100%;width:100%;border:none;background-color:transparent;outline:none;font-size:1em;color:var(--color-foreground-1)}.zea-input-search-text-container{height:2em;-ms-flex-positive:1;flex-grow:1;opacity:0;-webkit-transition:all 0.5s;transition:all 0.5s}.zea-input-search.active .zea-input-search-text-container{opacity:1}";const a=class{constructor(e){t(this,e),this.cellCount=3,this.orientation="horizontal",this.resizeCellA=!0,this.resizeCellC=!0,this.cellASize=100,this.cellCSize=100,this.resizeInterval=50,this.showBorders=!0,this.error="",this.minimumGap=20,this.maximunGap=50}handleMouseDown(t){this.activeHandle=t.target,document.getElementsByTagName("body")[0].style.cursor="vertical"===this.orientation?"row-resize":"col-resize",document.getElementsByTagName("body")[0].style.userSelect="none"}onMouseUp(){this.handleMouseUp()}onTouchEnd(){this.handleMouseUp()}handleMouseUp(){this.activeHandle=null,document.getElementsByTagName("body")[0].style.cursor="default",document.getElementsByTagName("body")[0].style.userSelect="initial"}onMouseMove(t){this.handleMouseMove.call(this,t)}onTouchMove(t){this.handleMouseMove.call(this,t)}handleMouseMove(t){if(this.activeHandle){const e=this.activeHandle.classList.contains("zea-handle-a");this.processDrag(t,"vertical"===this.orientation?"Y":"X",e?"a":"c")}}processDrag(t,e,i){const o=this.activeHandle,s=o.parentElement,r=s.getBoundingClientRect(),a=o.getBoundingClientRect(),n="X"==e?"left":"top",l="X"==e?"width":"height",h=this.cellB.getBoundingClientRect()[l];let c;c=t.touches?a[n]-t.touches[0]["page"+e]:a[n]-t["client"+e],c="a"==i?-c:c;let d=r[l]+c;s.style[l]=d+"px",d<this.minimumGap&&(d=this.minimumGap);const p=r[l]+h-this.minimumGap;d>p&&(d=p),this["a"==i?"cellASize":"cellCSize"]=d,s.style[l]=d+"px",this.triggerResize(d)}triggerResize(t){window.dispatchEvent(new CustomEvent("resize",{bubbles:!0,detail:t}))}layout(){let t,e;"vertical"===this.orientation?(t="height",e=this.layoutContainer.clientHeight):(t="width",e=this.layoutContainer.clientWidth);const i=e-this.cellASize-this.cellCSize;this.cellB.style[t]=i>=0?i+"px":"1px",this.cellA.style[t]=this.cellASize+"px",this.cellC.style[t]=this.cellCSize+"px"}componentDidLoad(){this.mainElement.addEventListener("dragstart",t=>{t.preventDefault(),t.stopPropagation()}),window.addEventListener("resize",()=>{this.layout()})}componentDidRender(){this.layout()}render(){const t={},i={};this.cellASize||(this.resizeCellA=!1),this.cellCSize||(this.resizeCellC=!1),void 0!==this.cellASize&&("vertical"===this.orientation?t.height=this.cellASize+"px":t.width=this.cellASize+"px"),void 0!==this.cellCSize&&("vertical"===this.orientation?i.height=this.cellCSize+"px":i.width=this.cellCSize+"px");const o=e("div",{class:"zea-layout-cell cell-a",style:t,ref:t=>this.cellA=t},this.resizeCellA&&e("div",{class:"zea-resize-handle zea-handle-a",onMouseDown:this.handleMouseDown.bind(this),onTouchStart:this.handleMouseDown.bind(this)}),e("slot",{name:"a"})),s=e("div",{class:"zea-layout-cell cell-b",ref:t=>this.cellB=t},e("slot",{name:"b"})),r=this.cellCount>2&&e("div",{class:"zea-layout-cell cell-c",style:i,ref:t=>this.cellC=t},this.resizeCellC&&e("div",{class:"zea-resize-handle zea-handle-c",onMouseDown:this.handleMouseDown.bind(this),onTouchStart:this.handleMouseDown.bind(this)}),e("slot",{name:"c"}));return e("div",{ref:t=>this.layoutContainer=t,class:`zea-layout ${this.orientation} ${this.showBorders?"with-borders":""}`},this.error||[o,s,r])}get mainElement(){return i(this)}};a.style=":host{height:100%}:host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-layout{color:var(--color-foreground-1);display:-ms-flexbox;display:flex;width:100%;height:100%}.zea-layout.vertical{-ms-flex-direction:column;flex-direction:column}.zea-layout-cell{-ms-flex-positive:1;flex-grow:1;position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:var(--color-background-1);width:100%;height:100%}.with-borders .zea-layout-cell{border:1px solid var(--color-grey-1)}.zea-layout-cell:nth-child(1){-ms-flex-positive:0;flex-grow:0;width:100px;height:auto}.zea-layout-cell:nth-child(3){-ms-flex-positive:0;flex-grow:0;width:100px;height:auto}.vertical .zea-layout-cell:nth-child(1){-ms-flex-positive:0;flex-grow:0;height:100px;width:auto}.vertical .zea-layout-cell:nth-child(3){-ms-flex-positive:0;flex-grow:0;height:100px;width:auto}.zea-resize-handle{position:absolute;display:block;content:'';width:6px;height:100%;background-color:transparent;background-repeat:no-repeat;background-position:center center;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAXCAYAAAAoRj52AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEFJREFUeNpinDRp0v+XL18yLF26lFFMTIwhJiYGzGf6/fs3w58/fxhgAMZnYsABRiWGrwQLCwsDMzMzXADGBwgwAF78GJLqRabNAAAAAElFTkSuQmCC);z-index:1000000;top:0;opacity:0.5;cursor:col-resize}.zea-resize-handle:hover{background-color:var(--color-background-2);opacity:1}.vertical .zea-resize-handle{left:0 !important;right:0 !important;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAGCAYAAAAooAWeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAD1JREFUeNpinDhx4v8/f/4wUBuwsrIysLx8+ZLh79+/VDechYWFgVFBQYGBVoBFTEyMdoZHR0cPzTAHCDAAG7UW+bsxwNcAAAAASUVORK5CYII=')}.zea-layout-cell:nth-child(1) .zea-resize-handle{right:-1px}.zea-layout-cell:nth-child(3) .zea-resize-handle{left:-1px}.vertical .zea-resize-handle{position:absolute;width:100%;height:6px;cursor:row-resize;margin-left:0;left:0;background-repeat:no-repeat}.vertical .zea-layout-cell:nth-child(1) .zea-resize-handle{bottom:-1px;top:auto}.vertical .zea-layout-cell:nth-child(3) .zea-resize-handle{top:-1px}";const n=class{constructor(e){t(this,e),this.shown=!1,this.navDrawerOpen=o(this,"navDrawerOpen",7),this.navDrawerClosed=o(this,"navDrawerClosed",7)}handleClick(t){t.composedPath().includes(this.container)&&t.composedPath().includes(this.toggleButton)||(this.shown=!1,this.navDrawerClosed.emit(this))}onToggleClick(){this.shown=!this.shown,this.shown?this.navDrawerOpen.emit(this):this.navDrawerClosed.emit(this)}render(){return e("div",{ref:t=>this.container=t,class:{"zea-navigation-drawer":!0,shown:this.shown}},e("div",{class:"drawer"},e("div",{class:"drawer-content"},e("slot",null))),e("div",{class:"toggle",ref:t=>this.toggleButton=t,onClick:this.onToggleClick.bind(this)},e("zea-icon",{size:30,name:"menu"})))}};n.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-navigation-drawer{color:var(--color-foreground-1);display:inline-block;vertical-align:middle}.drawer{position:fixed;top:0;left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%);width:192px;height:100vh;background-color:var(--color-background-1);z-index:10000000;-webkit-transition:-webkit-transform 0.3s;transition:-webkit-transform 0.3s;transition:transform 0.3s;transition:transform 0.3s, -webkit-transform 0.3s;-webkit-transition-timing-function:ease-out;transition-timing-function:ease-out}.shown .drawer{left:0;-webkit-transform:translateX(0);transform:translateX(0)}.toggle{position:relative;z-index:10000010;margin-right:12px;margin-left:7px;background-color:transparent;border-radius:50%;padding:4px;display:inline-block}.toggle:hover{background-color:var(--color-grey-3)}.drawer-content{padding-top:80px;padding-left:9px;font-size:14px}@media only screen and (max-width: 667px){.drawer{width:80%}}";const l=class{constructor(e){t(this,e)}render(){return e("div",{class:"zea-panel-progress-bar"},e("zea-dialog",{shown:!0,allowClose:!1,showTitle:!1,fullScreenMobile:!1,width:"300px"},e("div",{slot:"body"},e("slot",null),e("zea-progress-bar",{ref:t=>this.progressBar=t,type:"indeterminate"}))))}};l.style=".zea-panel-progress-bar{color:var(--color-freground-1);position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--color-shadow);display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}";const h=class{constructor(e){t(this,e),this.showImages=!0,this.initialZIndex=1e3,this.overflowLimit=5,this.overflowShown=!1,this.shownOverflowEntry=null}sessionChanged(){this.setupSession()}componentWillLoad(){setTimeout(()=>{this.setupSession()},500)}setupSession(){if(this.session&&"sub"in this.session){const t=[];for(let e in this.session.users)this.session.users.hasOwnProperty(e)&&t.push(this.session.users[e]);this.userDatas=t,this.session.sub("user-joined",t=>{this.userDatas.find(e=>e.id==t.id)||(this.userDatas=[t,...this.userDatas])}),this.session.sub("user-left",t=>{const e=this.userDatas.findIndex(e=>e.id==t.id);if(-1==e)return void console.warn("User id not in session:",t.id);const i=[...this.userDatas];i.splice(e,1),this.userDatas=i}),this.session.sub("userChanged",t=>{this.session.users[t.id]=t;const e=[];for(let i in this.session.users)this.session.users.hasOwnProperty(i)&&e.push(this.session.users[i]);this.userDatas=e})}else this.userDatas=[]}onChipClick(t){t.stopPropagation()}render(){if(!this.userDatas)return;const t=this.userDatas.slice(0,this.overflowLimit),i=this.userDatas.slice(this.overflowLimit);return e("div",{class:"zea-chip-set"},t&&t.map(t=>e("zea-user-chip",{showImages:this.showImages,key:t.id,userData:t,onClick:this.onChipClick.bind(this)})),i.length>0&&e("div",{class:"overflow"},e("div",{class:"overflow-thumb",onClick:t=>{this.overflowShown=!this.overflowShown,t.stopPropagation()}},["+"+(this.userDatas.length-this.overflowLimit),!this.overflowShown&&e("div",{class:"overflow-tooltip"},"Show All")]),e("div",{class:{"overflow-list":!0,shown:this.overflowShown}},i.map(t=>e("div",{key:t.id,class:{"overflow-entry":!0,shown:this.shownOverflowEntry==t.id}},e("div",{class:"overflow-entry-collapser",onClick:e=>{this.shownOverflowEntry=this.shownOverflowEntry==t.id?null:t.id,e.currentTarget.scrollIntoView()}},e("zea-icon",{name:this.shownOverflowEntry==t.id?"chevron-up-outline":"chevron-down-outline",size:14})),e("zea-user-card",{userData:t,collapsible:!1,density:this.shownOverflowEntry==t.id?"normal":"small"}))))))}static get watchers(){return{session:["sessionChanged"]}}};h.style=":host,input,button,select,textarea{font-family:'Roboto', sans-serif}.zea-chip-set{color:var(--color-foreground-1);display:-ms-flexbox;display:flex;position:relative}zea-user-chip{margin-left:-8px;width:36px;height:36px;border:1px solid transparent;border-radius:19px}.overflow-thumb{border:2px solid var(--color-background-3);background-color:var(--color-background-3);width:36px;height:36px;color:var(--color-foreground-2);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;font-size:13px;margin-left:-8px;border-radius:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.overflow-tooltip{position:absolute;top:35px;padding:4px 7px;border-radius:4px;font-size:12px;color:var(--color-foreground-1);background-color:var(--color-grey-3);z-index:10000;white-space:nowrap;display:none}.overflow-thumb:hover .overflow-tooltip{display:block}.overflow-list{max-height:calc(100vh - 60px);width:-webkit-min-content;width:-moz-min-content;width:min-content;overflow-y:auto;background-color:var(--color-background-2);display:none}.overflow-list.shown{display:block;position:absolute}.overflow-list zea-user-card{display:block;}.overflow-entry{display:-ms-flexbox;display:flex;-ms-flex-align:stretch;align-items:stretch}.overflow-entry-collapser{padding-left:8px;padding-top:14px;padding-right:8px}";export{s as zea_dialog_share,r as zea_input_search,a as zea_layout,n as zea_navigation_drawer,l as zea_panel_progress_bar,h as zea_user_chip_set}